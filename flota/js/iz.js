;
window.Modernizr = function(a, b, c) {
    function I() {
        e.input = function(a) {
            for (var b = 0, c = a.length; b < c; b++)
                t[a[b]] = a[b] in l;
            return t
        }("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")), e.inputtypes = function(a) {
            for (var d = 0, e, f, h, i = a.length; d < i; d++)
                l.setAttribute("type", f = a[d]), e = l.type !== "text", e && (l.value = m, l.style.cssText = "position:absolute;visibility:hidden;", /^range$/.test(f) && l.style.WebkitAppearance !== c ? (g.appendChild(l), h = b.defaultView, e = h.getComputedStyle && h.getComputedStyle(l, null).WebkitAppearance !== "textfield" && l.offsetHeight !== 0, g.removeChild(l)) : /^(search|tel)$/.test(f) || (/^(url|email)$/.test(f) ? e = l.checkValidity && l.checkValidity() === !1 : /^color$/.test(f) ? (g.appendChild(l), g.offsetWidth, e = l.value != m, g.removeChild(l)) : e = l.value != m)), s[a[d]] = !!e;
            return s
        }("search tel url email datetime date month week time datetime-local number range color".split(" "))
    }
    function G(a, b) {
        var c = a.charAt(0).toUpperCase() + a.substr(1), d = (a + " " + p.join(c + " ") + c).split(" ");
        return F(d, b)
    }
    function F(a, b) {
        for (var d in a)
            if (k[a[d]] !== c)
                return b == "pfx" ? a[d] : !0;
        return !1
    }
    function E(a, b) {
        return !!~("" + a).indexOf(b)
    }
    function D(a, b) {
        return typeof a === b
    }
    function C(a, b) {
        return B(o.join(a + ";") + (b || ""))
    }
    function B(a) {
        k.cssText = a
    }
    var d = "2.0.6", e = {}, f = !0, g = b.documentElement, h = b.head || b.getElementsByTagName("head")[0], i = "modernizr", j = b.createElement(i), k = j.style, l = b.createElement("input"), m = ":)", n = Object.prototype.toString, o = " -webkit- -moz- -o- -ms- -khtml- ".split(" "), p = "Webkit Moz O ms Khtml".split(" "), q = {svg: "http://www.w3.org/2000/svg"}, r = {}, s = {}, t = {}, u = [], v = function(a, c, d, e) {
        var f, h, j, k = b.createElement("div");
        if (parseInt(d, 10))
            while (d--)
                j = b.createElement("div"), j.id = e ? e[d] : i + (d + 1), k.appendChild(j);
        f = ["&shy;", "<style>", a, "</style>"].join(""), k.id = i, k.innerHTML += f, g.appendChild(k), h = c(k, a), k.parentNode.removeChild(k);
        return !!h
    }, w = function(b) {
        if (a.matchMedia)
            return matchMedia(b).matches;
        var c;
        v("@media " + b + " { #" + i + " { position: absolute; } }", function(b) {
            c = (a.getComputedStyle ? getComputedStyle(b, null) : b.currentStyle).position == "absolute"
        });
        return c
    }, x = function() {
        function d(d, e) {
            e = e || b.createElement(a[d] || "div"), d = "on" + d;
            var f = d in e;
            f || (e.setAttribute || (e = b.createElement("div")), e.setAttribute && e.removeAttribute && (e.setAttribute(d, ""), f = D(e[d], "function"), D(e[d], c) || (e[d] = c), e.removeAttribute(d))), e = null;
            return f
        }
        var a = {select: "input",change: "input",submit: "form",reset: "form",error: "img",load: "img",abort: "img"};
        return d
    }(), y, z = {}.hasOwnProperty, A;
    !D(z, c) && !D(z.call, c) ? A = function(a, b) {
        return z.call(a, b)
    } : A = function(a, b) {
        return b in a && D(a.constructor.prototype[b], c)
    };
    var H = function(c, d) {
        var f = c.join(""), g = d.length;
        v(f, function(c, d) {
            var f = b.styleSheets[b.styleSheets.length - 1], h = f.cssRules && f.cssRules[0] ? f.cssRules[0].cssText : f.cssText || "", i = c.childNodes, j = {};
            while (g--)
                j[i[g].id] = i[g];
            e.touch = "ontouchstart" in a || j.touch.offsetTop === 9, e.csstransforms3d = j.csstransforms3d.offsetLeft === 9, e.generatedcontent = j.generatedcontent.offsetHeight >= 1, e.fontface = /src/i.test(h) && h.indexOf(d.split(" ")[0]) === 0
        }, g, d)
    }(['@font-face {font-family:"font";src:url("https://")}', ["@media (", o.join("touch-enabled),("), i, ")", "{#touch{top:9px;position:absolute}}"].join(""), ["@media (", o.join("transform-3d),("), i, ")", "{#csstransforms3d{left:9px;position:absolute}}"].join(""), ['#generatedcontent:after{content:"', m, '";visibility:hidden}'].join("")], ["fontface", "touch", "csstransforms3d", "generatedcontent"]);
    r.flexbox = function() {
        function c(a, b, c, d) {
            a.style.cssText = o.join(b + ":" + c + ";") + (d || "")
        }
        function a(a, b, c, d) {
            b += ":", a.style.cssText = (b + o.join(c + ";" + b)).slice(0, -b.length) + (d || "")
        }
        var d = b.createElement("div"), e = b.createElement("div");
        a(d, "display", "box", "width:42px;padding:0;"), c(e, "box-flex", "1", "width:10px;"), d.appendChild(e), g.appendChild(d);
        var f = e.offsetWidth === 42;
        d.removeChild(e), g.removeChild(d);
        return f
    }, r.canvas = function() {
        var a = b.createElement("canvas");
        return !!a.getContext && !!a.getContext("2d")
    }, r.canvastext = function() {
        return !!e.canvas && !!D(b.createElement("canvas").getContext("2d").fillText, "function")
    }, r.webgl = function() {
        return !!a.WebGLRenderingContext
    }, r.touch = function() {
        return e.touch
    }, r.geolocation = function() {
        return !!navigator.geolocation
    }, r.postmessage = function() {
        return !!a.postMessage
    }, r.websqldatabase = function() {
        var b = !!a.openDatabase;
        return b
    }, r.indexedDB = function() {
        for (var b = -1, c = p.length; ++b < c; )
            if (a[p[b].toLowerCase() + "IndexedDB"])
                return !0;
        return !!a.indexedDB
    }, r.hashchange = function() {
        return x("hashchange", a) && (b.documentMode === c || b.documentMode > 7)
    }, r.history = function() {
        return !!a.history && !!history.pushState
    }, r.draganddrop = function() {
        return x("dragstart") && x("drop")
    }, r.websockets = function() {
        for (var b = -1, c = p.length; ++b < c; )
            if (a[p[b] + "WebSocket"])
                return !0;
        return "WebSocket" in a
    }, r.rgba = function() {
        B("background-color:rgba(150,255,150,.5)");
        return E(k.backgroundColor, "rgba")
    }, r.hsla = function() {
        B("background-color:hsla(120,40%,100%,.5)");
        return E(k.backgroundColor, "rgba") || E(k.backgroundColor, "hsla")
    }, r.multiplebgs = function() {
        B("background:url(https://),url(https://),red url(https://)");
        return /(url\s*\(.*?){3}/.test(k.background)
    }, r.backgroundsize = function() {
        return G("backgroundSize")
    }, r.borderimage = function() {
        return G("borderImage")
    }, r.borderradius = function() {
        return G("borderRadius")
    }, r.boxshadow = function() {
        return G("boxShadow")
    }, r.textshadow = function() {
        return b.createElement("div").style.textShadow === ""
    }, r.opacity = function() {
        C("opacity:.55");
        return /^0.55$/.test(k.opacity)
    }, r.cssanimations = function() {
        return G("animationName")
    }, r.csscolumns = function() {
        return G("columnCount")
    }, r.cssgradients = function() {
        var a = "background-image:", b = "gradient(linear,left top,right bottom,from(#9f9),to(white));", c = "linear-gradient(left top,#9f9, white);";
        B((a + o.join(b + a) + o.join(c + a)).slice(0, -a.length));
        return E(k.backgroundImage, "gradient")
    }, r.cssreflections = function() {
        return G("boxReflect")
    }, r.csstransforms = function() {
        return !!F(["transformProperty", "WebkitTransform", "MozTransform", "OTransform", "msTransform"])
    }, r.csstransforms3d = function() {
        var a = !!F(["perspectiveProperty", "WebkitPerspective", "MozPerspective", "OPerspective", "msPerspective"]);
        a && "webkitPerspective" in g.style && (a = e.csstransforms3d);
        return a
    }, r.csstransitions = function() {
        return G("transitionProperty")
    }, r.fontface = function() {
        return e.fontface
    }, r.generatedcontent = function() {
        return e.generatedcontent
    }, r.video = function() {
        var a = b.createElement("video"), c = !1;
        try {
            if (c = !!a.canPlayType) {
                c = new Boolean(c), c.ogg = a.canPlayType('video/ogg; codecs="theora"');
                var d = 'video/mp4; codecs="avc1.42E01E';
                c.h264 = a.canPlayType(d + '"') || a.canPlayType(d + ', mp4a.40.2"'), c.webm = a.canPlayType('video/webm; codecs="vp8, vorbis"')
            }
        } catch (e) {
        }
        return c
    }, r.audio = function() {
        var a = b.createElement("audio"), c = !1;
        try {
            if (c = !!a.canPlayType)
                c = new Boolean(c), c.ogg = a.canPlayType('audio/ogg; codecs="vorbis"'), c.mp3 = a.canPlayType("audio/mpeg;"), c.wav = a.canPlayType('audio/wav; codecs="1"'), c.m4a = a.canPlayType("audio/x-m4a;") || a.canPlayType("audio/aac;")
        } catch (d) {
        }
        return c
    }, r.localstorage = function() {
        try {
            return !!localStorage.getItem
        } catch (a) {
            return !1
        }
    }, r.sessionstorage = function() {
        try {
            return !!sessionStorage.getItem
        } catch (a) {
            return !1
        }
    }, r.webworkers = function() {
        return !!a.Worker
    }, r.applicationcache = function() {
        return !!a.applicationCache
    }, r.svg = function() {
        return !!b.createElementNS && !!b.createElementNS(q.svg, "svg").createSVGRect
    }, r.inlinesvg = function() {
        var a = b.createElement("div");
        a.innerHTML = "<svg/>";
        return (a.firstChild && a.firstChild.namespaceURI) == q.svg
    }, r.smil = function() {
        return !!b.createElementNS && /SVG/.test(n.call(b.createElementNS(q.svg, "animate")))
    }, r.svgclippaths = function() {
        return !!b.createElementNS && /SVG/.test(n.call(b.createElementNS(q.svg, "clipPath")))
    };
    for (var J in r)
        A(r, J) && (y = J.toLowerCase(), e[y] = r[J](), u.push((e[y] ? "" : "no-") + y));
    e.input || I(), e.addTest = function(a, b) {
        if (typeof a == "object")
            for (var d in a)
                A(a, d) && e.addTest(d, a[d]);
        else {
            a = a.toLowerCase();
            if (e[a] !== c)
                return;
            b = typeof b == "boolean" ? b : !!b(), g.className += " " + (b ? "" : "no-") + a, e[a] = b
        }
        return e
    }, B(""), j = l = null, a.attachEvent && function() {
        var a = b.createElement("div");
        a.innerHTML = "<elem></elem>";
        return a.childNodes.length !== 1
    }() && function(a, b) {
        function s(a) {
            var b = -1;
            while (++b < g)
                a.createElement(f[b])
        }
        a.iepp = a.iepp || {};
        var d = a.iepp, e = d.html5elements || "abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video", f = e.split("|"), g = f.length, h = new RegExp("(^|\\s)(" + e + ")", "gi"), i = new RegExp("<(/*)(" + e + ")", "gi"), j = /^\s*[\{\}]\s*$/, k = new RegExp("(^|[^\\n]*?\\s)(" + e + ")([^\\n]*)({[\\n\\w\\W]*?})", "gi"), l = b.createDocumentFragment(), m = b.documentElement, n = m.firstChild, o = b.createElement("body"), p = b.createElement("style"), q = /print|all/, r;
        d.getCSS = function(a, b) {
            if (a + "" === c)
                return "";
            var e = -1, f = a.length, g, h = [];
            while (++e < f) {
                g = a[e];
                if (g.disabled)
                    continue;
                b = g.media || b, q.test(b) && h.push(d.getCSS(g.imports, b), g.cssText), b = "all"
            }
            return h.join("")
        }, d.parseCSS = function(a) {
            var b = [], c;
            while ((c = k.exec(a)) != null)
                b.push(((j.exec(c[1]) ? "\n" : c[1]) + c[2] + c[3]).replace(h, "$1.iepp_$2") + c[4]);
            return b.join("\n")
        }, d.writeHTML = function() {
            var a = -1;
            r = r || b.body;
            while (++a < g) {
                var c = b.getElementsByTagName(f[a]), d = c.length, e = -1;
                while (++e < d)
                    c[e].className.indexOf("iepp_") < 0 && (c[e].className += " iepp_" + f[a])
            }
            l.appendChild(r), m.appendChild(o), o.className = r.className, o.id = r.id, o.innerHTML = r.innerHTML.replace(i, "<$1font")
        }, d._beforePrint = function() {
            p.styleSheet.cssText = d.parseCSS(d.getCSS(b.styleSheets, "all")), d.writeHTML()
        }, d.restoreHTML = function() {
            o.innerHTML = "", m.removeChild(o), m.appendChild(r)
        }, d._afterPrint = function() {
            d.restoreHTML(), p.styleSheet.cssText = ""
        }, s(b), s(l);
        d.disablePP || (n.insertBefore(p, n.firstChild), p.media = "print", p.className = "iepp-printshim", a.attachEvent("onbeforeprint", d._beforePrint), a.attachEvent("onafterprint", d._afterPrint))
    }(a, b), e._version = d, e._prefixes = o, e._domPrefixes = p, e.mq = w, e.hasEvent = x, e.testProp = function(a) {
        return F([a])
    }, e.testAllProps = G, e.testStyles = v, e.prefixed = function(a) {
        return G(a, "pfx")
    }, g.className = g.className.replace(/\bno-js\b/, "") + (f ? " js " + u.join(" ") : "");
    return e
}(this, this.document), function(a, b) {
    function u() {
        r(!0)
    }
    a.respond = {}, respond.update = function() {
    }, respond.mediaQueriesSupported = b;
    if (!b) {
        var c = a.document, d = c.documentElement, e = [], f = [], g = [], h = {}, i = 30, j = c.getElementsByTagName("head")[0] || d, k = j.getElementsByTagName("link"), l = [], m = function() {
            var b = k, c = b.length, d = 0, e, f, g, i;
            for (; d < c; d++)
                e = b[d], f = e.href, g = e.media, i = e.rel && e.rel.toLowerCase() === "stylesheet", !!f && i && !h[f] && (!/^([a-zA-Z]+?:(\/\/)?(www\.)?)/.test(f) || f.replace(RegExp.$1, "").split("/")[0] === a.location.host ? l.push({href: f,media: g}) : h[f] = !0);
            n()
        }, n = function() {
            if (l.length) {
                var a = l.shift();
                s(a.href, function(b) {
                    o(b, a.href, a.media), h[a.href] = !0, n()
                })
            }
        }, o = function(a, b, c) {
            var d = a.match(/@media[^\{]+\{([^\{\}]+\{[^\}\{]+\})+/gi), g = d && d.length || 0, b = b.substring(0, b.lastIndexOf("/")), h = function(a) {
                return a.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g, "$1" + b + "$2$3")
            }, i = !g && c, j = 0, k, l, m, n, o;
            b.length && (b += "/"), i && (g = 1);
            for (; j < g; j++) {
                k = 0, i ? (l = c, f.push(h(a))) : (l = d[j].match(/@media ([^\{]+)\{([\S\s]+?)$/) && RegExp.$1, f.push(RegExp.$2 && h(RegExp.$2))), n = l.split(","), o = n.length;
                for (; k < o; k++)
                    m = n[k], e.push({media: m.match(/(only\s+)?([a-zA-Z]+)(\sand)?/) && RegExp.$2,rules: f.length - 1,minw: m.match(/\(min\-width:[\s]*([\s]*[0-9]+)px[\s]*\)/) && parseFloat(RegExp.$1),maxw: m.match(/\(max\-width:[\s]*([\s]*[0-9]+)px[\s]*\)/) && parseFloat(RegExp.$1)})
            }
            r()
        }, p, q, r = function(a) {
            var b = "clientWidth", h = d[b], l = c.compatMode === "CSS1Compat" && h || c.body[b] || h, m = {}, n = c.createDocumentFragment(), o = k[k.length - 1], s = (new Date).getTime();
            if (a && p && s - p < i)
                clearTimeout(q), q = setTimeout(r, i);
            else {
                p = s;
                for (var t in e) {
                    var u = e[t];
                    if (!u.minw && !u.maxw || (!u.minw || u.minw && l >= u.minw) && (!u.maxw || u.maxw && l <= u.maxw))
                        m[u.media] || (m[u.media] = []), m[u.media].push(f[u.rules])
                }
                for (var t in g)
                    g[t] && g[t].parentNode === j && j.removeChild(g[t]);
                for (var t in m) {
                    var v = c.createElement("style"), w = m[t].join("\n");
                    v.type = "text/css", v.media = t, v.styleSheet ? v.styleSheet.cssText = w : v.appendChild(c.createTextNode(w)), n.appendChild(v), g.push(v)
                }
                j.insertBefore(n, o.nextSibling)
            }
        }, s = function(a, b) {
            var c = t();
            if (!!c) {
                c.open("GET", a, !0), c.onreadystatechange = function() {
                    c.readyState == 4 && (c.status == 200 || c.status == 304) && b(c.responseText)
                };
                if (c.readyState == 4)
                    return;
                c.send()
            }
        }, t = function() {
            var a = !1, b = [function() {
                    return new ActiveXObject("Microsoft.XMLHTTP")
                }, function() {
                    return new XMLHttpRequest
                }], c = b.length;
            while (c--) {
                try {
                    a = b[c]()
                } catch (d) {
                    continue
                }
                break
            }
            return function() {
                return a
            }
        }();
        m(), respond.update = m, a.addEventListener ? a.addEventListener("resize", u, !1) : a.attachEvent && a.attachEvent("onresize", u)
    }
}(this, Modernizr.mq("only all")), function(a, b, c) {
    function k(a) {
        return !a || a == "loaded" || a == "complete"
    }
    function j() {
        var a = 1, b = -1;
        while (p.length - ++b)
            if (p[b].s && !(a = p[b].r))
                break;
        a && g()
    }
    function i(a) {
        var c = b.createElement("script"), d;
        c.src = a.s, c.onreadystatechange = c.onload = function() {
            !d && k(c.readyState) && (d = 1, j(), c.onload = c.onreadystatechange = null)
        }, m(function() {
            d || (d = 1, j())
        }, H.errorTimeout), a.e ? c.onload() : n.parentNode.insertBefore(c, n)
    }
    function h(a) {
        var c = b.createElement("link"), d;
        c.href = a.s, c.rel = "stylesheet", c.type = "text/css";
        if (!a.e && (w || r)) {
            var e = function(a) {
                m(function() {
                    if (!d)
                        try {
                            a.sheet.cssRules.length ? (d = 1, j()) : e(a)
                        } catch (b) {
                            b.code == 1e3 || b.message == "security" || b.message == "denied" ? (d = 1, m(function() {
                                j()
                            }, 0)) : e(a)
                        }
                }, 0)
            };
            e(c)
        } else
            c.onload = function() {
                d || (d = 1, m(function() {
                    j()
                }, 0))
            }, a.e && c.onload();
        m(function() {
            d || (d = 1, j())
        }, H.errorTimeout), !a.e && n.parentNode.insertBefore(c, n)
    }
    function g() {
        var a = p.shift();
        q = 1, a ? a.t ? m(function() {
            a.t == "c" ? h(a) : i(a)
        }, 0) : (a(), j()) : q = 0
    }
    function f(a, c, d, e, f, h) {
        function i() {
            !o && k(l.readyState) && (r.r = o = 1, !q && j(), l.onload = l.onreadystatechange = null, m(function() {
                u.removeChild(l)
            }, 0))
        }
        var l = b.createElement(a), o = 0, r = {t: d,s: c,e: h};
        l.src = l.data = c, !s && (l.style.display = "none"), l.width = l.height = "0", a != "object" && (l.type = d), l.onload = l.onreadystatechange = i, a == "img" ? l.onerror = i : a == "script" && (l.onerror = function() {
            r.e = r.r = 1, g()
        }), p.splice(e, 0, r), u.insertBefore(l, s ? null : n), m(function() {
            o || (u.removeChild(l), r.r = r.e = o = 1, j())
        }, H.errorTimeout)
    }
    function e(a, b, c) {
        var d = b == "c" ? z : y;
        q = 0, b = b || "j", C(a) ? f(d, a, b, this.i++, l, c) : (p.splice(this.i++, 0, a), p.length == 1 && g());
        return this
    }
    function d() {
        var a = H;
        a.loader = {load: e,i: 0};
        return a
    }
    var l = b.documentElement, m = a.setTimeout, n = b.getElementsByTagName("script")[0], o = {}.toString, p = [], q = 0, r = "MozAppearance" in l.style, s = r && !!b.createRange().compareNode, t = r && !s, u = s ? l : n.parentNode, v = a.opera && o.call(a.opera) == "[object Opera]", w = "webkitAppearance" in l.style, x = w && "async" in b.createElement("script"), y = r ? "object" : v || x ? "img" : "script", z = w ? "img" : y, A = Array.isArray || function(a) {
        return o.call(a) == "[object Array]"
    }, B = function(a) {
        return Object(a) === a
    }, C = function(a) {
        return typeof a == "string"
    }, D = function(a) {
        return o.call(a) == "[object Function]"
    }, E = [], F = {}, G, H;
    H = function(a) {
        function f(a) {
            var b = a.split("!"), c = E.length, d = b.pop(), e = b.length, f = {url: d,origUrl: d,prefixes: b}, g, h;
            for (h = 0; h < e; h++)
                g = F[b[h]], g && (f = g(f));
            for (h = 0; h < c; h++)
                f = E[h](f);
            return f
        }
        function e(a, b, e, g, h) {
            var i = f(a), j = i.autoCallback;
            if (!i.bypass) {
                b && (b = D(b) ? b : b[a] || b[g] || b[a.split("/").pop().split("?")[0]]);
                if (i.instead)
                    return i.instead(a, b, e, g, h);
                e.load(i.url, i.forceCSS || !i.forceJS && /css$/.test(i.url) ? "c" : c, i.noexec), (D(b) || D(j)) && e.load(function() {
                    d(), b && b(i.origUrl, h, g), j && j(i.origUrl, h, g)
                })
            }
        }
        function b(a, b) {
            function c(a) {
                if (C(a))
                    e(a, h, b, 0, d);
                else if (B(a))
                    for (i in a)
                        a.hasOwnProperty(i) && e(a[i], h, b, i, d)
            }
            var d = !!a.test, f = d ? a.yep : a.nope, g = a.load || a.both, h = a.callback, i;
            c(f), c(g), a.complete && b.load(a.complete)
        }
        var g, h, i = this.yepnope.loader;
        if (C(a))
            e(a, 0, i, 0);
        else if (A(a))
            for (g = 0; g < a.length; g++)
                h = a[g], C(h) ? e(h, 0, i, 0) : A(h) ? H(h) : B(h) && b(h, i);
        else
            B(a) && b(a, i)
    }, H.addPrefix = function(a, b) {
        F[a] = b
    }, H.addFilter = function(a) {
        E.push(a)
    }, H.errorTimeout = 1e4, b.readyState == null && b.addEventListener && (b.readyState = "loading", b.addEventListener("DOMContentLoaded", G = function() {
        b.removeEventListener("DOMContentLoaded", G, 0), b.readyState = "complete"
    }, 0)), a.yepnope = d()
}(this, this.document), Modernizr.load = function() {
    yepnope.apply(window, [].slice.call(arguments, 0))
};
(function(window, undefined) {
    var 
    rootjQuery, readyList, document = window.document, location = window.location, navigator = window.navigator, _jQuery = window.jQuery, _$ = window.$, core_push = Array.prototype.push, core_slice = Array.prototype.slice, core_indexOf = Array.prototype.indexOf, core_toString = Object.prototype.toString, core_hasOwn = Object.prototype.hasOwnProperty, core_trim = String.prototype.trim, jQuery = function(selector, context) {
        return new jQuery.fn.init(selector, context, rootjQuery);
    }, core_pnum = /[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source, core_rnotwhite = /\S/, core_rspace = /\s+/, rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, rquickExpr = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/, rsingleTag = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, rvalidchars = /^[\],:{}\s]*$/, rvalidbraces = /(?:^|:|,)(?:\s*\[)+/g, rvalidescape = /\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g, rvalidtokens = /"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g, rmsPrefix = /^-ms-/, rdashAlpha = /-([\da-z])/gi, fcamelCase = function(all, letter) {
        return (letter + "").toUpperCase();
    }, DOMContentLoaded = function() {
        if (document.addEventListener) {
            document.removeEventListener("DOMContentLoaded", DOMContentLoaded, false);
            jQuery.ready();
        } else if (document.readyState === "complete") {
            document.detachEvent("onreadystatechange", DOMContentLoaded);
            jQuery.ready();
        }
    }, class2type = {};
    jQuery.fn = jQuery.prototype = {constructor: jQuery,init: function(selector, context, rootjQuery) {
            var match, elem, ret, doc;
            if (!selector) {
                return this;
            }
            if (selector.nodeType) {
                this.context = this[0] = selector;
                this.length = 1;
                return this;
            }
            if (typeof selector === "string") {
                if (selector.charAt(0) === "<" && selector.charAt(selector.length - 1) === ">" && selector.length >= 3) {
                    match = [null, selector, null];
                } else {
                    match = rquickExpr.exec(selector);
                }
                if (match && (match[1] || !context)) {
                    if (match[1]) {
                        context = context instanceof jQuery ? context[0] : context;
                        doc = (context && context.nodeType ? context.ownerDocument || context : document);
                        selector = jQuery.parseHTML(match[1], doc, true);
                        if (rsingleTag.test(match[1]) && jQuery.isPlainObject(context)) {
                            this.attr.call(selector, context, true);
                        }
                        return jQuery.merge(this, selector);
                    } else {
                        elem = document.getElementById(match[2]);
                        if (elem && elem.parentNode) {
                            if (elem.id !== match[2]) {
                                return rootjQuery.find(selector);
                            }
                            this.length = 1;
                            this[0] = elem;
                        }
                        this.context = document;
                        this.selector = selector;
                        return this;
                    }
                } else if (!context || context.jquery) {
                    return (context || rootjQuery).find(selector);
                } else {
                    return this.constructor(context).find(selector);
                }
            } else if (jQuery.isFunction(selector)) {
                return rootjQuery.ready(selector);
            }
            if (selector.selector !== undefined) {
                this.selector = selector.selector;
                this.context = selector.context;
            }
            return jQuery.makeArray(selector, this);
        },selector: "",jquery: "1.8.3",length: 0,size: function() {
            return this.length;
        },toArray: function() {
            return core_slice.call(this);
        },get: function(num) {
            return num == null ? this.toArray() : (num < 0 ? this[this.length + num] : this[num]);
        },pushStack: function(elems, name, selector) {
            var ret = jQuery.merge(this.constructor(), elems);
            ret.prevObject = this;
            ret.context = this.context;
            if (name === "find") {
                ret.selector = this.selector + (this.selector ? " " : "") + selector;
            } else if (name) {
                ret.selector = this.selector + "." + name + "(" + selector + ")";
            }
            return ret;
        },each: function(callback, args) {
            return jQuery.each(this, callback, args);
        },ready: function(fn) {
            jQuery.ready.promise().done(fn);
            return this;
        },eq: function(i) {
            i = +i;
            return i === -1 ? this.slice(i) : this.slice(i, i + 1);
        },first: function() {
            return this.eq(0);
        },last: function() {
            return this.eq(-1);
        },slice: function() {
            return this.pushStack(core_slice.apply(this, arguments), "slice", core_slice.call(arguments).join(","));
        },map: function(callback) {
            return this.pushStack(jQuery.map(this, function(elem, i) {
                return callback.call(elem, i, elem);
            }));
        },end: function() {
            return this.prevObject || this.constructor(null);
        },push: core_push,sort: [].sort,splice: [].splice};
    jQuery.fn.init.prototype = jQuery.fn;
    jQuery.extend = jQuery.fn.extend = function() {
        var options, name, src, copy, copyIsArray, clone, target = arguments[0] || {}, i = 1, length = arguments.length, deep = false;
        if (typeof target === "boolean") {
            deep = target;
            target = arguments[1] || {};
            i = 2;
        }
        if (typeof target !== "object" && !jQuery.isFunction(target)) {
            target = {};
        }
        if (length === i) {
            target = this;
            --i;
        }
        for (; i < length; i++) {
            if ((options = arguments[i]) != null) {
                for (name in options) {
                    src = target[name];
                    copy = options[name];
                    if (target === copy) {
                        continue;
                    }
                    if (deep && copy && (jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)))) {
                        if (copyIsArray) {
                            copyIsArray = false;
                            clone = src && jQuery.isArray(src) ? src : [];
                        } else {
                            clone = src && jQuery.isPlainObject(src) ? src : {};
                        }
                        target[name] = jQuery.extend(deep, clone, copy);
                    } else if (copy !== undefined) {
                        target[name] = copy;
                    }
                }
            }
        }
        return target;
    };
    jQuery.extend({noConflict: function(deep) {
            if (window.$ === jQuery) {
                window.$ = _$;
            }
            if (deep && window.jQuery === jQuery) {
                window.jQuery = _jQuery;
            }
            return jQuery;
        },isReady: false,readyWait: 1,holdReady: function(hold) {
            if (hold) {
                jQuery.readyWait++;
            } else {
                jQuery.ready(true);
            }
        },ready: function(wait) {
            if (wait === true ? --jQuery.readyWait : jQuery.isReady) {
                return;
            }
            if (!document.body) {
                return setTimeout(jQuery.ready, 1);
            }
            jQuery.isReady = true;
            if (wait !== true && --jQuery.readyWait > 0) {
                return;
            }
            readyList.resolveWith(document, [jQuery]);
            if (jQuery.fn.trigger) {
                jQuery(document).trigger("ready").off("ready");
            }
        },isFunction: function(obj) {
            return jQuery.type(obj) === "function";
        },isArray: Array.isArray || function(obj) {
            return jQuery.type(obj) === "array";
        },isWindow: function(obj) {
            return obj != null && obj == obj.window;
        },isNumeric: function(obj) {
            return !isNaN(parseFloat(obj)) && isFinite(obj);
        },type: function(obj) {
            return obj == null ? String(obj) : class2type[core_toString.call(obj)] || "object";
        },isPlainObject: function(obj) {
            if (!obj || jQuery.type(obj) !== "object" || obj.nodeType || jQuery.isWindow(obj)) {
                return false;
            }
            try {
                if (obj.constructor && !core_hasOwn.call(obj, "constructor") && !core_hasOwn.call(obj.constructor.prototype, "isPrototypeOf")) {
                    return false;
                }
            } catch (e) {
                return false;
            }
            var key;
            for (key in obj) {
            }
            return key === undefined || core_hasOwn.call(obj, key);
        },isEmptyObject: function(obj) {
            var name;
            for (name in obj) {
                return false;
            }
            return true;
        },error: function(msg) {
            throw new Error(msg);
        },parseHTML: function(data, context, scripts) {
            var parsed;
            if (!data || typeof data !== "string") {
                return null;
            }
            if (typeof context === "boolean") {
                scripts = context;
                context = 0;
            }
            context = context || document;
            if ((parsed = rsingleTag.exec(data))) {
                return [context.createElement(parsed[1])];
            }
            parsed = jQuery.buildFragment([data], context, scripts ? null : []);
            return jQuery.merge([], (parsed.cacheable ? jQuery.clone(parsed.fragment) : parsed.fragment).childNodes);
        },parseJSON: function(data) {
            if (!data || typeof data !== "string") {
                return null;
            }
            data = jQuery.trim(data);
            if (window.JSON && window.JSON.parse) {
                return window.JSON.parse(data);
            }
            if (rvalidchars.test(data.replace(rvalidescape, "@").replace(rvalidtokens, "]").replace(rvalidbraces, ""))) {
                return (new Function("return " + data))();
            }
            jQuery.error("Invalid JSON: " + data);
        },parseXML: function(data) {
            var xml, tmp;
            if (!data || typeof data !== "string") {
                return null;
            }
            try {
                if (window.DOMParser) {
                    tmp = new DOMParser();
                    xml = tmp.parseFromString(data, "text/xml");
                } else {
                    xml = new ActiveXObject("Microsoft.XMLDOM");
                    xml.async = "false";
                    xml.loadXML(data);
                }
            } catch (e) {
                xml = undefined;
            }
            if (!xml || !xml.documentElement || xml.getElementsByTagName("parsererror").length) {
                jQuery.error("Invalid XML: " + data);
            }
            return xml;
        },noop: function() {
        },globalEval: function(data) {
            if (data && core_rnotwhite.test(data)) {
                (window.execScript || function(data) {
                    window["eval"].call(window, data);
                })(data);
            }
        },camelCase: function(string) {
            return string.replace(rmsPrefix, "ms-").replace(rdashAlpha, fcamelCase);
        },nodeName: function(elem, name) {
            return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();
        },each: function(obj, callback, args) {
            var name, i = 0, length = obj.length, isObj = length === undefined || jQuery.isFunction(obj);
            if (args) {
                if (isObj) {
                    for (name in obj) {
                        if (callback.apply(obj[name], args) === false) {
                            break;
                        }
                    }
                } else {
                    for (; i < length; ) {
                        if (callback.apply(obj[i++], args) === false) {
                            break;
                        }
                    }
                }
            } else {
                if (isObj) {
                    for (name in obj) {
                        if (callback.call(obj[name], name, obj[name]) === false) {
                            break;
                        }
                    }
                } else {
                    for (; i < length; ) {
                        if (callback.call(obj[i], i, obj[i++]) === false) {
                            break;
                        }
                    }
                }
            }
            return obj;
        },trim: core_trim && !core_trim.call("\uFEFF\xA0") ? function(text) {
            return text == null ? "" : core_trim.call(text);
        } : function(text) {
            return text == null ? "" : (text + "").replace(rtrim, "");
        },makeArray: function(arr, results) {
            var type, ret = results || [];
            if (arr != null) {
                type = jQuery.type(arr);
                if (arr.length == null || type === "string" || type === "function" || type === "regexp" || jQuery.isWindow(arr)) {
                    core_push.call(ret, arr);
                } else {
                    jQuery.merge(ret, arr);
                }
            }
            return ret;
        },inArray: function(elem, arr, i) {
            var len;
            if (arr) {
                if (core_indexOf) {
                    return core_indexOf.call(arr, elem, i);
                }
                len = arr.length;
                i = i ? i < 0 ? Math.max(0, len + i) : i : 0;
                for (; i < len; i++) {
                    if (i in arr && arr[i] === elem) {
                        return i;
                    }
                }
            }
            return -1;
        },merge: function(first, second) {
            var l = second.length, i = first.length, j = 0;
            if (typeof l === "number") {
                for (; j < l; j++) {
                    first[i++] = second[j];
                }
            } else {
                while (second[j] !== undefined) {
                    first[i++] = second[j++];
                }
            }
            first.length = i;
            return first;
        },grep: function(elems, callback, inv) {
            var retVal, ret = [], i = 0, length = elems.length;
            inv = !!inv;
            for (; i < length; i++) {
                retVal = !!callback(elems[i], i);
                if (inv !== retVal) {
                    ret.push(elems[i]);
                }
            }
            return ret;
        },map: function(elems, callback, arg) {
            var value, key, ret = [], i = 0, length = elems.length, isArray = elems instanceof jQuery || length !== undefined && typeof length === "number" && ((length > 0 && elems[0] && elems[length - 1]) || length === 0 || jQuery.isArray(elems));
            if (isArray) {
                for (; i < length; i++) {
                    value = callback(elems[i], i, arg);
                    if (value != null) {
                        ret[ret.length] = value;
                    }
                }
            } else {
                for (key in elems) {
                    value = callback(elems[key], key, arg);
                    if (value != null) {
                        ret[ret.length] = value;
                    }
                }
            }
            return ret.concat.apply([], ret);
        },guid: 1,proxy: function(fn, context) {
            var tmp, args, proxy;
            if (typeof context === "string") {
                tmp = fn[context];
                context = fn;
                fn = tmp;
            }
            if (!jQuery.isFunction(fn)) {
                return undefined;
            }
            args = core_slice.call(arguments, 2);
            proxy = function() {
                return fn.apply(context, args.concat(core_slice.call(arguments)));
            };
            proxy.guid = fn.guid = fn.guid || jQuery.guid++;
            return proxy;
        },access: function(elems, fn, key, value, chainable, emptyGet, pass) {
            var exec, bulk = key == null, i = 0, length = elems.length;
            if (key && typeof key === "object") {
                for (i in key) {
                    jQuery.access(elems, fn, i, key[i], 1, emptyGet, value);
                }
                chainable = 1;
            } else if (value !== undefined) {
                exec = pass === undefined && jQuery.isFunction(value);
                if (bulk) {
                    if (exec) {
                        exec = fn;
                        fn = function(elem, key, value) {
                            return exec.call(jQuery(elem), value);
                        };
                    } else {
                        fn.call(elems, value);
                        fn = null;
                    }
                }
                if (fn) {
                    for (; i < length; i++) {
                        fn(elems[i], key, exec ? value.call(elems[i], i, fn(elems[i], key)) : value, pass);
                    }
                }
                chainable = 1;
            }
            return chainable ? elems : bulk ? fn.call(elems) : length ? fn(elems[0], key) : emptyGet;
        },now: function() {
            return (new Date()).getTime();
        }});
    jQuery.ready.promise = function(obj) {
        if (!readyList) {
            readyList = jQuery.Deferred();
            if (document.readyState === "complete") {
                setTimeout(jQuery.ready, 1);
            } else if (document.addEventListener) {
                document.addEventListener("DOMContentLoaded", DOMContentLoaded, false);
                window.addEventListener("load", jQuery.ready, false);
            } else {
                document.attachEvent("onreadystatechange", DOMContentLoaded);
                window.attachEvent("onload", jQuery.ready);
                var top = false;
                try {
                    top = window.frameElement == null && document.documentElement;
                } catch (e) {
                }
                if (top && top.doScroll) {
                    (function doScrollCheck() {
                        if (!jQuery.isReady) {
                            try {
                                top.doScroll("left");
                            } catch (e) {
                                return setTimeout(doScrollCheck, 50);
                            }
                            jQuery.ready();
                        }
                    })();
                }
            }
        }
        return readyList.promise(obj);
    };
    jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "), function(i, name) {
        class2type["[object " + name + "]"] = name.toLowerCase();
    });
    rootjQuery = jQuery(document);
    var optionsCache = {};
    function createOptions(options) {
        var object = optionsCache[options] = {};
        jQuery.each(options.split(core_rspace), function(_, flag) {
            object[flag] = true;
        });
        return object;
    }
    jQuery.Callbacks = function(options) {
        options = typeof options === "string" ? (optionsCache[options] || createOptions(options)) : jQuery.extend({}, options);
        var 
        memory, fired, firing, firingStart, firingLength, firingIndex, list = [], stack = !options.once && [], fire = function(data) {
            memory = options.memory && data;
            fired = true;
            firingIndex = firingStart || 0;
            firingStart = 0;
            firingLength = list.length;
            firing = true;
            for (; list && firingIndex < firingLength; firingIndex++) {
                if (list[firingIndex].apply(data[0], data[1]) === false && options.stopOnFalse) {
                    memory = false;
                    break;
                }
            }
            firing = false;
            if (list) {
                if (stack) {
                    if (stack.length) {
                        fire(stack.shift());
                    }
                } else if (memory) {
                    list = [];
                } else {
                    self.disable();
                }
            }
        }, self = {add: function() {
                if (list) {
                    var start = list.length;
                    (function add(args) {
                        jQuery.each(args, function(_, arg) {
                            var type = jQuery.type(arg);
                            if (type === "function") {
                                if (!options.unique || !self.has(arg)) {
                                    list.push(arg);
                                }
                            } else if (arg && arg.length && type !== "string") {
                                add(arg);
                            }
                        });
                    })(arguments);
                    if (firing) {
                        firingLength = list.length;
                    } else if (memory) {
                        firingStart = start;
                        fire(memory);
                    }
                }
                return this;
            },remove: function() {
                if (list) {
                    jQuery.each(arguments, function(_, arg) {
                        var index;
                        while ((index = jQuery.inArray(arg, list, index)) > -1) {
                            list.splice(index, 1);
                            if (firing) {
                                if (index <= firingLength) {
                                    firingLength--;
                                }
                                if (index <= firingIndex) {
                                    firingIndex--;
                                }
                            }
                        }
                    });
                }
                return this;
            },has: function(fn) {
                return jQuery.inArray(fn, list) > -1;
            },empty: function() {
                list = [];
                return this;
            },disable: function() {
                list = stack = memory = undefined;
                return this;
            },disabled: function() {
                return !list;
            },lock: function() {
                stack = undefined;
                if (!memory) {
                    self.disable();
                }
                return this;
            },locked: function() {
                return !stack;
            },fireWith: function(context, args) {
                args = args || [];
                args = [context, args.slice ? args.slice() : args];
                if (list && (!fired || stack)) {
                    if (firing) {
                        stack.push(args);
                    } else {
                        fire(args);
                    }
                }
                return this;
            },fire: function() {
                self.fireWith(this, arguments);
                return this;
            },fired: function() {
                return !!fired;
            }};
        return self;
    };
    jQuery.extend({Deferred: function(func) {
            var tuples = [["resolve", "done", jQuery.Callbacks("once memory"), "resolved"], ["reject", "fail", jQuery.Callbacks("once memory"), "rejected"], ["notify", "progress", jQuery.Callbacks("memory")]], state = "pending", promise = {state: function() {
                    return state;
                },always: function() {
                    deferred.done(arguments).fail(arguments);
                    return this;
                },then: function() {
                    var fns = arguments;
                    return jQuery.Deferred(function(newDefer) {
                        jQuery.each(tuples, function(i, tuple) {
                            var action = tuple[0], fn = fns[i];
                            deferred[tuple[1]](jQuery.isFunction(fn) ? function() {
                                var returned = fn.apply(this, arguments);
                                if (returned && jQuery.isFunction(returned.promise)) {
                                    returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify);
                                } else {
                                    newDefer[action + "With"](this === deferred ? newDefer : this, [returned]);
                                }
                            } : newDefer[action]);
                        });
                        fns = null;
                    }).promise();
                },promise: function(obj) {
                    return obj != null ? jQuery.extend(obj, promise) : promise;
                }}, deferred = {};
            promise.pipe = promise.then;
            jQuery.each(tuples, function(i, tuple) {
                var list = tuple[2], stateString = tuple[3];
                promise[tuple[1]] = list.add;
                if (stateString) {
                    list.add(function() {
                        state = stateString;
                    }, tuples[i ^ 1][2].disable, tuples[2][2].lock);
                }
                deferred[tuple[0]] = list.fire;
                deferred[tuple[0] + "With"] = list.fireWith;
            });
            promise.promise(deferred);
            if (func) {
                func.call(deferred, deferred);
            }
            return deferred;
        },when: function(subordinate) {
            var i = 0, resolveValues = core_slice.call(arguments), length = resolveValues.length, remaining = length !== 1 || (subordinate && jQuery.isFunction(subordinate.promise)) ? length : 0, deferred = remaining === 1 ? subordinate : jQuery.Deferred(), updateFunc = function(i, contexts, values) {
                return function(value) {
                    contexts[i] = this;
                    values[i] = arguments.length > 1 ? core_slice.call(arguments) : value;
                    if (values === progressValues) {
                        deferred.notifyWith(contexts, values);
                    } else if (!(--remaining)) {
                        deferred.resolveWith(contexts, values);
                    }
                };
            }, progressValues, progressContexts, resolveContexts;
            if (length > 1) {
                progressValues = new Array(length);
                progressContexts = new Array(length);
                resolveContexts = new Array(length);
                for (; i < length; i++) {
                    if (resolveValues[i] && jQuery.isFunction(resolveValues[i].promise)) {
                        resolveValues[i].promise().done(updateFunc(i, resolveContexts, resolveValues)).fail(deferred.reject).progress(updateFunc(i, progressContexts, progressValues));
                    } else {
                        --remaining;
                    }
                }
            }
            if (!remaining) {
                deferred.resolveWith(resolveContexts, resolveValues);
            }
            return deferred.promise();
        }});
    jQuery.support = (function() {
        var support, all, a, select, opt, input, fragment, eventName, i, isSupported, clickFn, div = document.createElement("div");
        div.setAttribute("className", "t");
        div.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
        all = div.getElementsByTagName("*");
        a = div.getElementsByTagName("a")[0];
        if (!all || !a || !all.length) {
            return {};
        }
        select = document.createElement("select");
        opt = select.appendChild(document.createElement("option"));
        input = div.getElementsByTagName("input")[0];
        a.style.cssText = "top:1px;float:left;opacity:.5";
        support = {leadingWhitespace: (div.firstChild.nodeType === 3),tbody: !div.getElementsByTagName("tbody").length,htmlSerialize: !!div.getElementsByTagName("link").length,style: /top/.test(a.getAttribute("style")),hrefNormalized: (a.getAttribute("href") === "/a"),opacity: /^0.5/.test(a.style.opacity),cssFloat: !!a.style.cssFloat,checkOn: (input.value === "on"),optSelected: opt.selected,getSetAttribute: div.className !== "t",enctype: !!document.createElement("form").enctype,html5Clone: document.createElement("nav").cloneNode(true).outerHTML !== "<:nav></:nav>",boxModel: (document.compatMode === "CSS1Compat"),submitBubbles: true,changeBubbles: true,focusinBubbles: false,deleteExpando: true,noCloneEvent: true,inlineBlockNeedsLayout: false,shrinkWrapBlocks: false,reliableMarginRight: true,boxSizingReliable: true,pixelPosition: false};
        input.checked = true;
        support.noCloneChecked = input.cloneNode(true).checked;
        select.disabled = true;
        support.optDisabled = !opt.disabled;
        try {
            delete div.test;
        } catch (e) {
            support.deleteExpando = false;
        }
        if (!div.addEventListener && div.attachEvent && div.fireEvent) {
            div.attachEvent("onclick", clickFn = function() {
                support.noCloneEvent = false;
            });
            div.cloneNode(true).fireEvent("onclick");
            div.detachEvent("onclick", clickFn);
        }
        input = document.createElement("input");
        input.value = "t";
        input.setAttribute("type", "radio");
        support.radioValue = input.value === "t";
        input.setAttribute("checked", "checked");
        input.setAttribute("name", "t");
        div.appendChild(input);
        fragment = document.createDocumentFragment();
        fragment.appendChild(div.lastChild);
        support.checkClone = fragment.cloneNode(true).cloneNode(true).lastChild.checked;
        support.appendChecked = input.checked;
        fragment.removeChild(input);
        fragment.appendChild(div);
        if (div.attachEvent) {
            for (i in {submit: true,change: true,focusin: true}) {
                eventName = "on" + i;
                isSupported = (eventName in div);
                if (!isSupported) {
                    div.setAttribute(eventName, "return;");
                    isSupported = (typeof div[eventName] === "function");
                }
                support[i + "Bubbles"] = isSupported;
            }
        }
        jQuery(function() {
            var container, div, tds, marginDiv, divReset = "padding:0;margin:0;border:0;display:block;overflow:hidden;", body = document.getElementsByTagName("body")[0];
            if (!body) {
                return;
            }
            container = document.createElement("div");
            container.style.cssText = "visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";
            body.insertBefore(container, body.firstChild);
            div = document.createElement("div");
            container.appendChild(div);
            div.innerHTML = "<table><tr><td></td><td>t</td></tr></table>";
            tds = div.getElementsByTagName("td");
            tds[0].style.cssText = "padding:0;margin:0;border:0;display:none";
            isSupported = (tds[0].offsetHeight === 0);
            tds[0].style.display = "";
            tds[1].style.display = "none";
            support.reliableHiddenOffsets = isSupported && (tds[0].offsetHeight === 0);
            div.innerHTML = "";
            div.style.cssText = "box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";
            support.boxSizing = (div.offsetWidth === 4);
            support.doesNotIncludeMarginInBodyOffset = (body.offsetTop !== 1);
            if (window.getComputedStyle) {
                support.pixelPosition = (window.getComputedStyle(div, null) || {}).top !== "1%";
                support.boxSizingReliable = (window.getComputedStyle(div, null) || {width: "4px"}).width === "4px";
                marginDiv = document.createElement("div");
                marginDiv.style.cssText = div.style.cssText = divReset;
                marginDiv.style.marginRight = marginDiv.style.width = "0";
                div.style.width = "1px";
                div.appendChild(marginDiv);
                support.reliableMarginRight = !parseFloat((window.getComputedStyle(marginDiv, null) || {}).marginRight);
            }
            if (typeof div.style.zoom !== "undefined") {
                div.innerHTML = "";
                div.style.cssText = divReset + "width:1px;padding:1px;display:inline;zoom:1";
                support.inlineBlockNeedsLayout = (div.offsetWidth === 3);
                div.style.display = "block";
                div.style.overflow = "visible";
                div.innerHTML = "<div></div>";
                div.firstChild.style.width = "5px";
                support.shrinkWrapBlocks = (div.offsetWidth !== 3);
                container.style.zoom = 1;
            }
            body.removeChild(container);
            container = div = tds = marginDiv = null;
        });
        fragment.removeChild(div);
        all = a = select = opt = input = fragment = div = null;
        return support;
    })();
    var rbrace = /(?:\{[\s\S]*\}|\[[\s\S]*\])$/, rmultiDash = /([A-Z])/g;
    jQuery.extend({cache: {},deletedIds: [],uuid: 0,expando: "jQuery" + (jQuery.fn.jquery + Math.random()).replace(/\D/g, ""),noData: {"embed": true,"object": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000","applet": true},hasData: function(elem) {
            elem = elem.nodeType ? jQuery.cache[elem[jQuery.expando]] : elem[jQuery.expando];
            return !!elem && !isEmptyDataObject(elem);
        },data: function(elem, name, data, pvt) {
            if (!jQuery.acceptData(elem)) {
                return;
            }
            var thisCache, ret, internalKey = jQuery.expando, getByName = typeof name === "string", isNode = elem.nodeType, cache = isNode ? jQuery.cache : elem, id = isNode ? elem[internalKey] : elem[internalKey] && internalKey;
            if ((!id || !cache[id] || (!pvt && !cache[id].data)) && getByName && data === undefined) {
                return;
            }
            if (!id) {
                if (isNode) {
                    elem[internalKey] = id = jQuery.deletedIds.pop() || jQuery.guid++;
                } else {
                    id = internalKey;
                }
            }
            if (!cache[id]) {
                cache[id] = {};
                if (!isNode) {
                    cache[id].toJSON = jQuery.noop;
                }
            }
            if (typeof name === "object" || typeof name === "function") {
                if (pvt) {
                    cache[id] = jQuery.extend(cache[id], name);
                } else {
                    cache[id].data = jQuery.extend(cache[id].data, name);
                }
            }
            thisCache = cache[id];
            if (!pvt) {
                if (!thisCache.data) {
                    thisCache.data = {};
                }
                thisCache = thisCache.data;
            }
            if (data !== undefined) {
                thisCache[jQuery.camelCase(name)] = data;
            }
            if (getByName) {
                ret = thisCache[name];
                if (ret == null) {
                    ret = thisCache[jQuery.camelCase(name)];
                }
            } else {
                ret = thisCache;
            }
            return ret;
        },removeData: function(elem, name, pvt) {
            if (!jQuery.acceptData(elem)) {
                return;
            }
            var thisCache, i, l, isNode = elem.nodeType, cache = isNode ? jQuery.cache : elem, id = isNode ? elem[jQuery.expando] : jQuery.expando;
            if (!cache[id]) {
                return;
            }
            if (name) {
                thisCache = pvt ? cache[id] : cache[id].data;
                if (thisCache) {
                    if (!jQuery.isArray(name)) {
                        if (name in thisCache) {
                            name = [name];
                        } else {
                            name = jQuery.camelCase(name);
                            if (name in thisCache) {
                                name = [name];
                            } else {
                                name = name.split(" ");
                            }
                        }
                    }
                    for (i = 0, l = name.length; i < l; i++) {
                        delete thisCache[name[i]];
                    }
                    if (!(pvt ? isEmptyDataObject : jQuery.isEmptyObject)(thisCache)) {
                        return;
                    }
                }
            }
            if (!pvt) {
                delete cache[id].data;
                if (!isEmptyDataObject(cache[id])) {
                    return;
                }
            }
            if (isNode) {
                jQuery.cleanData([elem], true);
            } else if (jQuery.support.deleteExpando || cache != cache.window) {
                delete cache[id];
            } else {
                cache[id] = null;
            }
        },_data: function(elem, name, data) {
            return jQuery.data(elem, name, data, true);
        },acceptData: function(elem) {
            var noData = elem.nodeName && jQuery.noData[elem.nodeName.toLowerCase()];
            return !noData || noData !== true && elem.getAttribute("classid") === noData;
        }});
    jQuery.fn.extend({data: function(key, value) {
            var parts, part, attr, name, l, elem = this[0], i = 0, data = null;
            if (key === undefined) {
                if (this.length) {
                    data = jQuery.data(elem);
                    if (elem.nodeType === 1 && !jQuery._data(elem, "parsedAttrs")) {
                        attr = elem.attributes;
                        for (l = attr.length; i < l; i++) {
                            name = attr[i].name;
                            if (!name.indexOf("data-")) {
                                name = jQuery.camelCase(name.substring(5));
                                dataAttr(elem, name, data[name]);
                            }
                        }
                        jQuery._data(elem, "parsedAttrs", true);
                    }
                }
                return data;
            }
            if (typeof key === "object") {
                return this.each(function() {
                    jQuery.data(this, key);
                });
            }
            parts = key.split(".", 2);
            parts[1] = parts[1] ? "." + parts[1] : "";
            part = parts[1] + "!";
            return jQuery.access(this, function(value) {
                if (value === undefined) {
                    data = this.triggerHandler("getData" + part, [parts[0]]);
                    if (data === undefined && elem) {
                        data = jQuery.data(elem, key);
                        data = dataAttr(elem, key, data);
                    }
                    return data === undefined && parts[1] ? this.data(parts[0]) : data;
                }
                parts[1] = value;
                this.each(function() {
                    var self = jQuery(this);
                    self.triggerHandler("setData" + part, parts);
                    jQuery.data(this, key, value);
                    self.triggerHandler("changeData" + part, parts);
                });
            }, null, value, arguments.length > 1, null, false);
        },removeData: function(key) {
            return this.each(function() {
                jQuery.removeData(this, key);
            });
        }});
    function dataAttr(elem, key, data) {
        if (data === undefined && elem.nodeType === 1) {
            var name = "data-" + key.replace(rmultiDash, "-$1").toLowerCase();
            data = elem.getAttribute(name);
            if (typeof data === "string") {
                try {
                    data = data === "true" ? true : data === "false" ? false : data === "null" ? null : +data + "" === data ? +data : rbrace.test(data) ? jQuery.parseJSON(data) : data;
                } catch (e) {
                }
                jQuery.data(elem, key, data);
            } else {
                data = undefined;
            }
        }
        return data;
    }
    function isEmptyDataObject(obj) {
        var name;
        for (name in obj) {
            if (name === "data" && jQuery.isEmptyObject(obj[name])) {
                continue;
            }
            if (name !== "toJSON") {
                return false;
            }
        }
        return true;
    }
    jQuery.extend({queue: function(elem, type, data) {
            var queue;
            if (elem) {
                type = (type || "fx") + "queue";
                queue = jQuery._data(elem, type);
                if (data) {
                    if (!queue || jQuery.isArray(data)) {
                        queue = jQuery._data(elem, type, jQuery.makeArray(data));
                    } else {
                        queue.push(data);
                    }
                }
                return queue || [];
            }
        },dequeue: function(elem, type) {
            type = type || "fx";
            var queue = jQuery.queue(elem, type), startLength = queue.length, fn = queue.shift(), hooks = jQuery._queueHooks(elem, type), next = function() {
                jQuery.dequeue(elem, type);
            };
            if (fn === "inprogress") {
                fn = queue.shift();
                startLength--;
            }
            if (fn) {
                if (type === "fx") {
                    queue.unshift("inprogress");
                }
                delete hooks.stop;
                fn.call(elem, next, hooks);
            }
            if (!startLength && hooks) {
                hooks.empty.fire();
            }
        },_queueHooks: function(elem, type) {
            var key = type + "queueHooks";
            return jQuery._data(elem, key) || jQuery._data(elem, key, {empty: jQuery.Callbacks("once memory").add(function() {
                    jQuery.removeData(elem, type + "queue", true);
                    jQuery.removeData(elem, key, true);
                })});
        }});
    jQuery.fn.extend({queue: function(type, data) {
            var setter = 2;
            if (typeof type !== "string") {
                data = type;
                type = "fx";
                setter--;
            }
            if (arguments.length < setter) {
                return jQuery.queue(this[0], type);
            }
            return data === undefined ? this : this.each(function() {
                var queue = jQuery.queue(this, type, data);
                jQuery._queueHooks(this, type);
                if (type === "fx" && queue[0] !== "inprogress") {
                    jQuery.dequeue(this, type);
                }
            });
        },dequeue: function(type) {
            return this.each(function() {
                jQuery.dequeue(this, type);
            });
        },delay: function(time, type) {
            time = jQuery.fx ? jQuery.fx.speeds[time] || time : time;
            type = type || "fx";
            return this.queue(type, function(next, hooks) {
                var timeout = setTimeout(next, time);
                hooks.stop = function() {
                    clearTimeout(timeout);
                };
            });
        },clearQueue: function(type) {
            return this.queue(type || "fx", []);
        },promise: function(type, obj) {
            var tmp, count = 1, defer = jQuery.Deferred(), elements = this, i = this.length, resolve = function() {
                if (!(--count)) {
                    defer.resolveWith(elements, [elements]);
                }
            };
            if (typeof type !== "string") {
                obj = type;
                type = undefined;
            }
            type = type || "fx";
            while (i--) {
                tmp = jQuery._data(elements[i], type + "queueHooks");
                if (tmp && tmp.empty) {
                    count++;
                    tmp.empty.add(resolve);
                }
            }
            resolve();
            return defer.promise(obj);
        }});
    var nodeHook, boolHook, fixSpecified, rclass = /[\t\r\n]/g, rreturn = /\r/g, rtype = /^(?:button|input)$/i, rfocusable = /^(?:button|input|object|select|textarea)$/i, rclickable = /^a(?:rea|)$/i, rboolean = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i, getSetAttribute = jQuery.support.getSetAttribute;
    jQuery.fn.extend({attr: function(name, value) {
            return jQuery.access(this, jQuery.attr, name, value, arguments.length > 1);
        },removeAttr: function(name) {
            return this.each(function() {
                jQuery.removeAttr(this, name);
            });
        },prop: function(name, value) {
            return jQuery.access(this, jQuery.prop, name, value, arguments.length > 1);
        },removeProp: function(name) {
            name = jQuery.propFix[name] || name;
            return this.each(function() {
                try {
                    this[name] = undefined;
                    delete this[name];
                } catch (e) {
                }
            });
        },addClass: function(value) {
            var classNames, i, l, elem, setClass, c, cl;
            if (jQuery.isFunction(value)) {
                return this.each(function(j) {
                    jQuery(this).addClass(value.call(this, j, this.className));
                });
            }
            if (value && typeof value === "string") {
                classNames = value.split(core_rspace);
                for (i = 0, l = this.length; i < l; i++) {
                    elem = this[i];
                    if (elem.nodeType === 1) {
                        if (!elem.className && classNames.length === 1) {
                            elem.className = value;
                        } else {
                            setClass = " " + elem.className + " ";
                            for (c = 0, cl = classNames.length; c < cl; c++) {
                                if (setClass.indexOf(" " + classNames[c] + " ") < 0) {
                                    setClass += classNames[c] + " ";
                                }
                            }
                            elem.className = jQuery.trim(setClass);
                        }
                    }
                }
            }
            return this;
        },removeClass: function(value) {
            var removes, className, elem, c, cl, i, l;
            if (jQuery.isFunction(value)) {
                return this.each(function(j) {
                    jQuery(this).removeClass(value.call(this, j, this.className));
                });
            }
            if ((value && typeof value === "string") || value === undefined) {
                removes = (value || "").split(core_rspace);
                for (i = 0, l = this.length; i < l; i++) {
                    elem = this[i];
                    if (elem.nodeType === 1 && elem.className) {
                        className = (" " + elem.className + " ").replace(rclass, " ");
                        for (c = 0, cl = removes.length; c < cl; c++) {
                            while (className.indexOf(" " + removes[c] + " ") >= 0) {
                                className = className.replace(" " + removes[c] + " ", " ");
                            }
                        }
                        elem.className = value ? jQuery.trim(className) : "";
                    }
                }
            }
            return this;
        },toggleClass: function(value, stateVal) {
            var type = typeof value, isBool = typeof stateVal === "boolean";
            if (jQuery.isFunction(value)) {
                return this.each(function(i) {
                    jQuery(this).toggleClass(value.call(this, i, this.className, stateVal), stateVal);
                });
            }
            return this.each(function() {
                if (type === "string") {
                    var className, i = 0, self = jQuery(this), state = stateVal, classNames = value.split(core_rspace);
                    while ((className = classNames[i++])) {
                        state = isBool ? state : !self.hasClass(className);
                        self[state ? "addClass" : "removeClass"](className);
                    }
                } else if (type === "undefined" || type === "boolean") {
                    if (this.className) {
                        jQuery._data(this, "__className__", this.className);
                    }
                    this.className = this.className || value === false ? "" : jQuery._data(this, "__className__") || "";
                }
            });
        },hasClass: function(selector) {
            var className = " " + selector + " ", i = 0, l = this.length;
            for (; i < l; i++) {
                if (this[i].nodeType === 1 && (" " + this[i].className + " ").replace(rclass, " ").indexOf(className) >= 0) {
                    return true;
                }
            }
            return false;
        },val: function(value) {
            var hooks, ret, isFunction, elem = this[0];
            if (!arguments.length) {
                if (elem) {
                    hooks = jQuery.valHooks[elem.type] || jQuery.valHooks[elem.nodeName.toLowerCase()];
                    if (hooks && "get" in hooks && (ret = hooks.get(elem, "value")) !== undefined) {
                        return ret;
                    }
                    ret = elem.value;
                    return typeof ret === "string" ? ret.replace(rreturn, "") : ret == null ? "" : ret;
                }
                return;
            }
            isFunction = jQuery.isFunction(value);
            return this.each(function(i) {
                var val, self = jQuery(this);
                if (this.nodeType !== 1) {
                    return;
                }
                if (isFunction) {
                    val = value.call(this, i, self.val());
                } else {
                    val = value;
                }
                if (val == null) {
                    val = "";
                } else if (typeof val === "number") {
                    val += "";
                } else if (jQuery.isArray(val)) {
                    val = jQuery.map(val, function(value) {
                        return value == null ? "" : value + "";
                    });
                }
                hooks = jQuery.valHooks[this.type] || jQuery.valHooks[this.nodeName.toLowerCase()];
                if (!hooks || !("set" in hooks) || hooks.set(this, val, "value") === undefined) {
                    this.value = val;
                }
            });
        }});
    jQuery.extend({valHooks: {option: {get: function(elem) {
                    var val = elem.attributes.value;
                    return !val || val.specified ? elem.value : elem.text;
                }},select: {get: function(elem) {
                    var value, option, options = elem.options, index = elem.selectedIndex, one = elem.type === "select-one" || index < 0, values = one ? null : [], max = one ? index + 1 : options.length, i = index < 0 ? max : one ? index : 0;
                    for (; i < max; i++) {
                        option = options[i];
                        if ((option.selected || i === index) && (jQuery.support.optDisabled ? !option.disabled : option.getAttribute("disabled") === null) && (!option.parentNode.disabled || !jQuery.nodeName(option.parentNode, "optgroup"))) {
                            value = jQuery(option).val();
                            if (one) {
                                return value;
                            }
                            values.push(value);
                        }
                    }
                    return values;
                },set: function(elem, value) {
                    var values = jQuery.makeArray(value);
                    jQuery(elem).find("option").each(function() {
                        this.selected = jQuery.inArray(jQuery(this).val(), values) >= 0;
                    });
                    if (!values.length) {
                        elem.selectedIndex = -1;
                    }
                    return values;
                }}},attrFn: {},attr: function(elem, name, value, pass) {
            var ret, hooks, notxml, nType = elem.nodeType;
            if (!elem || nType === 3 || nType === 8 || nType === 2) {
                return;
            }
            if (pass && jQuery.isFunction(jQuery.fn[name])) {
                return jQuery(elem)[name](value);
            }
            if (typeof elem.getAttribute === "undefined") {
                return jQuery.prop(elem, name, value);
            }
            notxml = nType !== 1 || !jQuery.isXMLDoc(elem);
            if (notxml) {
                name = name.toLowerCase();
                hooks = jQuery.attrHooks[name] || (rboolean.test(name) ? boolHook : nodeHook);
            }
            if (value !== undefined) {
                if (value === null) {
                    jQuery.removeAttr(elem, name);
                    return;
                } else if (hooks && "set" in hooks && notxml && (ret = hooks.set(elem, value, name)) !== undefined) {
                    return ret;
                } else {
                    elem.setAttribute(name, value + "");
                    return value;
                }
            } else if (hooks && "get" in hooks && notxml && (ret = hooks.get(elem, name)) !== null) {
                return ret;
            } else {
                ret = elem.getAttribute(name);
                return ret === null ? undefined : ret;
            }
        },removeAttr: function(elem, value) {
            var propName, attrNames, name, isBool, i = 0;
            if (value && elem.nodeType === 1) {
                attrNames = value.split(core_rspace);
                for (; i < attrNames.length; i++) {
                    name = attrNames[i];
                    if (name) {
                        propName = jQuery.propFix[name] || name;
                        isBool = rboolean.test(name);
                        if (!isBool) {
                            jQuery.attr(elem, name, "");
                        }
                        elem.removeAttribute(getSetAttribute ? name : propName);
                        if (isBool && propName in elem) {
                            elem[propName] = false;
                        }
                    }
                }
            }
        },attrHooks: {type: {set: function(elem, value) {
                    if (rtype.test(elem.nodeName) && elem.parentNode) {
                        jQuery.error("type property can't be changed");
                    } else if (!jQuery.support.radioValue && value === "radio" && jQuery.nodeName(elem, "input")) {
                        var val = elem.value;
                        elem.setAttribute("type", value);
                        if (val) {
                            elem.value = val;
                        }
                        return value;
                    }
                }},value: {get: function(elem, name) {
                    if (nodeHook && jQuery.nodeName(elem, "button")) {
                        return nodeHook.get(elem, name);
                    }
                    return name in elem ? elem.value : null;
                },set: function(elem, value, name) {
                    if (nodeHook && jQuery.nodeName(elem, "button")) {
                        return nodeHook.set(elem, value, name);
                    }
                    elem.value = value;
                }}},propFix: {tabindex: "tabIndex",readonly: "readOnly","for": "htmlFor","class": "className",maxlength: "maxLength",cellspacing: "cellSpacing",cellpadding: "cellPadding",rowspan: "rowSpan",colspan: "colSpan",usemap: "useMap",frameborder: "frameBorder",contenteditable: "contentEditable"},prop: function(elem, name, value) {
            var ret, hooks, notxml, nType = elem.nodeType;
            if (!elem || nType === 3 || nType === 8 || nType === 2) {
                return;
            }
            notxml = nType !== 1 || !jQuery.isXMLDoc(elem);
            if (notxml) {
                name = jQuery.propFix[name] || name;
                hooks = jQuery.propHooks[name];
            }
            if (value !== undefined) {
                if (hooks && "set" in hooks && (ret = hooks.set(elem, value, name)) !== undefined) {
                    return ret;
                } else {
                    return (elem[name] = value);
                }
            } else {
                if (hooks && "get" in hooks && (ret = hooks.get(elem, name)) !== null) {
                    return ret;
                } else {
                    return elem[name];
                }
            }
        },propHooks: {tabIndex: {get: function(elem) {
                    var attributeNode = elem.getAttributeNode("tabindex");
                    return attributeNode && attributeNode.specified ? parseInt(attributeNode.value, 10) : rfocusable.test(elem.nodeName) || rclickable.test(elem.nodeName) && elem.href ? 0 : undefined;
                }}}});
    boolHook = {get: function(elem, name) {
            var attrNode, property = jQuery.prop(elem, name);
            return property === true || typeof property !== "boolean" && (attrNode = elem.getAttributeNode(name)) && attrNode.nodeValue !== false ? name.toLowerCase() : undefined;
        },set: function(elem, value, name) {
            var propName;
            if (value === false) {
                jQuery.removeAttr(elem, name);
            } else {
                propName = jQuery.propFix[name] || name;
                if (propName in elem) {
                    elem[propName] = true;
                }
                elem.setAttribute(name, name.toLowerCase());
            }
            return name;
        }};
    if (!getSetAttribute) {
        fixSpecified = {name: true,id: true,coords: true};
        nodeHook = jQuery.valHooks.button = {get: function(elem, name) {
                var ret;
                ret = elem.getAttributeNode(name);
                return ret && (fixSpecified[name] ? ret.value !== "" : ret.specified) ? ret.value : undefined;
            },set: function(elem, value, name) {
                var ret = elem.getAttributeNode(name);
                if (!ret) {
                    ret = document.createAttribute(name);
                    elem.setAttributeNode(ret);
                }
                return (ret.value = value + "");
            }};
        jQuery.each(["width", "height"], function(i, name) {
            jQuery.attrHooks[name] = jQuery.extend(jQuery.attrHooks[name], {set: function(elem, value) {
                    if (value === "") {
                        elem.setAttribute(name, "auto");
                        return value;
                    }
                }});
        });
        jQuery.attrHooks.contenteditable = {get: nodeHook.get,set: function(elem, value, name) {
                if (value === "") {
                    value = "false";
                }
                nodeHook.set(elem, value, name);
            }};
    }
    if (!jQuery.support.hrefNormalized) {
        jQuery.each(["href", "src", "width", "height"], function(i, name) {
            jQuery.attrHooks[name] = jQuery.extend(jQuery.attrHooks[name], {get: function(elem) {
                    var ret = elem.getAttribute(name, 2);
                    return ret === null ? undefined : ret;
                }});
        });
    }
    if (!jQuery.support.style) {
        jQuery.attrHooks.style = {get: function(elem) {
                return elem.style.cssText.toLowerCase() || undefined;
            },set: function(elem, value) {
                return (elem.style.cssText = value + "");
            }};
    }
    if (!jQuery.support.optSelected) {
        jQuery.propHooks.selected = jQuery.extend(jQuery.propHooks.selected, {get: function(elem) {
                var parent = elem.parentNode;
                if (parent) {
                    parent.selectedIndex;
                    if (parent.parentNode) {
                        parent.parentNode.selectedIndex;
                    }
                }
                return null;
            }});
    }
    if (!jQuery.support.enctype) {
        jQuery.propFix.enctype = "encoding";
    }
    if (!jQuery.support.checkOn) {
        jQuery.each(["radio", "checkbox"], function() {
            jQuery.valHooks[this] = {get: function(elem) {
                    return elem.getAttribute("value") === null ? "on" : elem.value;
                }};
        });
    }
    jQuery.each(["radio", "checkbox"], function() {
        jQuery.valHooks[this] = jQuery.extend(jQuery.valHooks[this], {set: function(elem, value) {
                if (jQuery.isArray(value)) {
                    return (elem.checked = jQuery.inArray(jQuery(elem).val(), value) >= 0);
                }
            }});
    });
    var rformElems = /^(?:textarea|input|select)$/i, rtypenamespace = /^([^\.]*|)(?:\.(.+)|)$/, rhoverHack = /(?:^|\s)hover(\.\S+|)\b/, rkeyEvent = /^key/, rmouseEvent = /^(?:mouse|contextmenu)|click/, rfocusMorph = /^(?:focusinfocus|focusoutblur)$/, hoverHack = function(events) {
        return jQuery.event.special.hover ? events : events.replace(rhoverHack, "mouseenter$1 mouseleave$1");
    };
    jQuery.event = {add: function(elem, types, handler, data, selector) {
            var elemData, eventHandle, events, t, tns, type, namespaces, handleObj, handleObjIn, handlers, special;
            if (elem.nodeType === 3 || elem.nodeType === 8 || !types || !handler || !(elemData = jQuery._data(elem))) {
                return;
            }
            if (handler.handler) {
                handleObjIn = handler;
                handler = handleObjIn.handler;
                selector = handleObjIn.selector;
            }
            if (!handler.guid) {
                handler.guid = jQuery.guid++;
            }
            events = elemData.events;
            if (!events) {
                elemData.events = events = {};
            }
            eventHandle = elemData.handle;
            if (!eventHandle) {
                elemData.handle = eventHandle = function(e) {
                    return typeof jQuery !== "undefined" && (!e || jQuery.event.triggered !== e.type) ? jQuery.event.dispatch.apply(eventHandle.elem, arguments) : undefined;
                };
                eventHandle.elem = elem;
            }
            types = jQuery.trim(hoverHack(types)).split(" ");
            for (t = 0; t < types.length; t++) {
                tns = rtypenamespace.exec(types[t]) || [];
                type = tns[1];
                namespaces = (tns[2] || "").split(".").sort();
                special = jQuery.event.special[type] || {};
                type = (selector ? special.delegateType : special.bindType) || type;
                special = jQuery.event.special[type] || {};
                handleObj = jQuery.extend({type: type,origType: tns[1],data: data,handler: handler,guid: handler.guid,selector: selector,needsContext: selector && jQuery.expr.match.needsContext.test(selector),namespace: namespaces.join(".")}, handleObjIn);
                handlers = events[type];
                if (!handlers) {
                    handlers = events[type] = [];
                    handlers.delegateCount = 0;
                    if (!special.setup || special.setup.call(elem, data, namespaces, eventHandle) === false) {
                        if (elem.addEventListener) {
                            elem.addEventListener(type, eventHandle, false);
                        } else if (elem.attachEvent) {
                            elem.attachEvent("on" + type, eventHandle);
                        }
                    }
                }
                if (special.add) {
                    special.add.call(elem, handleObj);
                    if (!handleObj.handler.guid) {
                        handleObj.handler.guid = handler.guid;
                    }
                }
                if (selector) {
                    handlers.splice(handlers.delegateCount++, 0, handleObj);
                } else {
                    handlers.push(handleObj);
                }
                jQuery.event.global[type] = true;
            }
            elem = null;
        },global: {},remove: function(elem, types, handler, selector, mappedTypes) {
            var t, tns, type, origType, namespaces, origCount, j, events, special, eventType, handleObj, elemData = jQuery.hasData(elem) && jQuery._data(elem);
            if (!elemData || !(events = elemData.events)) {
                return;
            }
            types = jQuery.trim(hoverHack(types || "")).split(" ");
            for (t = 0; t < types.length; t++) {
                tns = rtypenamespace.exec(types[t]) || [];
                type = origType = tns[1];
                namespaces = tns[2];
                if (!type) {
                    for (type in events) {
                        jQuery.event.remove(elem, type + types[t], handler, selector, true);
                    }
                    continue;
                }
                special = jQuery.event.special[type] || {};
                type = (selector ? special.delegateType : special.bindType) || type;
                eventType = events[type] || [];
                origCount = eventType.length;
                namespaces = namespaces ? new RegExp("(^|\\.)" + namespaces.split(".").sort().join("\\.(?:.*\\.|)") + "(\\.|$)") : null;
                for (j = 0; j < eventType.length; j++) {
                    handleObj = eventType[j];
                    if ((mappedTypes || origType === handleObj.origType) && (!handler || handler.guid === handleObj.guid) && (!namespaces || namespaces.test(handleObj.namespace)) && (!selector || selector === handleObj.selector || selector === "**" && handleObj.selector)) {
                        eventType.splice(j--, 1);
                        if (handleObj.selector) {
                            eventType.delegateCount--;
                        }
                        if (special.remove) {
                            special.remove.call(elem, handleObj);
                        }
                    }
                }
                if (eventType.length === 0 && origCount !== eventType.length) {
                    if (!special.teardown || special.teardown.call(elem, namespaces, elemData.handle) === false) {
                        jQuery.removeEvent(elem, type, elemData.handle);
                    }
                    delete events[type];
                }
            }
            if (jQuery.isEmptyObject(events)) {
                delete elemData.handle;
                jQuery.removeData(elem, "events", true);
            }
        },customEvent: {"getData": true,"setData": true,"changeData": true},trigger: function(event, data, elem, onlyHandlers) {
            if (elem && (elem.nodeType === 3 || elem.nodeType === 8)) {
                return;
            }
            var cache, exclusive, i, cur, old, ontype, special, handle, eventPath, bubbleType, type = event.type || event, namespaces = [];
            if (rfocusMorph.test(type + jQuery.event.triggered)) {
                return;
            }
            if (type.indexOf("!") >= 0) {
                type = type.slice(0, -1);
                exclusive = true;
            }
            if (type.indexOf(".") >= 0) {
                namespaces = type.split(".");
                type = namespaces.shift();
                namespaces.sort();
            }
            if ((!elem || jQuery.event.customEvent[type]) && !jQuery.event.global[type]) {
                return;
            }
            event = typeof event === "object" ? event[jQuery.expando] ? event : new jQuery.Event(type, event) : new jQuery.Event(type);
            event.type = type;
            event.isTrigger = true;
            event.exclusive = exclusive;
            event.namespace = namespaces.join(".");
            event.namespace_re = event.namespace ? new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)") : null;
            ontype = type.indexOf(":") < 0 ? "on" + type : "";
            if (!elem) {
                cache = jQuery.cache;
                for (i in cache) {
                    if (cache[i].events && cache[i].events[type]) {
                        jQuery.event.trigger(event, data, cache[i].handle.elem, true);
                    }
                }
                return;
            }
            event.result = undefined;
            if (!event.target) {
                event.target = elem;
            }
            data = data != null ? jQuery.makeArray(data) : [];
            data.unshift(event);
            special = jQuery.event.special[type] || {};
            if (special.trigger && special.trigger.apply(elem, data) === false) {
                return;
            }
            eventPath = [[elem, special.bindType || type]];
            if (!onlyHandlers && !special.noBubble && !jQuery.isWindow(elem)) {
                bubbleType = special.delegateType || type;
                cur = rfocusMorph.test(bubbleType + type) ? elem : elem.parentNode;
                for (old = elem; cur; cur = cur.parentNode) {
                    eventPath.push([cur, bubbleType]);
                    old = cur;
                }
                if (old === (elem.ownerDocument || document)) {
                    eventPath.push([old.defaultView || old.parentWindow || window, bubbleType]);
                }
            }
            for (i = 0; i < eventPath.length && !event.isPropagationStopped(); i++) {
                cur = eventPath[i][0];
                event.type = eventPath[i][1];
                handle = (jQuery._data(cur, "events") || {})[event.type] && jQuery._data(cur, "handle");
                if (handle) {
                    handle.apply(cur, data);
                }
                handle = ontype && cur[ontype];
                if (handle && jQuery.acceptData(cur) && handle.apply && handle.apply(cur, data) === false) {
                    event.preventDefault();
                }
            }
            event.type = type;
            if (!onlyHandlers && !event.isDefaultPrevented()) {
                if ((!special._default || special._default.apply(elem.ownerDocument, data) === false) && !(type === "click" && jQuery.nodeName(elem, "a")) && jQuery.acceptData(elem)) {
                    if (ontype && elem[type] && ((type !== "focus" && type !== "blur") || event.target.offsetWidth !== 0) && !jQuery.isWindow(elem)) {
                        old = elem[ontype];
                        if (old) {
                            elem[ontype] = null;
                        }
                        jQuery.event.triggered = type;
                        elem[type]();
                        jQuery.event.triggered = undefined;
                        if (old) {
                            elem[ontype] = old;
                        }
                    }
                }
            }
            return event.result;
        },dispatch: function(event) {
            event = jQuery.event.fix(event || window.event);
            var i, j, cur, ret, selMatch, matched, matches, handleObj, sel, related, handlers = ((jQuery._data(this, "events") || {})[event.type] || []), delegateCount = handlers.delegateCount, args = core_slice.call(arguments), run_all = !event.exclusive && !event.namespace, special = jQuery.event.special[event.type] || {}, handlerQueue = [];
            args[0] = event;
            event.delegateTarget = this;
            if (special.preDispatch && special.preDispatch.call(this, event) === false) {
                return;
            }
            if (delegateCount && !(event.button && event.type === "click")) {
                for (cur = event.target; cur != this; cur = cur.parentNode || this) {
                    if (cur.disabled !== true || event.type !== "click") {
                        selMatch = {};
                        matches = [];
                        for (i = 0; i < delegateCount; i++) {
                            handleObj = handlers[i];
                            sel = handleObj.selector;
                            if (selMatch[sel] === undefined) {
                                selMatch[sel] = handleObj.needsContext ? jQuery(sel, this).index(cur) >= 0 : jQuery.find(sel, this, null, [cur]).length;
                            }
                            if (selMatch[sel]) {
                                matches.push(handleObj);
                            }
                        }
                        if (matches.length) {
                            handlerQueue.push({elem: cur,matches: matches});
                        }
                    }
                }
            }
            if (handlers.length > delegateCount) {
                handlerQueue.push({elem: this,matches: handlers.slice(delegateCount)});
            }
            for (i = 0; i < handlerQueue.length && !event.isPropagationStopped(); i++) {
                matched = handlerQueue[i];
                event.currentTarget = matched.elem;
                for (j = 0; j < matched.matches.length && !event.isImmediatePropagationStopped(); j++) {
                    handleObj = matched.matches[j];
                    if (run_all || (!event.namespace && !handleObj.namespace) || event.namespace_re && event.namespace_re.test(handleObj.namespace)) {
                        event.data = handleObj.data;
                        event.handleObj = handleObj;
                        ret = ((jQuery.event.special[handleObj.origType] || {}).handle || handleObj.handler).apply(matched.elem, args);
                        if (ret !== undefined) {
                            event.result = ret;
                            if (ret === false) {
                                event.preventDefault();
                                event.stopPropagation();
                            }
                        }
                    }
                }
            }
            if (special.postDispatch) {
                special.postDispatch.call(this, event);
            }
            return event.result;
        },props: "attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks: {},keyHooks: {props: "char charCode key keyCode".split(" "),filter: function(event, original) {
                if (event.which == null) {
                    event.which = original.charCode != null ? original.charCode : original.keyCode;
                }
                return event;
            }},mouseHooks: {props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter: function(event, original) {
                var eventDoc, doc, body, button = original.button, fromElement = original.fromElement;
                if (event.pageX == null && original.clientX != null) {
                    eventDoc = event.target.ownerDocument || document;
                    doc = eventDoc.documentElement;
                    body = eventDoc.body;
                    event.pageX = original.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);
                    event.pageY = original.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);
                }
                if (!event.relatedTarget && fromElement) {
                    event.relatedTarget = fromElement === event.target ? original.toElement : fromElement;
                }
                if (!event.which && button !== undefined) {
                    event.which = (button & 1 ? 1 : (button & 2 ? 3 : (button & 4 ? 2 : 0)));
                }
                return event;
            }},fix: function(event) {
            if (event[jQuery.expando]) {
                return event;
            }
            var i, prop, originalEvent = event, fixHook = jQuery.event.fixHooks[event.type] || {}, copy = fixHook.props ? this.props.concat(fixHook.props) : this.props;
            event = jQuery.Event(originalEvent);
            for (i = copy.length; i; ) {
                prop = copy[--i];
                event[prop] = originalEvent[prop];
            }
            if (!event.target) {
                event.target = originalEvent.srcElement || document;
            }
            if (event.target.nodeType === 3) {
                event.target = event.target.parentNode;
            }
            event.metaKey = !!event.metaKey;
            return fixHook.filter ? fixHook.filter(event, originalEvent) : event;
        },special: {load: {noBubble: true},focus: {delegateType: "focusin"},blur: {delegateType: "focusout"},beforeunload: {setup: function(data, namespaces, eventHandle) {
                    if (jQuery.isWindow(this)) {
                        this.onbeforeunload = eventHandle;
                    }
                },teardown: function(namespaces, eventHandle) {
                    if (this.onbeforeunload === eventHandle) {
                        this.onbeforeunload = null;
                    }
                }}},simulate: function(type, elem, event, bubble) {
            var e = jQuery.extend(new jQuery.Event(), event, {type: type,isSimulated: true,originalEvent: {}});
            if (bubble) {
                jQuery.event.trigger(e, null, elem);
            } else {
                jQuery.event.dispatch.call(elem, e);
            }
            if (e.isDefaultPrevented()) {
                event.preventDefault();
            }
        }};
    jQuery.event.handle = jQuery.event.dispatch;
    jQuery.removeEvent = document.removeEventListener ? function(elem, type, handle) {
        if (elem.removeEventListener) {
            elem.removeEventListener(type, handle, false);
        }
    } : function(elem, type, handle) {
        var name = "on" + type;
        if (elem.detachEvent) {
            if (typeof elem[name] === "undefined") {
                elem[name] = null;
            }
            elem.detachEvent(name, handle);
        }
    };
    jQuery.Event = function(src, props) {
        if (!(this instanceof jQuery.Event)) {
            return new jQuery.Event(src, props);
        }
        if (src && src.type) {
            this.originalEvent = src;
            this.type = src.type;
            this.isDefaultPrevented = (src.defaultPrevented || src.returnValue === false || src.getPreventDefault && src.getPreventDefault()) ? returnTrue : returnFalse;
        } else {
            this.type = src;
        }
        if (props) {
            jQuery.extend(this, props);
        }
        this.timeStamp = src && src.timeStamp || jQuery.now();
        this[jQuery.expando] = true;
    };
    function returnFalse() {
        return false;
    }
    function returnTrue() {
        return true;
    }
    jQuery.Event.prototype = {preventDefault: function() {
            this.isDefaultPrevented = returnTrue;
            var e = this.originalEvent;
            if (!e) {
                return;
            }
            if (e.preventDefault) {
                e.preventDefault();
            } else {
                e.returnValue = false;
            }
        },stopPropagation: function() {
            this.isPropagationStopped = returnTrue;
            var e = this.originalEvent;
            if (!e) {
                return;
            }
            if (e.stopPropagation) {
                e.stopPropagation();
            }
            e.cancelBubble = true;
        },stopImmediatePropagation: function() {
            this.isImmediatePropagationStopped = returnTrue;
            this.stopPropagation();
        },isDefaultPrevented: returnFalse,isPropagationStopped: returnFalse,isImmediatePropagationStopped: returnFalse};
    jQuery.each({mouseenter: "mouseover",mouseleave: "mouseout"}, function(orig, fix) {
        jQuery.event.special[orig] = {delegateType: fix,bindType: fix,handle: function(event) {
                var ret, target = this, related = event.relatedTarget, handleObj = event.handleObj, selector = handleObj.selector;
                if (!related || (related !== target && !jQuery.contains(target, related))) {
                    event.type = handleObj.origType;
                    ret = handleObj.handler.apply(this, arguments);
                    event.type = fix;
                }
                return ret;
            }};
    });
    if (!jQuery.support.submitBubbles) {
        jQuery.event.special.submit = {setup: function() {
                if (jQuery.nodeName(this, "form")) {
                    return false;
                }
                jQuery.event.add(this, "click._submit keypress._submit", function(e) {
                    var elem = e.target, form = jQuery.nodeName(elem, "input") || jQuery.nodeName(elem, "button") ? elem.form : undefined;
                    if (form && !jQuery._data(form, "_submit_attached")) {
                        jQuery.event.add(form, "submit._submit", function(event) {
                            event._submit_bubble = true;
                        });
                        jQuery._data(form, "_submit_attached", true);
                    }
                });
            },postDispatch: function(event) {
                if (event._submit_bubble) {
                    delete event._submit_bubble;
                    if (this.parentNode && !event.isTrigger) {
                        jQuery.event.simulate("submit", this.parentNode, event, true);
                    }
                }
            },teardown: function() {
                if (jQuery.nodeName(this, "form")) {
                    return false;
                }
                jQuery.event.remove(this, "._submit");
            }};
    }
    if (!jQuery.support.changeBubbles) {
        jQuery.event.special.change = {setup: function() {
                if (rformElems.test(this.nodeName)) {
                    if (this.type === "checkbox" || this.type === "radio") {
                        jQuery.event.add(this, "propertychange._change", function(event) {
                            if (event.originalEvent.propertyName === "checked") {
                                this._just_changed = true;
                            }
                        });
                        jQuery.event.add(this, "click._change", function(event) {
                            if (this._just_changed && !event.isTrigger) {
                                this._just_changed = false;
                            }
                            jQuery.event.simulate("change", this, event, true);
                        });
                    }
                    return false;
                }
                jQuery.event.add(this, "beforeactivate._change", function(e) {
                    var elem = e.target;
                    if (rformElems.test(elem.nodeName) && !jQuery._data(elem, "_change_attached")) {
                        jQuery.event.add(elem, "change._change", function(event) {
                            if (this.parentNode && !event.isSimulated && !event.isTrigger) {
                                jQuery.event.simulate("change", this.parentNode, event, true);
                            }
                        });
                        jQuery._data(elem, "_change_attached", true);
                    }
                });
            },handle: function(event) {
                var elem = event.target;
                if (this !== elem || event.isSimulated || event.isTrigger || (elem.type !== "radio" && elem.type !== "checkbox")) {
                    return event.handleObj.handler.apply(this, arguments);
                }
            },teardown: function() {
                jQuery.event.remove(this, "._change");
                return !rformElems.test(this.nodeName);
            }};
    }
    if (!jQuery.support.focusinBubbles) {
        jQuery.each({focus: "focusin",blur: "focusout"}, function(orig, fix) {
            var attaches = 0, handler = function(event) {
                jQuery.event.simulate(fix, event.target, jQuery.event.fix(event), true);
            };
            jQuery.event.special[fix] = {setup: function() {
                    if (attaches++ === 0) {
                        document.addEventListener(orig, handler, true);
                    }
                },teardown: function() {
                    if (--attaches === 0) {
                        document.removeEventListener(orig, handler, true);
                    }
                }};
        });
    }
    jQuery.fn.extend({on: function(types, selector, data, fn, one) {
            var origFn, type;
            if (typeof types === "object") {
                if (typeof selector !== "string") {
                    data = data || selector;
                    selector = undefined;
                }
                for (type in types) {
                    this.on(type, selector, data, types[type], one);
                }
                return this;
            }
            if (data == null && fn == null) {
                fn = selector;
                data = selector = undefined;
            } else if (fn == null) {
                if (typeof selector === "string") {
                    fn = data;
                    data = undefined;
                } else {
                    fn = data;
                    data = selector;
                    selector = undefined;
                }
            }
            if (fn === false) {
                fn = returnFalse;
            } else if (!fn) {
                return this;
            }
            if (one === 1) {
                origFn = fn;
                fn = function(event) {
                    jQuery().off(event);
                    return origFn.apply(this, arguments);
                };
                fn.guid = origFn.guid || (origFn.guid = jQuery.guid++);
            }
            return this.each(function() {
                jQuery.event.add(this, types, fn, data, selector);
            });
        },one: function(types, selector, data, fn) {
            return this.on(types, selector, data, fn, 1);
        },off: function(types, selector, fn) {
            var handleObj, type;
            if (types && types.preventDefault && types.handleObj) {
                handleObj = types.handleObj;
                jQuery(types.delegateTarget).off(handleObj.namespace ? handleObj.origType + "." + handleObj.namespace : handleObj.origType, handleObj.selector, handleObj.handler);
                return this;
            }
            if (typeof types === "object") {
                for (type in types) {
                    this.off(type, selector, types[type]);
                }
                return this;
            }
            if (selector === false || typeof selector === "function") {
                fn = selector;
                selector = undefined;
            }
            if (fn === false) {
                fn = returnFalse;
            }
            return this.each(function() {
                jQuery.event.remove(this, types, fn, selector);
            });
        },bind: function(types, data, fn) {
            return this.on(types, null, data, fn);
        },unbind: function(types, fn) {
            return this.off(types, null, fn);
        },live: function(types, data, fn) {
            jQuery(this.context).on(types, this.selector, data, fn);
            return this;
        },die: function(types, fn) {
            jQuery(this.context).off(types, this.selector || "**", fn);
            return this;
        },delegate: function(selector, types, data, fn) {
            return this.on(types, selector, data, fn);
        },undelegate: function(selector, types, fn) {
            return arguments.length === 1 ? this.off(selector, "**") : this.off(types, selector || "**", fn);
        },trigger: function(type, data) {
            return this.each(function() {
                jQuery.event.trigger(type, data, this);
            });
        },triggerHandler: function(type, data) {
            if (this[0]) {
                return jQuery.event.trigger(type, data, this[0], true);
            }
        },toggle: function(fn) {
            var args = arguments, guid = fn.guid || jQuery.guid++, i = 0, toggler = function(event) {
                var lastToggle = (jQuery._data(this, "lastToggle" + fn.guid) || 0) % i;
                jQuery._data(this, "lastToggle" + fn.guid, lastToggle + 1);
                event.preventDefault();
                return args[lastToggle].apply(this, arguments) || false;
            };
            toggler.guid = guid;
            while (i < args.length) {
                args[i++].guid = guid;
            }
            return this.click(toggler);
        },hover: function(fnOver, fnOut) {
            return this.mouseenter(fnOver).mouseleave(fnOut || fnOver);
        }});
    jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick " + "mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " + "change select submit keydown keypress keyup error contextmenu").split(" "), function(i, name) {
        jQuery.fn[name] = function(data, fn) {
            if (fn == null) {
                fn = data;
                data = null;
            }
            return arguments.length > 0 ? this.on(name, null, data, fn) : this.trigger(name);
        };
        if (rkeyEvent.test(name)) {
            jQuery.event.fixHooks[name] = jQuery.event.keyHooks;
        }
        if (rmouseEvent.test(name)) {
            jQuery.event.fixHooks[name] = jQuery.event.mouseHooks;
        }
    });
    (function(window, undefined) {
        var cachedruns, assertGetIdNotName, Expr, getText, isXML, contains, compile, sortOrder, hasDuplicate, outermostContext, baseHasDuplicate = true, strundefined = "undefined", expando = ("sizcache" + Math.random()).replace(".", ""), Token = String, document = window.document, docElem = document.documentElement, dirruns = 0, done = 0, pop = [].pop, push = [].push, slice = [].slice, indexOf = [].indexOf || function(elem) {
            var i = 0, len = this.length;
            for (; i < len; i++) {
                if (this[i] === elem) {
                    return i;
                }
            }
            return -1;
        }, markFunction = function(fn, value) {
            fn[expando] = value == null || value;
            return fn;
        }, createCache = function() {
            var cache = {}, keys = [];
            return markFunction(function(key, value) {
                if (keys.push(key) > Expr.cacheLength) {
                    delete cache[keys.shift()];
                }
                return (cache[key + " "] = value);
            }, cache);
        }, classCache = createCache(), tokenCache = createCache(), compilerCache = createCache(), whitespace = "[\\x20\\t\\r\\n\\f]", characterEncoding = "(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+", identifier = characterEncoding.replace("w", "w#"), operators = "([*^$|!~]?=)", attributes = "\\[" + whitespace + "*(" + characterEncoding + ")" + whitespace + "*(?:" + operators + whitespace + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + identifier + ")|)|)" + whitespace + "*\\]", pseudos = ":(" + characterEncoding + ")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:" + attributes + ")|[^:]|\\\\.)*|.*))\\)|)", pos = ":(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", rtrim = new RegExp("^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g"), rcomma = new RegExp("^" + whitespace + "*," + whitespace + "*"), rcombinators = new RegExp("^" + whitespace + "*([\\x20\\t\\r\\n\\f>+~])" + whitespace + "*"), rpseudo = new RegExp(pseudos), rquickExpr = /^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/, rnot = /^:not/, rsibling = /[\x20\t\r\n\f]*[+~]/, rendsWithNot = /:not\($/, rheader = /h\d/i, rinputs = /input|select|textarea|button/i, rbackslash = /\\(?!\\)/g, matchExpr = {"ID": new RegExp("^#(" + characterEncoding + ")"),"CLASS": new RegExp("^\\.(" + characterEncoding + ")"),"NAME": new RegExp("^\\[name=['\"]?(" + characterEncoding + ")['\"]?\\]"),"TAG": new RegExp("^(" + characterEncoding.replace("w", "w*") + ")"),"ATTR": new RegExp("^" + attributes),"PSEUDO": new RegExp("^" + pseudos),"POS": new RegExp(pos, "i"),"CHILD": new RegExp("^:(only|nth|first|last)-child(?:\\(" + whitespace + "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace + "*(\\d+)|))" + whitespace + "*\\)|)", "i"),"needsContext": new RegExp("^" + whitespace + "*[>+~]|" + pos, "i")}, assert = function(fn) {
            var div = document.createElement("div");
            try {
                return fn(div);
            } catch (e) {
                return false;
            }finally {
                div = null;
            }
        }, assertTagNameNoComments = assert(function(div) {
            div.appendChild(document.createComment(""));
            return !div.getElementsByTagName("*").length;
        }), assertHrefNotNormalized = assert(function(div) {
            div.innerHTML = "<a href='#'></a>";
            return div.firstChild && typeof div.firstChild.getAttribute !== strundefined && div.firstChild.getAttribute("href") === "#";
        }), assertAttributes = assert(function(div) {
            div.innerHTML = "<select></select>";
            var type = typeof div.lastChild.getAttribute("multiple");
            return type !== "boolean" && type !== "string";
        }), assertUsableClassName = assert(function(div) {
            div.innerHTML = "<div class='hidden e'></div><div class='hidden'></div>";
            if (!div.getElementsByClassName || !div.getElementsByClassName("e").length) {
                return false;
            }
            div.lastChild.className = "e";
            return div.getElementsByClassName("e").length === 2;
        }), assertUsableName = assert(function(div) {
            div.id = expando + 0;
            div.innerHTML = "<a name='" + expando + "'></a><div name='" + expando + "'></div>";
            docElem.insertBefore(div, docElem.firstChild);
            var pass = document.getElementsByName && document.getElementsByName(expando).length === 2 + 
            document.getElementsByName(expando + 0).length;
            assertGetIdNotName = !document.getElementById(expando);
            docElem.removeChild(div);
            return pass;
        });
        try {
            slice.call(docElem.childNodes, 0)[0].nodeType;
        } catch (e) {
            slice = function(i) {
                var elem, results = [];
                for (; (elem = this[i]); i++) {
                    results.push(elem);
                }
                return results;
            };
        }
        function Sizzle(selector, context, results, seed) {
            results = results || [];
            context = context || document;
            var match, elem, xml, m, nodeType = context.nodeType;
            if (!selector || typeof selector !== "string") {
                return results;
            }
            if (nodeType !== 1 && nodeType !== 9) {
                return [];
            }
            xml = isXML(context);
            if (!xml && !seed) {
                if ((match = rquickExpr.exec(selector))) {
                    if ((m = match[1])) {
                        if (nodeType === 9) {
                            elem = context.getElementById(m);
                            if (elem && elem.parentNode) {
                                if (elem.id === m) {
                                    results.push(elem);
                                    return results;
                                }
                            } else {
                                return results;
                            }
                        } else {
                            if (context.ownerDocument && (elem = context.ownerDocument.getElementById(m)) && contains(context, elem) && elem.id === m) {
                                results.push(elem);
                                return results;
                            }
                        }
                    } else if (match[2]) {
                        push.apply(results, slice.call(context.getElementsByTagName(selector), 0));
                        return results;
                    } else if ((m = match[3]) && assertUsableClassName && context.getElementsByClassName) {
                        push.apply(results, slice.call(context.getElementsByClassName(m), 0));
                        return results;
                    }
                }
            }
            return select(selector.replace(rtrim, "$1"), context, results, seed, xml);
        }
        Sizzle.matches = function(expr, elements) {
            return Sizzle(expr, null, null, elements);
        };
        Sizzle.matchesSelector = function(elem, expr) {
            return Sizzle(expr, null, null, [elem]).length > 0;
        };
        function createInputPseudo(type) {
            return function(elem) {
                var name = elem.nodeName.toLowerCase();
                return name === "input" && elem.type === type;
            };
        }
        function createButtonPseudo(type) {
            return function(elem) {
                var name = elem.nodeName.toLowerCase();
                return (name === "input" || name === "button") && elem.type === type;
            };
        }
        function createPositionalPseudo(fn) {
            return markFunction(function(argument) {
                argument = +argument;
                return markFunction(function(seed, matches) {
                    var j, matchIndexes = fn([], seed.length, argument), i = matchIndexes.length;
                    while (i--) {
                        if (seed[(j = matchIndexes[i])]) {
                            seed[j] = !(matches[j] = seed[j]);
                        }
                    }
                });
            });
        }
        getText = Sizzle.getText = function(elem) {
            var node, ret = "", i = 0, nodeType = elem.nodeType;
            if (nodeType) {
                if (nodeType === 1 || nodeType === 9 || nodeType === 11) {
                    if (typeof elem.textContent === "string") {
                        return elem.textContent;
                    } else {
                        for (elem = elem.firstChild; elem; elem = elem.nextSibling) {
                            ret += getText(elem);
                        }
                    }
                } else if (nodeType === 3 || nodeType === 4) {
                    return elem.nodeValue;
                }
            } else {
                for (; (node = elem[i]); i++) {
                    ret += getText(node);
                }
            }
            return ret;
        };
        isXML = Sizzle.isXML = function(elem) {
            var documentElement = elem && (elem.ownerDocument || elem).documentElement;
            return documentElement ? documentElement.nodeName !== "HTML" : false;
        };
        contains = Sizzle.contains = docElem.contains ? function(a, b) {
            var adown = a.nodeType === 9 ? a.documentElement : a, bup = b && b.parentNode;
            return a === bup || !!(bup && bup.nodeType === 1 && adown.contains && adown.contains(bup));
        } : docElem.compareDocumentPosition ? function(a, b) {
            return b && !!(a.compareDocumentPosition(b) & 16);
        } : function(a, b) {
            while ((b = b.parentNode)) {
                if (b === a) {
                    return true;
                }
            }
            return false;
        };
        Sizzle.attr = function(elem, name) {
            var val, xml = isXML(elem);
            if (!xml) {
                name = name.toLowerCase();
            }
            if ((val = Expr.attrHandle[name])) {
                return val(elem);
            }
            if (xml || assertAttributes) {
                return elem.getAttribute(name);
            }
            val = elem.getAttributeNode(name);
            return val ? typeof elem[name] === "boolean" ? elem[name] ? name : null : val.specified ? val.value : null : null;
        };
        Expr = Sizzle.selectors = {cacheLength: 50,createPseudo: markFunction,match: matchExpr,attrHandle: assertHrefNotNormalized ? {} : {"href": function(elem) {
                    return elem.getAttribute("href", 2);
                },"type": function(elem) {
                    return elem.getAttribute("type");
                }},find: {"ID": assertGetIdNotName ? function(id, context, xml) {
                    if (typeof context.getElementById !== strundefined && !xml) {
                        var m = context.getElementById(id);
                        return m && m.parentNode ? [m] : [];
                    }
                } : function(id, context, xml) {
                    if (typeof context.getElementById !== strundefined && !xml) {
                        var m = context.getElementById(id);
                        return m ? m.id === id || typeof m.getAttributeNode !== strundefined && m.getAttributeNode("id").value === id ? [m] : undefined : [];
                    }
                },"TAG": assertTagNameNoComments ? function(tag, context) {
                    if (typeof context.getElementsByTagName !== strundefined) {
                        return context.getElementsByTagName(tag);
                    }
                } : function(tag, context) {
                    var results = context.getElementsByTagName(tag);
                    if (tag === "*") {
                        var elem, tmp = [], i = 0;
                        for (; (elem = results[i]); i++) {
                            if (elem.nodeType === 1) {
                                tmp.push(elem);
                            }
                        }
                        return tmp;
                    }
                    return results;
                },"NAME": assertUsableName && function(tag, context) {
                    if (typeof context.getElementsByName !== strundefined) {
                        return context.getElementsByName(name);
                    }
                },"CLASS": assertUsableClassName && function(className, context, xml) {
                    if (typeof context.getElementsByClassName !== strundefined && !xml) {
                        return context.getElementsByClassName(className);
                    }
                }},relative: {">": {dir: "parentNode",first: true}," ": {dir: "parentNode"},"+": {dir: "previousSibling",first: true},"~": {dir: "previousSibling"}},preFilter: {"ATTR": function(match) {
                    match[1] = match[1].replace(rbackslash, "");
                    match[3] = (match[4] || match[5] || "").replace(rbackslash, "");
                    if (match[2] === "~=") {
                        match[3] = " " + match[3] + " ";
                    }
                    return match.slice(0, 4);
                },"CHILD": function(match) {
                    match[1] = match[1].toLowerCase();
                    if (match[1] === "nth") {
                        if (!match[2]) {
                            Sizzle.error(match[0]);
                        }
                        match[3] = +(match[3] ? match[4] + (match[5] || 1) : 2 * (match[2] === "even" || match[2] === "odd"));
                        match[4] = +((match[6] + match[7]) || match[2] === "odd");
                    } else if (match[2]) {
                        Sizzle.error(match[0]);
                    }
                    return match;
                },"PSEUDO": function(match) {
                    var unquoted, excess;
                    if (matchExpr["CHILD"].test(match[0])) {
                        return null;
                    }
                    if (match[3]) {
                        match[2] = match[3];
                    } else if ((unquoted = match[4])) {
                        if (rpseudo.test(unquoted) && (excess = tokenize(unquoted, true)) && (excess = unquoted.indexOf(")", unquoted.length - excess) - unquoted.length)) {
                            unquoted = unquoted.slice(0, excess);
                            match[0] = match[0].slice(0, excess);
                        }
                        match[2] = unquoted;
                    }
                    return match.slice(0, 3);
                }},filter: {"ID": assertGetIdNotName ? function(id) {
                    id = id.replace(rbackslash, "");
                    return function(elem) {
                        return elem.getAttribute("id") === id;
                    };
                } : function(id) {
                    id = id.replace(rbackslash, "");
                    return function(elem) {
                        var node = typeof elem.getAttributeNode !== strundefined && elem.getAttributeNode("id");
                        return node && node.value === id;
                    };
                },"TAG": function(nodeName) {
                    if (nodeName === "*") {
                        return function() {
                            return true;
                        };
                    }
                    nodeName = nodeName.replace(rbackslash, "").toLowerCase();
                    return function(elem) {
                        return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
                    };
                },"CLASS": function(className) {
                    var pattern = classCache[expando][className + " "];
                    return pattern || (pattern = new RegExp("(^|" + whitespace + ")" + className + "(" + whitespace + "|$)")) && classCache(className, function(elem) {
                        return pattern.test(elem.className || (typeof elem.getAttribute !== strundefined && elem.getAttribute("class")) || "");
                    });
                },"ATTR": function(name, operator, check) {
                    return function(elem, context) {
                        var result = Sizzle.attr(elem, name);
                        if (result == null) {
                            return operator === "!=";
                        }
                        if (!operator) {
                            return true;
                        }
                        result += "";
                        return operator === "=" ? result === check : operator === "!=" ? result !== check : operator === "^=" ? check && result.indexOf(check) === 0 : operator === "*=" ? check && result.indexOf(check) > -1 : operator === "$=" ? check && result.substr(result.length - check.length) === check : operator === "~=" ? (" " + result + " ").indexOf(check) > -1 : operator === "|=" ? result === check || result.substr(0, check.length + 1) === check + "-" : false;
                    };
                },"CHILD": function(type, argument, first, last) {
                    if (type === "nth") {
                        return function(elem) {
                            var node, diff, parent = elem.parentNode;
                            if (first === 1 && last === 0) {
                                return true;
                            }
                            if (parent) {
                                diff = 0;
                                for (node = parent.firstChild; node; node = node.nextSibling) {
                                    if (node.nodeType === 1) {
                                        diff++;
                                        if (elem === node) {
                                            break;
                                        }
                                    }
                                }
                            }
                            diff -= last;
                            return diff === first || (diff % first === 0 && diff / first >= 0);
                        };
                    }
                    return function(elem) {
                        var node = elem;
                        switch (type) {
                            case "only":
                            case "first":
                                while ((node = node.previousSibling)) {
                                    if (node.nodeType === 1) {
                                        return false;
                                    }
                                }
                                if (type === "first") {
                                    return true;
                                }
                                node = elem;
                            case "last":
                                while ((node = node.nextSibling)) {
                                    if (node.nodeType === 1) {
                                        return false;
                                    }
                                }
                                return true;
                        }
                    };
                },"PSEUDO": function(pseudo, argument) {
                    var args, fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || Sizzle.error("unsupported pseudo: " + pseudo);
                    if (fn[expando]) {
                        return fn(argument);
                    }
                    if (fn.length > 1) {
                        args = [pseudo, pseudo, "", argument];
                        return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function(seed, matches) {
                            var idx, matched = fn(seed, argument), i = matched.length;
                            while (i--) {
                                idx = indexOf.call(seed, matched[i]);
                                seed[idx] = !(matches[idx] = matched[i]);
                            }
                        }) : function(elem) {
                            return fn(elem, 0, args);
                        };
                    }
                    return fn;
                }},pseudos: {"not": markFunction(function(selector) {
                    var input = [], results = [], matcher = compile(selector.replace(rtrim, "$1"));
                    return matcher[expando] ? markFunction(function(seed, matches, context, xml) {
                        var elem, unmatched = matcher(seed, null, xml, []), i = seed.length;
                        while (i--) {
                            if ((elem = unmatched[i])) {
                                seed[i] = !(matches[i] = elem);
                            }
                        }
                    }) : function(elem, context, xml) {
                        input[0] = elem;
                        matcher(input, null, xml, results);
                        return !results.pop();
                    };
                }),"has": markFunction(function(selector) {
                    return function(elem) {
                        return Sizzle(selector, elem).length > 0;
                    };
                }),"contains": markFunction(function(text) {
                    return function(elem) {
                        return (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1;
                    };
                }),"enabled": function(elem) {
                    return elem.disabled === false;
                },"disabled": function(elem) {
                    return elem.disabled === true;
                },"checked": function(elem) {
                    var nodeName = elem.nodeName.toLowerCase();
                    return (nodeName === "input" && !!elem.checked) || (nodeName === "option" && !!elem.selected);
                },"selected": function(elem) {
                    if (elem.parentNode) {
                        elem.parentNode.selectedIndex;
                    }
                    return elem.selected === true;
                },"parent": function(elem) {
                    return !Expr.pseudos["empty"](elem);
                },"empty": function(elem) {
                    var nodeType;
                    elem = elem.firstChild;
                    while (elem) {
                        if (elem.nodeName > "@" || (nodeType = elem.nodeType) === 3 || nodeType === 4) {
                            return false;
                        }
                        elem = elem.nextSibling;
                    }
                    return true;
                },"header": function(elem) {
                    return rheader.test(elem.nodeName);
                },"text": function(elem) {
                    var type, attr;
                    return elem.nodeName.toLowerCase() === "input" && (type = elem.type) === "text" && ((attr = elem.getAttribute("type")) == null || attr.toLowerCase() === type);
                },"radio": createInputPseudo("radio"),"checkbox": createInputPseudo("checkbox"),"file": createInputPseudo("file"),"password": createInputPseudo("password"),"image": createInputPseudo("image"),"submit": createButtonPseudo("submit"),"reset": createButtonPseudo("reset"),"button": function(elem) {
                    var name = elem.nodeName.toLowerCase();
                    return name === "input" && elem.type === "button" || name === "button";
                },"input": function(elem) {
                    return rinputs.test(elem.nodeName);
                },"focus": function(elem) {
                    var doc = elem.ownerDocument;
                    return elem === doc.activeElement && (!doc.hasFocus || doc.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);
                },"active": function(elem) {
                    return elem === elem.ownerDocument.activeElement;
                },"first": createPositionalPseudo(function() {
                    return [0];
                }),"last": createPositionalPseudo(function(matchIndexes, length) {
                    return [length - 1];
                }),"eq": createPositionalPseudo(function(matchIndexes, length, argument) {
                    return [argument < 0 ? argument + length : argument];
                }),"even": createPositionalPseudo(function(matchIndexes, length) {
                    for (var i = 0; i < length; i += 2) {
                        matchIndexes.push(i);
                    }
                    return matchIndexes;
                }),"odd": createPositionalPseudo(function(matchIndexes, length) {
                    for (var i = 1; i < length; i += 2) {
                        matchIndexes.push(i);
                    }
                    return matchIndexes;
                }),"lt": createPositionalPseudo(function(matchIndexes, length, argument) {
                    for (var i = argument < 0 ? argument + length : argument; --i >= 0; ) {
                        matchIndexes.push(i);
                    }
                    return matchIndexes;
                }),"gt": createPositionalPseudo(function(matchIndexes, length, argument) {
                    for (var i = argument < 0 ? argument + length : argument; ++i < length; ) {
                        matchIndexes.push(i);
                    }
                    return matchIndexes;
                })}};
        function siblingCheck(a, b, ret) {
            if (a === b) {
                return ret;
            }
            var cur = a.nextSibling;
            while (cur) {
                if (cur === b) {
                    return -1;
                }
                cur = cur.nextSibling;
            }
            return 1;
        }
        sortOrder = docElem.compareDocumentPosition ? function(a, b) {
            if (a === b) {
                hasDuplicate = true;
                return 0;
            }
            return (!a.compareDocumentPosition || !b.compareDocumentPosition ? a.compareDocumentPosition : a.compareDocumentPosition(b) & 4) ? -1 : 1;
        } : function(a, b) {
            if (a === b) {
                hasDuplicate = true;
                return 0;
            } else if (a.sourceIndex && b.sourceIndex) {
                return a.sourceIndex - b.sourceIndex;
            }
            var al, bl, ap = [], bp = [], aup = a.parentNode, bup = b.parentNode, cur = aup;
            if (aup === bup) {
                return siblingCheck(a, b);
            } else if (!aup) {
                return -1;
            } else if (!bup) {
                return 1;
            }
            while (cur) {
                ap.unshift(cur);
                cur = cur.parentNode;
            }
            cur = bup;
            while (cur) {
                bp.unshift(cur);
                cur = cur.parentNode;
            }
            al = ap.length;
            bl = bp.length;
            for (var i = 0; i < al && i < bl; i++) {
                if (ap[i] !== bp[i]) {
                    return siblingCheck(ap[i], bp[i]);
                }
            }
            return i === al ? siblingCheck(a, bp[i], -1) : siblingCheck(ap[i], b, 1);
        };
        [0, 0].sort(sortOrder);
        baseHasDuplicate = !hasDuplicate;
        Sizzle.uniqueSort = function(results) {
            var elem, duplicates = [], i = 1, j = 0;
            hasDuplicate = baseHasDuplicate;
            results.sort(sortOrder);
            if (hasDuplicate) {
                for (; (elem = results[i]); i++) {
                    if (elem === results[i - 1]) {
                        j = duplicates.push(i);
                    }
                }
                while (j--) {
                    results.splice(duplicates[j], 1);
                }
            }
            return results;
        };
        Sizzle.error = function(msg) {
            throw new Error("Syntax error, unrecognized expression: " + msg);
        };
        function tokenize(selector, parseOnly) {
            var matched, match, tokens, type, soFar, groups, preFilters, cached = tokenCache[expando][selector + " "];
            if (cached) {
                return parseOnly ? 0 : cached.slice(0);
            }
            soFar = selector;
            groups = [];
            preFilters = Expr.preFilter;
            while (soFar) {
                if (!matched || (match = rcomma.exec(soFar))) {
                    if (match) {
                        soFar = soFar.slice(match[0].length) || soFar;
                    }
                    groups.push(tokens = []);
                }
                matched = false;
                if ((match = rcombinators.exec(soFar))) {
                    tokens.push(matched = new Token(match.shift()));
                    soFar = soFar.slice(matched.length);
                    matched.type = match[0].replace(rtrim, " ");
                }
                for (type in Expr.filter) {
                    if ((match = matchExpr[type].exec(soFar)) && (!preFilters[type] || (match = preFilters[type](match)))) {
                        tokens.push(matched = new Token(match.shift()));
                        soFar = soFar.slice(matched.length);
                        matched.type = type;
                        matched.matches = match;
                    }
                }
                if (!matched) {
                    break;
                }
            }
            return parseOnly ? soFar.length : soFar ? Sizzle.error(selector) : tokenCache(selector, groups).slice(0);
        }
        function addCombinator(matcher, combinator, base) {
            var dir = combinator.dir, checkNonElements = base && combinator.dir === "parentNode", doneName = done++;
            return combinator.first ? function(elem, context, xml) {
                while ((elem = elem[dir])) {
                    if (checkNonElements || elem.nodeType === 1) {
                        return matcher(elem, context, xml);
                    }
                }
            } : function(elem, context, xml) {
                if (!xml) {
                    var cache, dirkey = dirruns + " " + doneName + " ", cachedkey = dirkey + cachedruns;
                    while ((elem = elem[dir])) {
                        if (checkNonElements || elem.nodeType === 1) {
                            if ((cache = elem[expando]) === cachedkey) {
                                return elem.sizset;
                            } else if (typeof cache === "string" && cache.indexOf(dirkey) === 0) {
                                if (elem.sizset) {
                                    return elem;
                                }
                            } else {
                                elem[expando] = cachedkey;
                                if (matcher(elem, context, xml)) {
                                    elem.sizset = true;
                                    return elem;
                                }
                                elem.sizset = false;
                            }
                        }
                    }
                } else {
                    while ((elem = elem[dir])) {
                        if (checkNonElements || elem.nodeType === 1) {
                            if (matcher(elem, context, xml)) {
                                return elem;
                            }
                        }
                    }
                }
            };
        }
        function elementMatcher(matchers) {
            return matchers.length > 1 ? function(elem, context, xml) {
                var i = matchers.length;
                while (i--) {
                    if (!matchers[i](elem, context, xml)) {
                        return false;
                    }
                }
                return true;
            } : matchers[0];
        }
        function condense(unmatched, map, filter, context, xml) {
            var elem, newUnmatched = [], i = 0, len = unmatched.length, mapped = map != null;
            for (; i < len; i++) {
                if ((elem = unmatched[i])) {
                    if (!filter || filter(elem, context, xml)) {
                        newUnmatched.push(elem);
                        if (mapped) {
                            map.push(i);
                        }
                    }
                }
            }
            return newUnmatched;
        }
        function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {
            if (postFilter && !postFilter[expando]) {
                postFilter = setMatcher(postFilter);
            }
            if (postFinder && !postFinder[expando]) {
                postFinder = setMatcher(postFinder, postSelector);
            }
            return markFunction(function(seed, results, context, xml) {
                var temp, i, elem, preMap = [], postMap = [], preexisting = results.length, elems = seed || multipleContexts(selector || "*", context.nodeType ? [context] : context, []), matcherIn = preFilter && (seed || !selector) ? condense(elems, preMap, preFilter, context, xml) : elems, matcherOut = matcher ? postFinder || (seed ? preFilter : preexisting || postFilter) ? [] : results : matcherIn;
                if (matcher) {
                    matcher(matcherIn, matcherOut, context, xml);
                }
                if (postFilter) {
                    temp = condense(matcherOut, postMap);
                    postFilter(temp, [], context, xml);
                    i = temp.length;
                    while (i--) {
                        if ((elem = temp[i])) {
                            matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);
                        }
                    }
                }
                if (seed) {
                    if (postFinder || preFilter) {
                        if (postFinder) {
                            temp = [];
                            i = matcherOut.length;
                            while (i--) {
                                if ((elem = matcherOut[i])) {
                                    temp.push((matcherIn[i] = elem));
                                }
                            }
                            postFinder(null, (matcherOut = []), temp, xml);
                        }
                        i = matcherOut.length;
                        while (i--) {
                            if ((elem = matcherOut[i]) && (temp = postFinder ? indexOf.call(seed, elem) : preMap[i]) > -1) {
                                seed[temp] = !(results[temp] = elem);
                            }
                        }
                    }
                } else {
                    matcherOut = condense(matcherOut === results ? matcherOut.splice(preexisting, matcherOut.length) : matcherOut);
                    if (postFinder) {
                        postFinder(null, results, matcherOut, xml);
                    } else {
                        push.apply(results, matcherOut);
                    }
                }
            });
        }
        function matcherFromTokens(tokens) {
            var checkContext, matcher, j, len = tokens.length, leadingRelative = Expr.relative[tokens[0].type], implicitRelative = leadingRelative || Expr.relative[" "], i = leadingRelative ? 1 : 0, matchContext = addCombinator(function(elem) {
                return elem === checkContext;
            }, implicitRelative, true), matchAnyContext = addCombinator(function(elem) {
                return indexOf.call(checkContext, elem) > -1;
            }, implicitRelative, true), matchers = [function(elem, context, xml) {
                    return (!leadingRelative && (xml || context !== outermostContext)) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml));
                }];
            for (; i < len; i++) {
                if ((matcher = Expr.relative[tokens[i].type])) {
                    matchers = [addCombinator(elementMatcher(matchers), matcher)];
                } else {
                    matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);
                    if (matcher[expando]) {
                        j = ++i;
                        for (; j < len; j++) {
                            if (Expr.relative[tokens[j].type]) {
                                break;
                            }
                        }
                        return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && tokens.slice(0, i - 1).join("").replace(rtrim, "$1"), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens((tokens = tokens.slice(j))), j < len && tokens.join(""));
                    }
                    matchers.push(matcher);
                }
            }
            return elementMatcher(matchers);
        }
        function matcherFromGroupMatchers(elementMatchers, setMatchers) {
            var bySet = setMatchers.length > 0, byElement = elementMatchers.length > 0, superMatcher = function(seed, context, xml, results, expandContext) {
                var elem, j, matcher, setMatched = [], matchedCount = 0, i = "0", unmatched = seed && [], outermost = expandContext != null, contextBackup = outermostContext, elems = seed || byElement && Expr.find["TAG"]("*", expandContext && context.parentNode || context), dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.E);
                if (outermost) {
                    outermostContext = context !== document && context;
                    cachedruns = superMatcher.el;
                }
                for (; (elem = elems[i]) != null; i++) {
                    if (byElement && elem) {
                        for (j = 0; (matcher = elementMatchers[j]); j++) {
                            if (matcher(elem, context, xml)) {
                                results.push(elem);
                                break;
                            }
                        }
                        if (outermost) {
                            dirruns = dirrunsUnique;
                            cachedruns = ++superMatcher.el;
                        }
                    }
                    if (bySet) {
                        if ((elem = !matcher && elem)) {
                            matchedCount--;
                        }
                        if (seed) {
                            unmatched.push(elem);
                        }
                    }
                }
                matchedCount += i;
                if (bySet && i !== matchedCount) {
                    for (j = 0; (matcher = setMatchers[j]); j++) {
                        matcher(unmatched, setMatched, context, xml);
                    }
                    if (seed) {
                        if (matchedCount > 0) {
                            while (i--) {
                                if (!(unmatched[i] || setMatched[i])) {
                                    setMatched[i] = pop.call(results);
                                }
                            }
                        }
                        setMatched = condense(setMatched);
                    }
                    push.apply(results, setMatched);
                    if (outermost && !seed && setMatched.length > 0 && (matchedCount + setMatchers.length) > 1) {
                        Sizzle.uniqueSort(results);
                    }
                }
                if (outermost) {
                    dirruns = dirrunsUnique;
                    outermostContext = contextBackup;
                }
                return unmatched;
            };
            superMatcher.el = 0;
            return bySet ? markFunction(superMatcher) : superMatcher;
        }
        compile = Sizzle.compile = function(selector, group) {
            var i, setMatchers = [], elementMatchers = [], cached = compilerCache[expando][selector + " "];
            if (!cached) {
                if (!group) {
                    group = tokenize(selector);
                }
                i = group.length;
                while (i--) {
                    cached = matcherFromTokens(group[i]);
                    if (cached[expando]) {
                        setMatchers.push(cached);
                    } else {
                        elementMatchers.push(cached);
                    }
                }
                cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));
            }
            return cached;
        };
        function multipleContexts(selector, contexts, results) {
            var i = 0, len = contexts.length;
            for (; i < len; i++) {
                Sizzle(selector, contexts[i], results);
            }
            return results;
        }
        function select(selector, context, results, seed, xml) {
            var i, tokens, token, type, find, match = tokenize(selector), j = match.length;
            if (!seed) {
                if (match.length === 1) {
                    tokens = match[0] = match[0].slice(0);
                    if (tokens.length > 2 && (token = tokens[0]).type === "ID" && context.nodeType === 9 && !xml && Expr.relative[tokens[1].type]) {
                        context = Expr.find["ID"](token.matches[0].replace(rbackslash, ""), context, xml)[0];
                        if (!context) {
                            return results;
                        }
                        selector = selector.slice(tokens.shift().length);
                    }
                    for (i = matchExpr["POS"].test(selector) ? -1 : tokens.length - 1; i >= 0; i--) {
                        token = tokens[i];
                        if (Expr.relative[(type = token.type)]) {
                            break;
                        }
                        if ((find = Expr.find[type])) {
                            if ((seed = find(token.matches[0].replace(rbackslash, ""), rsibling.test(tokens[0].type) && context.parentNode || context, xml))) {
                                tokens.splice(i, 1);
                                selector = seed.length && tokens.join("");
                                if (!selector) {
                                    push.apply(results, slice.call(seed, 0));
                                    return results;
                                }
                                break;
                            }
                        }
                    }
                }
            }
            compile(selector, match)(seed, context, xml, results, rsibling.test(selector));
            return results;
        }
        if (document.querySelectorAll) {
            (function() {
                var disconnectedMatch, oldSelect = select, rescape = /'|\\/g, rattributeQuotes = /\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g, rbuggyQSA = [":focus"], rbuggyMatches = [":active"], matches = docElem.matchesSelector || docElem.mozMatchesSelector || docElem.webkitMatchesSelector || docElem.oMatchesSelector || docElem.msMatchesSelector;
                assert(function(div) {
                    div.innerHTML = "<select><option selected=''></option></select>";
                    if (!div.querySelectorAll("[selected]").length) {
                        rbuggyQSA.push("\\[" + whitespace + "*(?:checked|disabled|ismap|multiple|readonly|selected|value)");
                    }
                    if (!div.querySelectorAll(":checked").length) {
                        rbuggyQSA.push(":checked");
                    }
                });
                assert(function(div) {
                    div.innerHTML = "<p test=''></p>";
                    if (div.querySelectorAll("[test^='']").length) {
                        rbuggyQSA.push("[*^$]=" + whitespace + "*(?:\"\"|'')");
                    }
                    div.innerHTML = "<input type='hidden'/>";
                    if (!div.querySelectorAll(":enabled").length) {
                        rbuggyQSA.push(":enabled", ":disabled");
                    }
                });
                rbuggyQSA = new RegExp(rbuggyQSA.join("|"));
                select = function(selector, context, results, seed, xml) {
                    if (!seed && !xml && !rbuggyQSA.test(selector)) {
                        var groups, i, old = true, nid = expando, newContext = context, newSelector = context.nodeType === 9 && selector;
                        if (context.nodeType === 1 && context.nodeName.toLowerCase() !== "object") {
                            groups = tokenize(selector);
                            if ((old = context.getAttribute("id"))) {
                                nid = old.replace(rescape, "\\$&");
                            } else {
                                context.setAttribute("id", nid);
                            }
                            nid = "[id='" + nid + "'] ";
                            i = groups.length;
                            while (i--) {
                                groups[i] = nid + groups[i].join("");
                            }
                            newContext = rsibling.test(selector) && context.parentNode || context;
                            newSelector = groups.join(",");
                        }
                        if (newSelector) {
                            try {
                                push.apply(results, slice.call(newContext.querySelectorAll(newSelector), 0));
                                return results;
                            } catch (qsaError) {
                            }finally {
                                if (!old) {
                                    context.removeAttribute("id");
                                }
                            }
                        }
                    }
                    return oldSelect(selector, context, results, seed, xml);
                };
                if (matches) {
                    assert(function(div) {
                        disconnectedMatch = matches.call(div, "div");
                        try {
                            matches.call(div, "[test!='']:sizzle");
                            rbuggyMatches.push("!=", pseudos);
                        } catch (e) {
                        }
                    });
                    rbuggyMatches = new RegExp(rbuggyMatches.join("|"));
                    Sizzle.matchesSelector = function(elem, expr) {
                        expr = expr.replace(rattributeQuotes, "='$1']");
                        if (!isXML(elem) && !rbuggyMatches.test(expr) && !rbuggyQSA.test(expr)) {
                            try {
                                var ret = matches.call(elem, expr);
                                if (ret || disconnectedMatch || elem.document && elem.document.nodeType !== 11) {
                                    return ret;
                                }
                            } catch (e) {
                            }
                        }
                        return Sizzle(expr, null, null, [elem]).length > 0;
                    };
                }
            })();
        }
        Expr.pseudos["nth"] = Expr.pseudos["eq"];
        function setFilters() {
        }
        Expr.filters = setFilters.prototype = Expr.pseudos;
        Expr.setFilters = new setFilters();
        Sizzle.attr = jQuery.attr;
        jQuery.find = Sizzle;
        jQuery.expr = Sizzle.selectors;
        jQuery.expr[":"] = jQuery.expr.pseudos;
        jQuery.unique = Sizzle.uniqueSort;
        jQuery.text = Sizzle.getText;
        jQuery.isXMLDoc = Sizzle.isXML;
        jQuery.contains = Sizzle.contains;
    })(window);
    var runtil = /Until$/, rparentsprev = /^(?:parents|prev(?:Until|All))/, isSimple = /^.[^:#\[\.,]*$/, rneedsContext = jQuery.expr.match.needsContext, guaranteedUnique = {children: true,contents: true,next: true,prev: true};
    jQuery.fn.extend({find: function(selector) {
            var i, l, length, n, r, ret, self = this;
            if (typeof selector !== "string") {
                return jQuery(selector).filter(function() {
                    for (i = 0, l = self.length; i < l; i++) {
                        if (jQuery.contains(self[i], this)) {
                            return true;
                        }
                    }
                });
            }
            ret = this.pushStack("", "find", selector);
            for (i = 0, l = this.length; i < l; i++) {
                length = ret.length;
                jQuery.find(selector, this[i], ret);
                if (i > 0) {
                    for (n = length; n < ret.length; n++) {
                        for (r = 0; r < length; r++) {
                            if (ret[r] === ret[n]) {
                                ret.splice(n--, 1);
                                break;
                            }
                        }
                    }
                }
            }
            return ret;
        },has: function(target) {
            var i, targets = jQuery(target, this), len = targets.length;
            return this.filter(function() {
                for (i = 0; i < len; i++) {
                    if (jQuery.contains(this, targets[i])) {
                        return true;
                    }
                }
            });
        },not: function(selector) {
            return this.pushStack(winnow(this, selector, false), "not", selector);
        },filter: function(selector) {
            return this.pushStack(winnow(this, selector, true), "filter", selector);
        },is: function(selector) {
            return !!selector && (typeof selector === "string" ? rneedsContext.test(selector) ? jQuery(selector, this.context).index(this[0]) >= 0 : jQuery.filter(selector, this).length > 0 : this.filter(selector).length > 0);
        },closest: function(selectors, context) {
            var cur, i = 0, l = this.length, ret = [], pos = rneedsContext.test(selectors) || typeof selectors !== "string" ? jQuery(selectors, context || this.context) : 0;
            for (; i < l; i++) {
                cur = this[i];
                while (cur && cur.ownerDocument && cur !== context && cur.nodeType !== 11) {
                    if (pos ? pos.index(cur) > -1 : jQuery.find.matchesSelector(cur, selectors)) {
                        ret.push(cur);
                        break;
                    }
                    cur = cur.parentNode;
                }
            }
            ret = ret.length > 1 ? jQuery.unique(ret) : ret;
            return this.pushStack(ret, "closest", selectors);
        },index: function(elem) {
            if (!elem) {
                return (this[0] && this[0].parentNode) ? this.prevAll().length : -1;
            }
            if (typeof elem === "string") {
                return jQuery.inArray(this[0], jQuery(elem));
            }
            return jQuery.inArray(elem.jquery ? elem[0] : elem, this);
        },add: function(selector, context) {
            var set = typeof selector === "string" ? jQuery(selector, context) : jQuery.makeArray(selector && selector.nodeType ? [selector] : selector), all = jQuery.merge(this.get(), set);
            return this.pushStack(isDisconnected(set[0]) || isDisconnected(all[0]) ? all : jQuery.unique(all));
        },addBack: function(selector) {
            return this.add(selector == null ? this.prevObject : this.prevObject.filter(selector));
        }});
    jQuery.fn.andSelf = jQuery.fn.addBack;
    function isDisconnected(node) {
        return !node || !node.parentNode || node.parentNode.nodeType === 11;
    }
    function sibling(cur, dir) {
        do {
            cur = cur[dir];
        } while (cur && cur.nodeType !== 1);
        return cur;
    }
    jQuery.each({parent: function(elem) {
            var parent = elem.parentNode;
            return parent && parent.nodeType !== 11 ? parent : null;
        },parents: function(elem) {
            return jQuery.dir(elem, "parentNode");
        },parentsUntil: function(elem, i, until) {
            return jQuery.dir(elem, "parentNode", until);
        },next: function(elem) {
            return sibling(elem, "nextSibling");
        },prev: function(elem) {
            return sibling(elem, "previousSibling");
        },nextAll: function(elem) {
            return jQuery.dir(elem, "nextSibling");
        },prevAll: function(elem) {
            return jQuery.dir(elem, "previousSibling");
        },nextUntil: function(elem, i, until) {
            return jQuery.dir(elem, "nextSibling", until);
        },prevUntil: function(elem, i, until) {
            return jQuery.dir(elem, "previousSibling", until);
        },siblings: function(elem) {
            return jQuery.sibling((elem.parentNode || {}).firstChild, elem);
        },children: function(elem) {
            return jQuery.sibling(elem.firstChild);
        },contents: function(elem) {
            return jQuery.nodeName(elem, "iframe") ? elem.contentDocument || elem.contentWindow.document : jQuery.merge([], elem.childNodes);
        }}, function(name, fn) {
        jQuery.fn[name] = function(until, selector) {
            var ret = jQuery.map(this, fn, until);
            if (!runtil.test(name)) {
                selector = until;
            }
            if (selector && typeof selector === "string") {
                ret = jQuery.filter(selector, ret);
            }
            ret = this.length > 1 && !guaranteedUnique[name] ? jQuery.unique(ret) : ret;
            if (this.length > 1 && rparentsprev.test(name)) {
                ret = ret.reverse();
            }
            return this.pushStack(ret, name, core_slice.call(arguments).join(","));
        };
    });
    jQuery.extend({filter: function(expr, elems, not) {
            if (not) {
                expr = ":not(" + expr + ")";
            }
            return elems.length === 1 ? jQuery.find.matchesSelector(elems[0], expr) ? [elems[0]] : [] : jQuery.find.matches(expr, elems);
        },dir: function(elem, dir, until) {
            var matched = [], cur = elem[dir];
            while (cur && cur.nodeType !== 9 && (until === undefined || cur.nodeType !== 1 || !jQuery(cur).is(until))) {
                if (cur.nodeType === 1) {
                    matched.push(cur);
                }
                cur = cur[dir];
            }
            return matched;
        },sibling: function(n, elem) {
            var r = [];
            for (; n; n = n.nextSibling) {
                if (n.nodeType === 1 && n !== elem) {
                    r.push(n);
                }
            }
            return r;
        }});
    function winnow(elements, qualifier, keep) {
        qualifier = qualifier || 0;
        if (jQuery.isFunction(qualifier)) {
            return jQuery.grep(elements, function(elem, i) {
                var retVal = !!qualifier.call(elem, i, elem);
                return retVal === keep;
            });
        } else if (qualifier.nodeType) {
            return jQuery.grep(elements, function(elem, i) {
                return (elem === qualifier) === keep;
            });
        } else if (typeof qualifier === "string") {
            var filtered = jQuery.grep(elements, function(elem) {
                return elem.nodeType === 1;
            });
            if (isSimple.test(qualifier)) {
                return jQuery.filter(qualifier, filtered, !keep);
            } else {
                qualifier = jQuery.filter(qualifier, filtered);
            }
        }
        return jQuery.grep(elements, function(elem, i) {
            return (jQuery.inArray(elem, qualifier) >= 0) === keep;
        });
    }
    function createSafeFragment(document) {
        var list = nodeNames.split("|"), safeFrag = document.createDocumentFragment();
        if (safeFrag.createElement) {
            while (list.length) {
                safeFrag.createElement(list.pop());
            }
        }
        return safeFrag;
    }
    var nodeNames = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|" + "header|hgroup|mark|meter|nav|output|progress|section|summary|time|video", rinlinejQuery = / jQuery\d+="(?:null|\d+)"/g, rleadingWhitespace = /^\s+/, rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, rtagName = /<([\w:]+)/, rtbody = /<tbody/i, rhtml = /<|&#?\w+;/, rnoInnerhtml = /<(?:script|style|link)/i, rnocache = /<(?:script|object|embed|option|style)/i, rnoshimcache = new RegExp("<(?:" + nodeNames + ")[\\s/>]", "i"), rcheckableType = /^(?:checkbox|radio)$/, rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i, rscriptType = /\/(java|ecma)script/i, rcleanScript = /^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g, wrapMap = {option: [1, "<select multiple='multiple'>", "</select>"],legend: [1, "<fieldset>", "</fieldset>"],thead: [1, "<table>", "</table>"],tr: [2, "<table><tbody>", "</tbody></table>"],td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],area: [1, "<map>", "</map>"],_default: [0, "", ""]}, safeFragment = createSafeFragment(document), fragmentDiv = safeFragment.appendChild(document.createElement("div"));
    wrapMap.optgroup = wrapMap.option;
    wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
    wrapMap.th = wrapMap.td;
    if (!jQuery.support.htmlSerialize) {
        wrapMap._default = [1, "X<div>", "</div>"];
    }
    jQuery.fn.extend({text: function(value) {
            return jQuery.access(this, function(value) {
                return value === undefined ? jQuery.text(this) : this.empty().append((this[0] && this[0].ownerDocument || document).createTextNode(value));
            }, null, value, arguments.length);
        },wrapAll: function(html) {
            if (jQuery.isFunction(html)) {
                return this.each(function(i) {
                    jQuery(this).wrapAll(html.call(this, i));
                });
            }
            if (this[0]) {
                var wrap = jQuery(html, this[0].ownerDocument).eq(0).clone(true);
                if (this[0].parentNode) {
                    wrap.insertBefore(this[0]);
                }
                wrap.map(function() {
                    var elem = this;
                    while (elem.firstChild && elem.firstChild.nodeType === 1) {
                        elem = elem.firstChild;
                    }
                    return elem;
                }).append(this);
            }
            return this;
        },wrapInner: function(html) {
            if (jQuery.isFunction(html)) {
                return this.each(function(i) {
                    jQuery(this).wrapInner(html.call(this, i));
                });
            }
            return this.each(function() {
                var self = jQuery(this), contents = self.contents();
                if (contents.length) {
                    contents.wrapAll(html);
                } else {
                    self.append(html);
                }
            });
        },wrap: function(html) {
            var isFunction = jQuery.isFunction(html);
            return this.each(function(i) {
                jQuery(this).wrapAll(isFunction ? html.call(this, i) : html);
            });
        },unwrap: function() {
            return this.parent().each(function() {
                if (!jQuery.nodeName(this, "body")) {
                    jQuery(this).replaceWith(this.childNodes);
                }
            }).end();
        },append: function() {
            return this.domManip(arguments, true, function(elem) {
                if (this.nodeType === 1 || this.nodeType === 11) {
                    this.appendChild(elem);
                }
            });
        },prepend: function() {
            return this.domManip(arguments, true, function(elem) {
                if (this.nodeType === 1 || this.nodeType === 11) {
                    this.insertBefore(elem, this.firstChild);
                }
            });
        },before: function() {
            if (!isDisconnected(this[0])) {
                return this.domManip(arguments, false, function(elem) {
                    this.parentNode.insertBefore(elem, this);
                });
            }
            if (arguments.length) {
                var set = jQuery.clean(arguments);
                return this.pushStack(jQuery.merge(set, this), "before", this.selector);
            }
        },after: function() {
            if (!isDisconnected(this[0])) {
                return this.domManip(arguments, false, function(elem) {
                    this.parentNode.insertBefore(elem, this.nextSibling);
                });
            }
            if (arguments.length) {
                var set = jQuery.clean(arguments);
                return this.pushStack(jQuery.merge(this, set), "after", this.selector);
            }
        },remove: function(selector, keepData) {
            var elem, i = 0;
            for (; (elem = this[i]) != null; i++) {
                if (!selector || jQuery.filter(selector, [elem]).length) {
                    if (!keepData && elem.nodeType === 1) {
                        jQuery.cleanData(elem.getElementsByTagName("*"));
                        jQuery.cleanData([elem]);
                    }
                    if (elem.parentNode) {
                        elem.parentNode.removeChild(elem);
                    }
                }
            }
            return this;
        },empty: function() {
            var elem, i = 0;
            for (; (elem = this[i]) != null; i++) {
                if (elem.nodeType === 1) {
                    jQuery.cleanData(elem.getElementsByTagName("*"));
                }
                while (elem.firstChild) {
                    elem.removeChild(elem.firstChild);
                }
            }
            return this;
        },clone: function(dataAndEvents, deepDataAndEvents) {
            dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
            deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;
            return this.map(function() {
                return jQuery.clone(this, dataAndEvents, deepDataAndEvents);
            });
        },html: function(value) {
            return jQuery.access(this, function(value) {
                var elem = this[0] || {}, i = 0, l = this.length;
                if (value === undefined) {
                    return elem.nodeType === 1 ? elem.innerHTML.replace(rinlinejQuery, "") : undefined;
                }
                if (typeof value === "string" && !rnoInnerhtml.test(value) && (jQuery.support.htmlSerialize || !rnoshimcache.test(value)) && (jQuery.support.leadingWhitespace || !rleadingWhitespace.test(value)) && !wrapMap[(rtagName.exec(value) || ["", ""])[1].toLowerCase()]) {
                    value = value.replace(rxhtmlTag, "<$1></$2>");
                    try {
                        for (; i < l; i++) {
                            elem = this[i] || {};
                            if (elem.nodeType === 1) {
                                jQuery.cleanData(elem.getElementsByTagName("*"));
                                elem.innerHTML = value;
                            }
                        }
                        elem = 0;
                    } catch (e) {
                    }
                }
                if (elem) {
                    this.empty().append(value);
                }
            }, null, value, arguments.length);
        },replaceWith: function(value) {
            if (!isDisconnected(this[0])) {
                if (jQuery.isFunction(value)) {
                    return this.each(function(i) {
                        var self = jQuery(this), old = self.html();
                        self.replaceWith(value.call(this, i, old));
                    });
                }
                if (typeof value !== "string") {
                    value = jQuery(value).detach();
                }
                return this.each(function() {
                    var next = this.nextSibling, parent = this.parentNode;
                    jQuery(this).remove();
                    if (next) {
                        jQuery(next).before(value);
                    } else {
                        jQuery(parent).append(value);
                    }
                });
            }
            return this.length ? this.pushStack(jQuery(jQuery.isFunction(value) ? value() : value), "replaceWith", value) : this;
        },detach: function(selector) {
            return this.remove(selector, true);
        },domManip: function(args, table, callback) {
            args = [].concat.apply([], args);
            var results, first, fragment, iNoClone, i = 0, value = args[0], scripts = [], l = this.length;
            if (!jQuery.support.checkClone && l > 1 && typeof value === "string" && rchecked.test(value)) {
                return this.each(function() {
                    jQuery(this).domManip(args, table, callback);
                });
            }
            if (jQuery.isFunction(value)) {
                return this.each(function(i) {
                    var self = jQuery(this);
                    args[0] = value.call(this, i, table ? self.html() : undefined);
                    self.domManip(args, table, callback);
                });
            }
            if (this[0]) {
                results = jQuery.buildFragment(args, this, scripts);
                fragment = results.fragment;
                first = fragment.firstChild;
                if (fragment.childNodes.length === 1) {
                    fragment = first;
                }
                if (first) {
                    table = table && jQuery.nodeName(first, "tr");
                    for (iNoClone = results.cacheable || l - 1; i < l; i++) {
                        callback.call(table && jQuery.nodeName(this[i], "table") ? findOrAppend(this[i], "tbody") : this[i], i === iNoClone ? fragment : jQuery.clone(fragment, true, true));
                    }
                }
                fragment = first = null;
                if (scripts.length) {
                    jQuery.each(scripts, function(i, elem) {
                        if (elem.src) {
                            if (jQuery.ajax) {
                                jQuery.ajax({url: elem.src,type: "GET",dataType: "script",async: false,global: false,"throws": true});
                            } else {
                                jQuery.error("no ajax");
                            }
                        } else {
                            jQuery.globalEval((elem.text || elem.textContent || elem.innerHTML || "").replace(rcleanScript, ""));
                        }
                        if (elem.parentNode) {
                            elem.parentNode.removeChild(elem);
                        }
                    });
                }
            }
            return this;
        }});
    function findOrAppend(elem, tag) {
        return elem.getElementsByTagName(tag)[0] || elem.appendChild(elem.ownerDocument.createElement(tag));
    }
    function cloneCopyEvent(src, dest) {
        if (dest.nodeType !== 1 || !jQuery.hasData(src)) {
            return;
        }
        var type, i, l, oldData = jQuery._data(src), curData = jQuery._data(dest, oldData), events = oldData.events;
        if (events) {
            delete curData.handle;
            curData.events = {};
            for (type in events) {
                for (i = 0, l = events[type].length; i < l; i++) {
                    jQuery.event.add(dest, type, events[type][i]);
                }
            }
        }
        if (curData.data) {
            curData.data = jQuery.extend({}, curData.data);
        }
    }
    function cloneFixAttributes(src, dest) {
        var nodeName;
        if (dest.nodeType !== 1) {
            return;
        }
        if (dest.clearAttributes) {
            dest.clearAttributes();
        }
        if (dest.mergeAttributes) {
            dest.mergeAttributes(src);
        }
        nodeName = dest.nodeName.toLowerCase();
        if (nodeName === "object") {
            if (dest.parentNode) {
                dest.outerHTML = src.outerHTML;
            }
            if (jQuery.support.html5Clone && (src.innerHTML && !jQuery.trim(dest.innerHTML))) {
                dest.innerHTML = src.innerHTML;
            }
        } else if (nodeName === "input" && rcheckableType.test(src.type)) {
            dest.defaultChecked = dest.checked = src.checked;
            if (dest.value !== src.value) {
                dest.value = src.value;
            }
        } else if (nodeName === "option") {
            dest.selected = src.defaultSelected;
        } else if (nodeName === "input" || nodeName === "textarea") {
            dest.defaultValue = src.defaultValue;
        } else if (nodeName === "script" && dest.text !== src.text) {
            dest.text = src.text;
        }
        dest.removeAttribute(jQuery.expando);
    }
    jQuery.buildFragment = function(args, context, scripts) {
        var fragment, cacheable, cachehit, first = args[0];
        context = context || document;
        context = !context.nodeType && context[0] || context;
        context = context.ownerDocument || context;
        if (args.length === 1 && typeof first === "string" && first.length < 512 && context === document && first.charAt(0) === "<" && !rnocache.test(first) && (jQuery.support.checkClone || !rchecked.test(first)) && (jQuery.support.html5Clone || !rnoshimcache.test(first))) {
            cacheable = true;
            fragment = jQuery.fragments[first];
            cachehit = fragment !== undefined;
        }
        if (!fragment) {
            fragment = context.createDocumentFragment();
            jQuery.clean(args, context, fragment, scripts);
            if (cacheable) {
                jQuery.fragments[first] = cachehit && fragment;
            }
        }
        return {fragment: fragment,cacheable: cacheable};
    };
    jQuery.fragments = {};
    jQuery.each({appendTo: "append",prependTo: "prepend",insertBefore: "before",insertAfter: "after",replaceAll: "replaceWith"}, function(name, original) {
        jQuery.fn[name] = function(selector) {
            var elems, i = 0, ret = [], insert = jQuery(selector), l = insert.length, parent = this.length === 1 && this[0].parentNode;
            if ((parent == null || parent && parent.nodeType === 11 && parent.childNodes.length === 1) && l === 1) {
                insert[original](this[0]);
                return this;
            } else {
                for (; i < l; i++) {
                    elems = (i > 0 ? this.clone(true) : this).get();
                    jQuery(insert[i])[original](elems);
                    ret = ret.concat(elems);
                }
                return this.pushStack(ret, name, insert.selector);
            }
        };
    });
    function getAll(elem) {
        if (typeof elem.getElementsByTagName !== "undefined") {
            return elem.getElementsByTagName("*");
        } else if (typeof elem.querySelectorAll !== "undefined") {
            return elem.querySelectorAll("*");
        } else {
            return [];
        }
    }
    function fixDefaultChecked(elem) {
        if (rcheckableType.test(elem.type)) {
            elem.defaultChecked = elem.checked;
        }
    }
    jQuery.extend({clone: function(elem, dataAndEvents, deepDataAndEvents) {
            var srcElements, destElements, i, clone;
            if (jQuery.support.html5Clone || jQuery.isXMLDoc(elem) || !rnoshimcache.test("<" + elem.nodeName + ">")) {
                clone = elem.cloneNode(true);
            } else {
                fragmentDiv.innerHTML = elem.outerHTML;
                fragmentDiv.removeChild(clone = fragmentDiv.firstChild);
            }
            if ((!jQuery.support.noCloneEvent || !jQuery.support.noCloneChecked) && (elem.nodeType === 1 || elem.nodeType === 11) && !jQuery.isXMLDoc(elem)) {
                cloneFixAttributes(elem, clone);
                srcElements = getAll(elem);
                destElements = getAll(clone);
                for (i = 0; srcElements[i]; ++i) {
                    if (destElements[i]) {
                        cloneFixAttributes(srcElements[i], destElements[i]);
                    }
                }
            }
            if (dataAndEvents) {
                cloneCopyEvent(elem, clone);
                if (deepDataAndEvents) {
                    srcElements = getAll(elem);
                    destElements = getAll(clone);
                    for (i = 0; srcElements[i]; ++i) {
                        cloneCopyEvent(srcElements[i], destElements[i]);
                    }
                }
            }
            srcElements = destElements = null;
            return clone;
        },clean: function(elems, context, fragment, scripts) {
            var i, j, elem, tag, wrap, depth, div, hasBody, tbody, len, handleScript, jsTags, safe = context === document && safeFragment, ret = [];
            if (!context || typeof context.createDocumentFragment === "undefined") {
                context = document;
            }
            for (i = 0; (elem = elems[i]) != null; i++) {
                if (typeof elem === "number") {
                    elem += "";
                }
                if (!elem) {
                    continue;
                }
                if (typeof elem === "string") {
                    if (!rhtml.test(elem)) {
                        elem = context.createTextNode(elem);
                    } else {
                        safe = safe || createSafeFragment(context);
                        div = context.createElement("div");
                        safe.appendChild(div);
                        elem = elem.replace(rxhtmlTag, "<$1></$2>");
                        tag = (rtagName.exec(elem) || ["", ""])[1].toLowerCase();
                        wrap = wrapMap[tag] || wrapMap._default;
                        depth = wrap[0];
                        div.innerHTML = wrap[1] + elem + wrap[2];
                        while (depth--) {
                            div = div.lastChild;
                        }
                        if (!jQuery.support.tbody) {
                            hasBody = rtbody.test(elem);
                            tbody = tag === "table" && !hasBody ? div.firstChild && div.firstChild.childNodes : wrap[1] === "<table>" && !hasBody ? div.childNodes : [];
                            for (j = tbody.length - 1; j >= 0; --j) {
                                if (jQuery.nodeName(tbody[j], "tbody") && !tbody[j].childNodes.length) {
                                    tbody[j].parentNode.removeChild(tbody[j]);
                                }
                            }
                        }
                        if (!jQuery.support.leadingWhitespace && rleadingWhitespace.test(elem)) {
                            div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]), div.firstChild);
                        }
                        elem = div.childNodes;
                        div.parentNode.removeChild(div);
                    }
                }
                if (elem.nodeType) {
                    ret.push(elem);
                } else {
                    jQuery.merge(ret, elem);
                }
            }
            if (div) {
                elem = div = safe = null;
            }
            if (!jQuery.support.appendChecked) {
                for (i = 0; (elem = ret[i]) != null; i++) {
                    if (jQuery.nodeName(elem, "input")) {
                        fixDefaultChecked(elem);
                    } else if (typeof elem.getElementsByTagName !== "undefined") {
                        jQuery.grep(elem.getElementsByTagName("input"), fixDefaultChecked);
                    }
                }
            }
            if (fragment) {
                handleScript = function(elem) {
                    if (!elem.type || rscriptType.test(elem.type)) {
                        return scripts ? scripts.push(elem.parentNode ? elem.parentNode.removeChild(elem) : elem) : fragment.appendChild(elem);
                    }
                };
                for (i = 0; (elem = ret[i]) != null; i++) {
                    if (!(jQuery.nodeName(elem, "script") && handleScript(elem))) {
                        fragment.appendChild(elem);
                        if (typeof elem.getElementsByTagName !== "undefined") {
                            jsTags = jQuery.grep(jQuery.merge([], elem.getElementsByTagName("script")), handleScript);
                            ret.splice.apply(ret, [i + 1, 0].concat(jsTags));
                            i += jsTags.length;
                        }
                    }
                }
            }
            return ret;
        },cleanData: function(elems, acceptData) {
            var data, id, elem, type, i = 0, internalKey = jQuery.expando, cache = jQuery.cache, deleteExpando = jQuery.support.deleteExpando, special = jQuery.event.special;
            for (; (elem = elems[i]) != null; i++) {
                if (acceptData || jQuery.acceptData(elem)) {
                    id = elem[internalKey];
                    data = id && cache[id];
                    if (data) {
                        if (data.events) {
                            for (type in data.events) {
                                if (special[type]) {
                                    jQuery.event.remove(elem, type);
                                } else {
                                    jQuery.removeEvent(elem, type, data.handle);
                                }
                            }
                        }
                        if (cache[id]) {
                            delete cache[id];
                            if (deleteExpando) {
                                delete elem[internalKey];
                            } else if (elem.removeAttribute) {
                                elem.removeAttribute(internalKey);
                            } else {
                                elem[internalKey] = null;
                            }
                            jQuery.deletedIds.push(id);
                        }
                    }
                }
            }
        }});
    (function() {
        var matched, browser;
        jQuery.uaMatch = function(ua) {
            ua = ua.toLowerCase();
            var match = /(chrome)[ \/]([\w.]+)/.exec(ua) || /(webkit)[\/]([\w.]+)/.exec(ua) || /(opera)(?:.*version|)[\/]([\w.]+)/.exec(ua) || /(msie)([\w.]+)/.exec(ua) || ua.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua) || [];
            return {browser: match[1] || "",version: match[2] || "0"};
        };
        matched = jQuery.uaMatch(navigator.userAgent);
        browser = {};
        if (matched.browser) {
            browser[matched.browser] = true;
            browser.version = matched.version;
        }
        if (browser.chrome) {
            browser.webkit = true;
        } else if (browser.webkit) {
            browser.safari = true;
        }
        jQuery.browser = browser;
        jQuery.sub = function() {
            function jQuerySub(selector, context) {
                return new jQuerySub.fn.init(selector, context);
            }
            jQuery.extend(true, jQuerySub, this);
            jQuerySub.superclass = this;
            jQuerySub.fn = jQuerySub.prototype = this();
            jQuerySub.fn.constructor = jQuerySub;
            jQuerySub.sub = this.sub;
            jQuerySub.fn.init = function init(selector, context) {
                if (context && context instanceof jQuery && !(context instanceof jQuerySub)) {
                    context = jQuerySub(context);
                }
                return jQuery.fn.init.call(this, selector, context, rootjQuerySub);
            };
            jQuerySub.fn.init.prototype = jQuerySub.fn;
            var rootjQuerySub = jQuerySub(document);
            return jQuerySub;
        };
    })();
    var curCSS, iframe, iframeDoc, ralpha = /alpha\([^)]*\)/i, ropacity = /opacity=([^)]*)/, rposition = /^(top|right|bottom|left)$/, rdisplayswap = /^(none|table(?!-c[ea]).+)/, rmargin = /^margin/, rnumsplit = new RegExp("^(" + core_pnum + ")(.*)$", "i"), rnumnonpx = new RegExp("^(" + core_pnum + ")(?!px)[a-z%]+$", "i"), rrelNum = new RegExp("^([-+])=(" + core_pnum + ")", "i"), elemdisplay = {BODY: "block"}, cssShow = {position: "absolute",visibility: "hidden",display: "block"}, cssNormalTransform = {letterSpacing: 0,fontWeight: 400}, cssExpand = ["Top", "Right", "Bottom", "Left"], cssPrefixes = ["Webkit", "O", "Moz", "ms"], eventsToggle = jQuery.fn.toggle;
    function vendorPropName(style, name) {
        if (name in style) {
            return name;
        }
        var capName = name.charAt(0).toUpperCase() + name.slice(1), origName = name, i = cssPrefixes.length;
        while (i--) {
            name = cssPrefixes[i] + capName;
            if (name in style) {
                return name;
            }
        }
        return origName;
    }
    function isHidden(elem, el) {
        elem = el || elem;
        return jQuery.css(elem, "display") === "none" || !jQuery.contains(elem.ownerDocument, elem);
    }
    function showHide(elements, show) {
        var elem, display, values = [], index = 0, length = elements.length;
        for (; index < length; index++) {
            elem = elements[index];
            if (!elem.style) {
                continue;
            }
            values[index] = jQuery._data(elem, "olddisplay");
            if (show) {
                if (!values[index] && elem.style.display === "none") {
                    elem.style.display = "";
                }
                if (elem.style.display === "" && isHidden(elem)) {
                    values[index] = jQuery._data(elem, "olddisplay", css_defaultDisplay(elem.nodeName));
                }
            } else {
                display = curCSS(elem, "display");
                if (!values[index] && display !== "none") {
                    jQuery._data(elem, "olddisplay", display);
                }
            }
        }
        for (index = 0; index < length; index++) {
            elem = elements[index];
            if (!elem.style) {
                continue;
            }
            if (!show || elem.style.display === "none" || elem.style.display === "") {
                elem.style.display = show ? values[index] || "" : "none";
            }
        }
        return elements;
    }
    jQuery.fn.extend({css: function(name, value) {
            return jQuery.access(this, function(elem, name, value) {
                return value !== undefined ? jQuery.style(elem, name, value) : jQuery.css(elem, name);
            }, name, value, arguments.length > 1);
        },show: function() {
            return showHide(this, true);
        },hide: function() {
            return showHide(this);
        },toggle: function(state, fn2) {
            var bool = typeof state === "boolean";
            if (jQuery.isFunction(state) && jQuery.isFunction(fn2)) {
                return eventsToggle.apply(this, arguments);
            }
            return this.each(function() {
                if (bool ? state : isHidden(this)) {
                    jQuery(this).show();
                } else {
                    jQuery(this).hide();
                }
            });
        }});
    jQuery.extend({cssHooks: {opacity: {get: function(elem, computed) {
                    if (computed) {
                        var ret = curCSS(elem, "opacity");
                        return ret === "" ? "1" : ret;
                    }
                }}},cssNumber: {"fillOpacity": true,"fontWeight": true,"lineHeight": true,"opacity": true,"orphans": true,"widows": true,"zIndex": true,"zoom": true},cssProps: {"float": jQuery.support.cssFloat ? "cssFloat" : "styleFloat"},style: function(elem, name, value, extra) {
            if (!elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style) {
                return;
            }
            var ret, type, hooks, origName = jQuery.camelCase(name), style = elem.style;
            name = jQuery.cssProps[origName] || (jQuery.cssProps[origName] = vendorPropName(style, origName));
            hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];
            if (value !== undefined) {
                type = typeof value;
                if (type === "string" && (ret = rrelNum.exec(value))) {
                    value = (ret[1] + 1) * ret[2] + parseFloat(jQuery.css(elem, name));
                    type = "number";
                }
                if (value == null || type === "number" && isNaN(value)) {
                    return;
                }
                if (type === "number" && !jQuery.cssNumber[origName]) {
                    value += "px";
                }
                if (!hooks || !("set" in hooks) || (value = hooks.set(elem, value, extra)) !== undefined) {
                    try {
                        style[name] = value;
                    } catch (e) {
                    }
                }
            } else {
                if (hooks && "get" in hooks && (ret = hooks.get(elem, false, extra)) !== undefined) {
                    return ret;
                }
                return style[name];
            }
        },css: function(elem, name, numeric, extra) {
            var val, num, hooks, origName = jQuery.camelCase(name);
            name = jQuery.cssProps[origName] || (jQuery.cssProps[origName] = vendorPropName(elem.style, origName));
            hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];
            if (hooks && "get" in hooks) {
                val = hooks.get(elem, true, extra);
            }
            if (val === undefined) {
                val = curCSS(elem, name);
            }
            if (val === "normal" && name in cssNormalTransform) {
                val = cssNormalTransform[name];
            }
            if (numeric || extra !== undefined) {
                num = parseFloat(val);
                return numeric || jQuery.isNumeric(num) ? num || 0 : val;
            }
            return val;
        },swap: function(elem, options, callback) {
            var ret, name, old = {};
            for (name in options) {
                old[name] = elem.style[name];
                elem.style[name] = options[name];
            }
            ret = callback.call(elem);
            for (name in options) {
                elem.style[name] = old[name];
            }
            return ret;
        }});
    if (window.getComputedStyle) {
        curCSS = function(elem, name) {
            var ret, width, minWidth, maxWidth, computed = window.getComputedStyle(elem, null), style = elem.style;
            if (computed) {
                ret = computed.getPropertyValue(name) || computed[name];
                if (ret === "" && !jQuery.contains(elem.ownerDocument, elem)) {
                    ret = jQuery.style(elem, name);
                }
                if (rnumnonpx.test(ret) && rmargin.test(name)) {
                    width = style.width;
                    minWidth = style.minWidth;
                    maxWidth = style.maxWidth;
                    style.minWidth = style.maxWidth = style.width = ret;
                    ret = computed.width;
                    style.width = width;
                    style.minWidth = minWidth;
                    style.maxWidth = maxWidth;
                }
            }
            return ret;
        };
    } else if (document.documentElement.currentStyle) {
        curCSS = function(elem, name) {
            var left, rsLeft, ret = elem.currentStyle && elem.currentStyle[name], style = elem.style;
            if (ret == null && style && style[name]) {
                ret = style[name];
            }
            if (rnumnonpx.test(ret) && !rposition.test(name)) {
                left = style.left;
                rsLeft = elem.runtimeStyle && elem.runtimeStyle.left;
                if (rsLeft) {
                    elem.runtimeStyle.left = elem.currentStyle.left;
                }
                style.left = name === "fontSize" ? "1em" : ret;
                ret = style.pixelLeft + "px";
                style.left = left;
                if (rsLeft) {
                    elem.runtimeStyle.left = rsLeft;
                }
            }
            return ret === "" ? "auto" : ret;
        };
    }
    function setPositiveNumber(elem, value, subtract) {
        var matches = rnumsplit.exec(value);
        return matches ? Math.max(0, matches[1] - (subtract || 0)) + (matches[2] || "px") : value;
    }
    function augmentWidthOrHeight(elem, name, extra, isBorderBox) {
        var i = extra === (isBorderBox ? "border" : "content") ? 4 : name === "width" ? 1 : 0, val = 0;
        for (; i < 4; i += 2) {
            if (extra === "margin") {
                val += jQuery.css(elem, extra + cssExpand[i], true);
            }
            if (isBorderBox) {
                if (extra === "content") {
                    val -= parseFloat(curCSS(elem, "padding" + cssExpand[i])) || 0;
                }
                if (extra !== "margin") {
                    val -= parseFloat(curCSS(elem, "border" + cssExpand[i] + "Width")) || 0;
                }
            } else {
                val += parseFloat(curCSS(elem, "padding" + cssExpand[i])) || 0;
                if (extra !== "padding") {
                    val += parseFloat(curCSS(elem, "border" + cssExpand[i] + "Width")) || 0;
                }
            }
        }
        return val;
    }
    function getWidthOrHeight(elem, name, extra) {
        var val = name === "width" ? elem.offsetWidth : elem.offsetHeight, valueIsBorderBox = true, isBorderBox = jQuery.support.boxSizing && jQuery.css(elem, "boxSizing") === "border-box";
        if (val <= 0 || val == null) {
            val = curCSS(elem, name);
            if (val < 0 || val == null) {
                val = elem.style[name];
            }
            if (rnumnonpx.test(val)) {
                return val;
            }
            valueIsBorderBox = isBorderBox && (jQuery.support.boxSizingReliable || val === elem.style[name]);
            val = parseFloat(val) || 0;
        }
        return (val + 
        augmentWidthOrHeight(elem, name, extra || (isBorderBox ? "border" : "content"), valueIsBorderBox)) + "px";
    }
    function css_defaultDisplay(nodeName) {
        if (elemdisplay[nodeName]) {
            return elemdisplay[nodeName];
        }
        var elem = jQuery("<" + nodeName + ">").appendTo(document.body), display = elem.css("display");
        elem.remove();
        if (display === "none" || display === "") {
            iframe = document.body.appendChild(iframe || jQuery.extend(document.createElement("iframe"), {frameBorder: 0,width: 0,height: 0}));
            if (!iframeDoc || !iframe.createElement) {
                iframeDoc = (iframe.contentWindow || iframe.contentDocument).document;
                iframeDoc.write("<!doctype html><html><body>");
                iframeDoc.close();
            }
            elem = iframeDoc.body.appendChild(iframeDoc.createElement(nodeName));
            display = curCSS(elem, "display");
            document.body.removeChild(iframe);
        }
        elemdisplay[nodeName] = display;
        return display;
    }
    jQuery.each(["height", "width"], function(i, name) {
        jQuery.cssHooks[name] = {get: function(elem, computed, extra) {
                if (computed) {
                    if (elem.offsetWidth === 0 && rdisplayswap.test(curCSS(elem, "display"))) {
                        return jQuery.swap(elem, cssShow, function() {
                            return getWidthOrHeight(elem, name, extra);
                        });
                    } else {
                        return getWidthOrHeight(elem, name, extra);
                    }
                }
            },set: function(elem, value, extra) {
                return setPositiveNumber(elem, value, extra ? augmentWidthOrHeight(elem, name, extra, jQuery.support.boxSizing && jQuery.css(elem, "boxSizing") === "border-box") : 0);
            }};
    });
    if (!jQuery.support.opacity) {
        jQuery.cssHooks.opacity = {get: function(elem, computed) {
                return ropacity.test((computed && elem.currentStyle ? elem.currentStyle.filter : elem.style.filter) || "") ? (0.01 * parseFloat(RegExp.$1)) + "" : computed ? "1" : "";
            },set: function(elem, value) {
                var style = elem.style, currentStyle = elem.currentStyle, opacity = jQuery.isNumeric(value) ? "alpha(opacity=" + value * 100 + ")" : "", filter = currentStyle && currentStyle.filter || style.filter || "";
                style.zoom = 1;
                if (value >= 1 && jQuery.trim(filter.replace(ralpha, "")) === "" && style.removeAttribute) {
                    style.removeAttribute("filter");
                    if (currentStyle && !currentStyle.filter) {
                        return;
                    }
                }
                style.filter = ralpha.test(filter) ? filter.replace(ralpha, opacity) : filter + " " + opacity;
            }};
    }
    jQuery(function() {
        if (!jQuery.support.reliableMarginRight) {
            jQuery.cssHooks.marginRight = {get: function(elem, computed) {
                    return jQuery.swap(elem, {"display": "inline-block"}, function() {
                        if (computed) {
                            return curCSS(elem, "marginRight");
                        }
                    });
                }};
        }
        if (!jQuery.support.pixelPosition && jQuery.fn.position) {
            jQuery.each(["top", "left"], function(i, prop) {
                jQuery.cssHooks[prop] = {get: function(elem, computed) {
                        if (computed) {
                            var ret = curCSS(elem, prop);
                            return rnumnonpx.test(ret) ? jQuery(elem).position()[prop] + "px" : ret;
                        }
                    }};
            });
        }
    });
    if (jQuery.expr && jQuery.expr.filters) {
        jQuery.expr.filters.hidden = function(elem) {
            return (elem.offsetWidth === 0 && elem.offsetHeight === 0) || (!jQuery.support.reliableHiddenOffsets && ((elem.style && elem.style.display) || curCSS(elem, "display")) === "none");
        };
        jQuery.expr.filters.visible = function(elem) {
            return !jQuery.expr.filters.hidden(elem);
        };
    }
    jQuery.each({margin: "",padding: "",border: "Width"}, function(prefix, suffix) {
        jQuery.cssHooks[prefix + suffix] = {expand: function(value) {
                var i, parts = typeof value === "string" ? value.split(" ") : [value], expanded = {};
                for (i = 0; i < 4; i++) {
                    expanded[prefix + cssExpand[i] + suffix] = parts[i] || parts[i - 2] || parts[0];
                }
                return expanded;
            }};
        if (!rmargin.test(prefix)) {
            jQuery.cssHooks[prefix + suffix].set = setPositiveNumber;
        }
    });
    var r20 = /%20/g, rbracket = /\[\]$/, rCRLF = /\r?\n/g, rinput = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i, rselectTextarea = /^(?:select|textarea)/i;
    jQuery.fn.extend({serialize: function() {
            return jQuery.param(this.serializeArray());
        },serializeArray: function() {
            return this.map(function() {
                return this.elements ? jQuery.makeArray(this.elements) : this;
            }).filter(function() {
                return this.name && !this.disabled && (this.checked || rselectTextarea.test(this.nodeName) || rinput.test(this.type));
            }).map(function(i, elem) {
                var val = jQuery(this).val();
                return val == null ? null : jQuery.isArray(val) ? jQuery.map(val, function(val, i) {
                    return {name: elem.name,value: val.replace(rCRLF, "\r\n")};
                }) : {name: elem.name,value: val.replace(rCRLF, "\r\n")};
            }).get();
        }});
    jQuery.param = function(a, traditional) {
        var prefix, s = [], add = function(key, value) {
            value = jQuery.isFunction(value) ? value() : (value == null ? "" : value);
            s[s.length] = encodeURIComponent(key) + "=" + encodeURIComponent(value);
        };
        if (traditional === undefined) {
            traditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;
        }
        if (jQuery.isArray(a) || (a.jquery && !jQuery.isPlainObject(a))) {
            jQuery.each(a, function() {
                add(this.name, this.value);
            });
        } else {
            for (prefix in a) {
                buildParams(prefix, a[prefix], traditional, add);
            }
        }
        return s.join("&").replace(r20, "+");
    };
    function buildParams(prefix, obj, traditional, add) {
        var name;
        if (jQuery.isArray(obj)) {
            jQuery.each(obj, function(i, v) {
                if (traditional || rbracket.test(prefix)) {
                    add(prefix, v);
                } else {
                    buildParams(prefix + "[" + (typeof v === "object" ? i : "") + "]", v, traditional, add);
                }
            });
        } else if (!traditional && jQuery.type(obj) === "object") {
            for (name in obj) {
                buildParams(prefix + "[" + name + "]", obj[name], traditional, add);
            }
        } else {
            add(prefix, obj);
        }
    }
    var 
    ajaxLocParts, ajaxLocation, rhash = /#.*$/, rheaders = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg, rlocalProtocol = /^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/, rnoContent = /^(?:GET|HEAD)$/, rprotocol = /^\/\//, rquery = /\?/, rscript = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, rts = /([?&])_=[^&]*/, rurl = /^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/, _load = jQuery.fn.load, prefilters = {}, transports = {}, allTypes = ["*/"] + ["*"];
    try {
        ajaxLocation = location.href;
    } catch (e) {
        ajaxLocation = document.createElement("a");
        ajaxLocation.href = "";
        ajaxLocation = ajaxLocation.href;
    }
    ajaxLocParts = rurl.exec(ajaxLocation.toLowerCase()) || [];
    function addToPrefiltersOrTransports(structure) {
        return function(dataTypeExpression, func) {
            if (typeof dataTypeExpression !== "string") {
                func = dataTypeExpression;
                dataTypeExpression = "*";
            }
            var dataType, list, placeBefore, dataTypes = dataTypeExpression.toLowerCase().split(core_rspace), i = 0, length = dataTypes.length;
            if (jQuery.isFunction(func)) {
                for (; i < length; i++) {
                    dataType = dataTypes[i];
                    placeBefore = /^\+/.test(dataType);
                    if (placeBefore) {
                        dataType = dataType.substr(1) || "*";
                    }
                    list = structure[dataType] = structure[dataType] || [];
                    list[placeBefore ? "unshift" : "push"](func);
                }
            }
        };
    }
    function inspectPrefiltersOrTransports(structure, options, originalOptions, jqXHR, dataType, inspected) {
        dataType = dataType || options.dataTypes[0];
        inspected = inspected || {};
        inspected[dataType] = true;
        var selection, list = structure[dataType], i = 0, length = list ? list.length : 0, executeOnly = (structure === prefilters);
        for (; i < length && (executeOnly || !selection); i++) {
            selection = list[i](options, originalOptions, jqXHR);
            if (typeof selection === "string") {
                if (!executeOnly || inspected[selection]) {
                    selection = undefined;
                } else {
                    options.dataTypes.unshift(selection);
                    selection = inspectPrefiltersOrTransports(structure, options, originalOptions, jqXHR, selection, inspected);
                }
            }
        }
        if ((executeOnly || !selection) && !inspected["*"]) {
            selection = inspectPrefiltersOrTransports(structure, options, originalOptions, jqXHR, "*", inspected);
        }
        return selection;
    }
    function ajaxExtend(target, src) {
        var key, deep, flatOptions = jQuery.ajaxSettings.flatOptions || {};
        for (key in src) {
            if (src[key] !== undefined) {
                (flatOptions[key] ? target : (deep || (deep = {})))[key] = src[key];
            }
        }
        if (deep) {
            jQuery.extend(true, target, deep);
        }
    }
    jQuery.fn.load = function(url, params, callback) {
        if (typeof url !== "string" && _load) {
            return _load.apply(this, arguments);
        }
        if (!this.length) {
            return this;
        }
        var selector, type, response, self = this, off = url.indexOf(" ");
        if (off >= 0) {
            selector = url.slice(off, url.length);
            url = url.slice(0, off);
        }
        if (jQuery.isFunction(params)) {
            callback = params;
            params = undefined;
        } else if (params && typeof params === "object") {
            type = "POST";
        }
        jQuery.ajax({url: url,type: type,dataType: "html",data: params,complete: function(jqXHR, status) {
                if (callback) {
                    self.each(callback, response || [jqXHR.responseText, status, jqXHR]);
                }
            }}).done(function(responseText) {
            response = arguments;
            self.html(selector ? jQuery("<div>").append(responseText.replace(rscript, "")).find(selector) : responseText);
        });
        return this;
    };
    jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "), function(i, o) {
        jQuery.fn[o] = function(f) {
            return this.on(o, f);
        };
    });
    jQuery.each(["get", "post"], function(i, method) {
        jQuery[method] = function(url, data, callback, type) {
            if (jQuery.isFunction(data)) {
                type = type || callback;
                callback = data;
                data = undefined;
            }
            return jQuery.ajax({type: method,url: url,data: data,success: callback,dataType: type});
        };
    });
    jQuery.extend({getScript: function(url, callback) {
            return jQuery.get(url, undefined, callback, "script");
        },getJSON: function(url, data, callback) {
            return jQuery.get(url, data, callback, "json");
        },ajaxSetup: function(target, settings) {
            if (settings) {
                ajaxExtend(target, jQuery.ajaxSettings);
            } else {
                settings = target;
                target = jQuery.ajaxSettings;
            }
            ajaxExtend(target, settings);
            return target;
        },ajaxSettings: {url: ajaxLocation,isLocal: rlocalProtocol.test(ajaxLocParts[1]),global: true,type: "GET",contentType: "application/x-www-form-urlencoded; charset=UTF-8",processData: true,async: true,accepts: {xml: "application/xml, text/xml",html: "text/html",text: "text/plain",json: "application/json, text/javascript","*": allTypes},contents: {xml: /xml/,html: /html/,json: /json/},responseFields: {xml: "responseXML",text: "responseText"},converters: {"* text": window.String,"text html": true,"text json": jQuery.parseJSON,"text xml": jQuery.parseXML},flatOptions: {context: true,url: true}},ajaxPrefilter: addToPrefiltersOrTransports(prefilters),ajaxTransport: addToPrefiltersOrTransports(transports),ajax: function(url, options) {
            if (typeof url === "object") {
                options = url;
                url = undefined;
            }
            options = options || {};
            var 
            ifModifiedKey, responseHeadersString, responseHeaders, transport, timeoutTimer, parts, fireGlobals, i, s = jQuery.ajaxSetup({}, options), callbackContext = s.context || s, globalEventContext = callbackContext !== s && (callbackContext.nodeType || callbackContext instanceof jQuery) ? jQuery(callbackContext) : jQuery.event, deferred = jQuery.Deferred(), completeDeferred = jQuery.Callbacks("once memory"), statusCode = s.statusCode || {}, requestHeaders = {}, requestHeadersNames = {}, state = 0, strAbort = "canceled", jqXHR = {readyState: 0,setRequestHeader: function(name, value) {
                    if (!state) {
                        var lname = name.toLowerCase();
                        name = requestHeadersNames[lname] = requestHeadersNames[lname] || name;
                        requestHeaders[name] = value;
                    }
                    return this;
                },getAllResponseHeaders: function() {
                    return state === 2 ? responseHeadersString : null;
                },getResponseHeader: function(key) {
                    var match;
                    if (state === 2) {
                        if (!responseHeaders) {
                            responseHeaders = {};
                            while ((match = rheaders.exec(responseHeadersString))) {
                                responseHeaders[match[1].toLowerCase()] = match[2];
                            }
                        }
                        match = responseHeaders[key.toLowerCase()];
                    }
                    return match === undefined ? null : match;
                },overrideMimeType: function(type) {
                    if (!state) {
                        s.mimeType = type;
                    }
                    return this;
                },abort: function(statusText) {
                    statusText = statusText || strAbort;
                    if (transport) {
                        transport.abort(statusText);
                    }
                    done(0, statusText);
                    return this;
                }};
            function done(status, nativeStatusText, responses, headers) {
                var isSuccess, success, error, response, modified, statusText = nativeStatusText;
                if (state === 2) {
                    return;
                }
                state = 2;
                if (timeoutTimer) {
                    clearTimeout(timeoutTimer);
                }
                transport = undefined;
                responseHeadersString = headers || "";
                jqXHR.readyState = status > 0 ? 4 : 0;
                if (responses) {
                    response = ajaxHandleResponses(s, jqXHR, responses);
                }
                if (status >= 200 && status < 300 || status === 304) {
                    if (s.ifModified) {
                        modified = jqXHR.getResponseHeader("Last-Modified");
                        if (modified) {
                            jQuery.lastModified[ifModifiedKey] = modified;
                        }
                        modified = jqXHR.getResponseHeader("Etag");
                        if (modified) {
                            jQuery.etag[ifModifiedKey] = modified;
                        }
                    }
                    if (status === 304) {
                        statusText = "notmodified";
                        isSuccess = true;
                    } else {
                        isSuccess = ajaxConvert(s, response);
                        statusText = isSuccess.state;
                        success = isSuccess.data;
                        error = isSuccess.error;
                        isSuccess = !error;
                    }
                } else {
                    error = statusText;
                    if (!statusText || status) {
                        statusText = "error";
                        if (status < 0) {
                            status = 0;
                        }
                    }
                }
                jqXHR.status = status;
                jqXHR.statusText = (nativeStatusText || statusText) + "";
                if (isSuccess) {
                    deferred.resolveWith(callbackContext, [success, statusText, jqXHR]);
                } else {
                    deferred.rejectWith(callbackContext, [jqXHR, statusText, error]);
                }
                jqXHR.statusCode(statusCode);
                statusCode = undefined;
                if (fireGlobals) {
                    globalEventContext.trigger("ajax" + (isSuccess ? "Success" : "Error"), [jqXHR, s, isSuccess ? success : error]);
                }
                completeDeferred.fireWith(callbackContext, [jqXHR, statusText]);
                if (fireGlobals) {
                    globalEventContext.trigger("ajaxComplete", [jqXHR, s]);
                    if (!(--jQuery.active)) {
                        jQuery.event.trigger("ajaxStop");
                    }
                }
            }
            deferred.promise(jqXHR);
            jqXHR.success = jqXHR.done;
            jqXHR.error = jqXHR.fail;
            jqXHR.complete = completeDeferred.add;
            jqXHR.statusCode = function(map) {
                if (map) {
                    var tmp;
                    if (state < 2) {
                        for (tmp in map) {
                            statusCode[tmp] = [statusCode[tmp], map[tmp]];
                        }
                    } else {
                        tmp = map[jqXHR.status];
                        jqXHR.always(tmp);
                    }
                }
                return this;
            };
            s.url = ((url || s.url) + "").replace(rhash, "").replace(rprotocol, ajaxLocParts[1] + "//");
            s.dataTypes = jQuery.trim(s.dataType || "*").toLowerCase().split(core_rspace);
            if (s.crossDomain == null) {
                parts = rurl.exec(s.url.toLowerCase());
                s.crossDomain = !!(parts && (parts[1] !== ajaxLocParts[1] || parts[2] !== ajaxLocParts[2] || (parts[3] || (parts[1] === "http:" ? 80 : 443)) != (ajaxLocParts[3] || (ajaxLocParts[1] === "http:" ? 80 : 443))));
            }
            if (s.data && s.processData && typeof s.data !== "string") {
                s.data = jQuery.param(s.data, s.traditional);
            }
            inspectPrefiltersOrTransports(prefilters, s, options, jqXHR);
            if (state === 2) {
                return jqXHR;
            }
            fireGlobals = s.global;
            s.type = s.type.toUpperCase();
            s.hasContent = !rnoContent.test(s.type);
            if (fireGlobals && jQuery.active++ === 0) {
                jQuery.event.trigger("ajaxStart");
            }
            if (!s.hasContent) {
                if (s.data) {
                    s.url += (rquery.test(s.url) ? "&" : "?") + s.data;
                    delete s.data;
                }
                ifModifiedKey = s.url;
                if (s.cache === false) {
                    var ts = jQuery.now(), ret = s.url.replace(rts, "$1_=" + ts);
                    s.url = ret + ((ret === s.url) ? (rquery.test(s.url) ? "&" : "?") + "_=" + ts : "");
                }
            }
            if (s.data && s.hasContent && s.contentType !== false || options.contentType) {
                jqXHR.setRequestHeader("Content-Type", s.contentType);
            }
            if (s.ifModified) {
                ifModifiedKey = ifModifiedKey || s.url;
                if (jQuery.lastModified[ifModifiedKey]) {
                    jqXHR.setRequestHeader("If-Modified-Since", jQuery.lastModified[ifModifiedKey]);
                }
                if (jQuery.etag[ifModifiedKey]) {
                    jqXHR.setRequestHeader("If-None-Match", jQuery.etag[ifModifiedKey]);
                }
            }
            jqXHR.setRequestHeader("Accept", s.dataTypes[0] && s.accepts[s.dataTypes[0]] ? s.accepts[s.dataTypes[0]] + (s.dataTypes[0] !== "*" ? ", " + allTypes + "; q=0.01" : "") : s.accepts["*"]);
            for (i in s.headers) {
                jqXHR.setRequestHeader(i, s.headers[i]);
            }
            if (s.beforeSend && (s.beforeSend.call(callbackContext, jqXHR, s) === false || state === 2)) {
                return jqXHR.abort();
            }
            strAbort = "abort";
            for (i in {success: 1,error: 1,complete: 1}) {
                jqXHR[i](s[i]);
            }
            transport = inspectPrefiltersOrTransports(transports, s, options, jqXHR);
            if (!transport) {
                done(-1, "No Transport");
            } else {
                jqXHR.readyState = 1;
                if (fireGlobals) {
                    globalEventContext.trigger("ajaxSend", [jqXHR, s]);
                }
                if (s.async && s.timeout > 0) {
                    timeoutTimer = setTimeout(function() {
                        jqXHR.abort("timeout");
                    }, s.timeout);
                }
                try {
                    state = 1;
                    transport.send(requestHeaders, done);
                } catch (e) {
                    if (state < 2) {
                        done(-1, e);
                    } else {
                        throw e;
                    }
                }
            }
            return jqXHR;
        },active: 0,lastModified: {},etag: {}});
    function ajaxHandleResponses(s, jqXHR, responses) {
        var ct, type, finalDataType, firstDataType, contents = s.contents, dataTypes = s.dataTypes, responseFields = s.responseFields;
        for (type in responseFields) {
            if (type in responses) {
                jqXHR[responseFields[type]] = responses[type];
            }
        }
        while (dataTypes[0] === "*") {
            dataTypes.shift();
            if (ct === undefined) {
                ct = s.mimeType || jqXHR.getResponseHeader("content-type");
            }
        }
        if (ct) {
            for (type in contents) {
                if (contents[type] && contents[type].test(ct)) {
                    dataTypes.unshift(type);
                    break;
                }
            }
        }
        if (dataTypes[0] in responses) {
            finalDataType = dataTypes[0];
        } else {
            for (type in responses) {
                if (!dataTypes[0] || s.converters[type + " " + dataTypes[0]]) {
                    finalDataType = type;
                    break;
                }
                if (!firstDataType) {
                    firstDataType = type;
                }
            }
            finalDataType = finalDataType || firstDataType;
        }
        if (finalDataType) {
            if (finalDataType !== dataTypes[0]) {
                dataTypes.unshift(finalDataType);
            }
            return responses[finalDataType];
        }
    }
    function ajaxConvert(s, response) {
        var conv, conv2, current, tmp, dataTypes = s.dataTypes.slice(), prev = dataTypes[0], converters = {}, i = 0;
        if (s.dataFilter) {
            response = s.dataFilter(response, s.dataType);
        }
        if (dataTypes[1]) {
            for (conv in s.converters) {
                converters[conv.toLowerCase()] = s.converters[conv];
            }
        }
        for (; (current = dataTypes[++i]); ) {
            if (current !== "*") {
                if (prev !== "*" && prev !== current) {
                    conv = converters[prev + " " + current] || converters["* " + current];
                    if (!conv) {
                        for (conv2 in converters) {
                            tmp = conv2.split(" ");
                            if (tmp[1] === current) {
                                conv = converters[prev + " " + tmp[0]] || converters["* " + tmp[0]];
                                if (conv) {
                                    if (conv === true) {
                                        conv = converters[conv2];
                                    } else if (converters[conv2] !== true) {
                                        current = tmp[0];
                                        dataTypes.splice(i--, 0, current);
                                    }
                                    break;
                                }
                            }
                        }
                    }
                    if (conv !== true) {
                        if (conv && s["throws"]) {
                            response = conv(response);
                        } else {
                            try {
                                response = conv(response);
                            } catch (e) {
                                return {state: "parsererror",error: conv ? e : "No conversion from " + prev + " to " + current};
                            }
                        }
                    }
                }
                prev = current;
            }
        }
        return {state: "success",data: response};
    }
    var oldCallbacks = [], rquestion = /\?/, rjsonp = /(=)\?(?=&|$)|\?\?/, nonce = jQuery.now();
    jQuery.ajaxSetup({jsonp: "callback",jsonpCallback: function() {
            var callback = oldCallbacks.pop() || (jQuery.expando + "_" + (nonce++));
            this[callback] = true;
            return callback;
        }});
    jQuery.ajaxPrefilter("json jsonp", function(s, originalSettings, jqXHR) {
        var callbackName, overwritten, responseContainer, data = s.data, url = s.url, hasCallback = s.jsonp !== false, replaceInUrl = hasCallback && rjsonp.test(url), replaceInData = hasCallback && !replaceInUrl && typeof data === "string" && !(s.contentType || "").indexOf("application/x-www-form-urlencoded") && rjsonp.test(data);
        if (s.dataTypes[0] === "jsonp" || replaceInUrl || replaceInData) {
            callbackName = s.jsonpCallback = jQuery.isFunction(s.jsonpCallback) ? s.jsonpCallback() : s.jsonpCallback;
            overwritten = window[callbackName];
            if (replaceInUrl) {
                s.url = url.replace(rjsonp, "$1" + callbackName);
            } else if (replaceInData) {
                s.data = data.replace(rjsonp, "$1" + callbackName);
            } else if (hasCallback) {
                s.url += (rquestion.test(url) ? "&" : "?") + s.jsonp + "=" + callbackName;
            }
            s.converters["script json"] = function() {
                if (!responseContainer) {
                    jQuery.error(callbackName + " was not called");
                }
                return responseContainer[0];
            };
            s.dataTypes[0] = "json";
            window[callbackName] = function() {
                responseContainer = arguments;
            };
            jqXHR.always(function() {
                window[callbackName] = overwritten;
                if (s[callbackName]) {
                    s.jsonpCallback = originalSettings.jsonpCallback;
                    oldCallbacks.push(callbackName);
                }
                if (responseContainer && jQuery.isFunction(overwritten)) {
                    overwritten(responseContainer[0]);
                }
                responseContainer = overwritten = undefined;
            });
            return "script";
        }
    });
    jQuery.ajaxSetup({accepts: {script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents: {script: /javascript|ecmascript/},converters: {"text script": function(text) {
                jQuery.globalEval(text);
                return text;
            }}});
    jQuery.ajaxPrefilter("script", function(s) {
        if (s.cache === undefined) {
            s.cache = false;
        }
        if (s.crossDomain) {
            s.type = "GET";
            s.global = false;
        }
    });
    jQuery.ajaxTransport("script", function(s) {
        if (s.crossDomain) {
            var script, head = document.head || document.getElementsByTagName("head")[0] || document.documentElement;
            return {send: function(_, callback) {
                    script = document.createElement("script");
                    script.async = "async";
                    if (s.scriptCharset) {
                        script.charset = s.scriptCharset;
                    }
                    script.src = s.url;
                    script.onload = script.onreadystatechange = function(_, isAbort) {
                        if (isAbort || !script.readyState || /loaded|complete/.test(script.readyState)) {
                            script.onload = script.onreadystatechange = null;
                            if (head && script.parentNode) {
                                head.removeChild(script);
                            }
                            script = undefined;
                            if (!isAbort) {
                                callback(200, "success");
                            }
                        }
                    };
                    head.insertBefore(script, head.firstChild);
                },abort: function() {
                    if (script) {
                        script.onload(0, 1);
                    }
                }};
        }
    });
    var xhrCallbacks, xhrOnUnloadAbort = window.ActiveXObject ? function() {
        for (var key in xhrCallbacks) {
            xhrCallbacks[key](0, 1);
        }
    } : false, xhrId = 0;
    function createStandardXHR() {
        try {
            return new window.XMLHttpRequest();
        } catch (e) {
        }
    }
    function createActiveXHR() {
        try {
            return new window.ActiveXObject("Microsoft.XMLHTTP");
        } catch (e) {
        }
    }
    jQuery.ajaxSettings.xhr = window.ActiveXObject ? function() {
        return !this.isLocal && createStandardXHR() || createActiveXHR();
    } : createStandardXHR;
    (function(xhr) {
        jQuery.extend(jQuery.support, {ajax: !!xhr,cors: !!xhr && ("withCredentials" in xhr)});
    })(jQuery.ajaxSettings.xhr());
    if (jQuery.support.ajax) {
        jQuery.ajaxTransport(function(s) {
            if (!s.crossDomain || jQuery.support.cors) {
                var callback;
                return {send: function(headers, complete) {
                        var handle, i, xhr = s.xhr();
                        if (s.username) {
                            xhr.open(s.type, s.url, s.async, s.username, s.password);
                        } else {
                            xhr.open(s.type, s.url, s.async);
                        }
                        if (s.xhrFields) {
                            for (i in s.xhrFields) {
                                xhr[i] = s.xhrFields[i];
                            }
                        }
                        if (s.mimeType && xhr.overrideMimeType) {
                            xhr.overrideMimeType(s.mimeType);
                        }
                        if (!s.crossDomain && !headers["X-Requested-With"]) {
                            headers["X-Requested-With"] = "XMLHttpRequest";
                        }
                        try {
                            for (i in headers) {
                                xhr.setRequestHeader(i, headers[i]);
                            }
                        } catch (_) {
                        }
                        xhr.send((s.hasContent && s.data) || null);
                        callback = function(_, isAbort) {
                            var status, statusText, responseHeaders, responses, xml;
                            try {
                                if (callback && (isAbort || xhr.readyState === 4)) {
                                    callback = undefined;
                                    if (handle) {
                                        xhr.onreadystatechange = jQuery.noop;
                                        if (xhrOnUnloadAbort) {
                                            delete xhrCallbacks[handle];
                                        }
                                    }
                                    if (isAbort) {
                                        if (xhr.readyState !== 4) {
                                            xhr.abort();
                                        }
                                    } else {
                                        status = xhr.status;
                                        responseHeaders = xhr.getAllResponseHeaders();
                                        responses = {};
                                        xml = xhr.responseXML;
                                        if (xml && xml.documentElement) {
                                            responses.xml = xml;
                                        }
                                        try {
                                            responses.text = xhr.responseText;
                                        } catch (e) {
                                        }
                                        try {
                                            statusText = xhr.statusText;
                                        } catch (e) {
                                            statusText = "";
                                        }
                                        if (!status && s.isLocal && !s.crossDomain) {
                                            status = responses.text ? 200 : 404;
                                        } else if (status === 1223) {
                                            status = 204;
                                        }
                                    }
                                }
                            } catch (firefoxAccessException) {
                                if (!isAbort) {
                                    complete(-1, firefoxAccessException);
                                }
                            }
                            if (responses) {
                                complete(status, statusText, responses, responseHeaders);
                            }
                        };
                        if (!s.async) {
                            callback();
                        } else if (xhr.readyState === 4) {
                            setTimeout(callback, 0);
                        } else {
                            handle = ++xhrId;
                            if (xhrOnUnloadAbort) {
                                if (!xhrCallbacks) {
                                    xhrCallbacks = {};
                                    jQuery(window).unload(xhrOnUnloadAbort);
                                }
                                xhrCallbacks[handle] = callback;
                            }
                            xhr.onreadystatechange = callback;
                        }
                    },abort: function() {
                        if (callback) {
                            callback(0, 1);
                        }
                    }};
            }
        });
    }
    var fxNow, timerId, rfxtypes = /^(?:toggle|show|hide)$/, rfxnum = new RegExp("^(?:([-+])=|)(" + core_pnum + ")([a-z%]*)$", "i"), rrun = /queueHooks$/, animationPrefilters = [defaultPrefilter], tweeners = {"*": [function(prop, value) {
                var end, unit, tween = this.createTween(prop, value), parts = rfxnum.exec(value), target = tween.cur(), start = +target || 0, scale = 1, maxIterations = 20;
                if (parts) {
                    end = +parts[2];
                    unit = parts[3] || (jQuery.cssNumber[prop] ? "" : "px");
                    if (unit !== "px" && start) {
                        start = jQuery.css(tween.elem, prop, true) || end || 1;
                        do {
                            scale = scale || ".5";
                            start = start / scale;
                            jQuery.style(tween.elem, prop, start + unit);
                        } while (scale !== (scale = tween.cur() / target) && scale !== 1 && --maxIterations);
                    }
                    tween.unit = unit;
                    tween.start = start;
                    tween.end = parts[1] ? start + (parts[1] + 1) * end : end;
                }
                return tween;
            }]};
    function createFxNow() {
        setTimeout(function() {
            fxNow = undefined;
        }, 0);
        return (fxNow = jQuery.now());
    }
    function createTweens(animation, props) {
        jQuery.each(props, function(prop, value) {
            var collection = (tweeners[prop] || []).concat(tweeners["*"]), index = 0, length = collection.length;
            for (; index < length; index++) {
                if (collection[index].call(animation, prop, value)) {
                    return;
                }
            }
        });
    }
    function Animation(elem, properties, options) {
        var result, index = 0, tweenerIndex = 0, length = animationPrefilters.length, deferred = jQuery.Deferred().always(function() {
            delete tick.elem;
        }), tick = function() {
            var currentTime = fxNow || createFxNow(), remaining = Math.max(0, animation.startTime + animation.duration - currentTime), temp = remaining / animation.duration || 0, percent = 1 - temp, index = 0, length = animation.tweens.length;
            for (; index < length; index++) {
                animation.tweens[index].run(percent);
            }
            deferred.notifyWith(elem, [animation, percent, remaining]);
            if (percent < 1 && length) {
                return remaining;
            } else {
                deferred.resolveWith(elem, [animation]);
                return false;
            }
        }, animation = deferred.promise({elem: elem,props: jQuery.extend({}, properties),opts: jQuery.extend(true, {specialEasing: {}}, options),originalProperties: properties,originalOptions: options,startTime: fxNow || createFxNow(),duration: options.duration,tweens: [],createTween: function(prop, end, easing) {
                var tween = jQuery.Tween(elem, animation.opts, prop, end, animation.opts.specialEasing[prop] || animation.opts.easing);
                animation.tweens.push(tween);
                return tween;
            },stop: function(gotoEnd) {
                var index = 0, length = gotoEnd ? animation.tweens.length : 0;
                for (; index < length; index++) {
                    animation.tweens[index].run(1);
                }
                if (gotoEnd) {
                    deferred.resolveWith(elem, [animation, gotoEnd]);
                } else {
                    deferred.rejectWith(elem, [animation, gotoEnd]);
                }
                return this;
            }}), props = animation.props;
        propFilter(props, animation.opts.specialEasing);
        for (; index < length; index++) {
            result = animationPrefilters[index].call(animation, elem, props, animation.opts);
            if (result) {
                return result;
            }
        }
        createTweens(animation, props);
        if (jQuery.isFunction(animation.opts.start)) {
            animation.opts.start.call(elem, animation);
        }
        jQuery.fx.timer(jQuery.extend(tick, {anim: animation,queue: animation.opts.queue,elem: elem}));
        return animation.progress(animation.opts.progress).done(animation.opts.done, animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always);
    }
    function propFilter(props, specialEasing) {
        var index, name, easing, value, hooks;
        for (index in props) {
            name = jQuery.camelCase(index);
            easing = specialEasing[name];
            value = props[index];
            if (jQuery.isArray(value)) {
                easing = value[1];
                value = props[index] = value[0];
            }
            if (index !== name) {
                props[name] = value;
                delete props[index];
            }
            hooks = jQuery.cssHooks[name];
            if (hooks && "expand" in hooks) {
                value = hooks.expand(value);
                delete props[name];
                for (index in value) {
                    if (!(index in props)) {
                        props[index] = value[index];
                        specialEasing[index] = easing;
                    }
                }
            } else {
                specialEasing[name] = easing;
            }
        }
    }
    jQuery.Animation = jQuery.extend(Animation, {tweener: function(props, callback) {
            if (jQuery.isFunction(props)) {
                callback = props;
                props = ["*"];
            } else {
                props = props.split(" ");
            }
            var prop, index = 0, length = props.length;
            for (; index < length; index++) {
                prop = props[index];
                tweeners[prop] = tweeners[prop] || [];
                tweeners[prop].unshift(callback);
            }
        },prefilter: function(callback, prepend) {
            if (prepend) {
                animationPrefilters.unshift(callback);
            } else {
                animationPrefilters.push(callback);
            }
        }});
    function defaultPrefilter(elem, props, opts) {
        var index, prop, value, length, dataShow, toggle, tween, hooks, oldfire, anim = this, style = elem.style, orig = {}, handled = [], hidden = elem.nodeType && isHidden(elem);
        if (!opts.queue) {
            hooks = jQuery._queueHooks(elem, "fx");
            if (hooks.unqueued == null) {
                hooks.unqueued = 0;
                oldfire = hooks.empty.fire;
                hooks.empty.fire = function() {
                    if (!hooks.unqueued) {
                        oldfire();
                    }
                };
            }
            hooks.unqueued++;
            anim.always(function() {
                anim.always(function() {
                    hooks.unqueued--;
                    if (!jQuery.queue(elem, "fx").length) {
                        hooks.empty.fire();
                    }
                });
            });
        }
        if (elem.nodeType === 1 && ("height" in props || "width" in props)) {
            opts.overflow = [style.overflow, style.overflowX, style.overflowY];
            if (jQuery.css(elem, "display") === "inline" && jQuery.css(elem, "float") === "none") {
                if (!jQuery.support.inlineBlockNeedsLayout || css_defaultDisplay(elem.nodeName) === "inline") {
                    style.display = "inline-block";
                } else {
                    style.zoom = 1;
                }
            }
        }
        if (opts.overflow) {
            style.overflow = "hidden";
            if (!jQuery.support.shrinkWrapBlocks) {
                anim.done(function() {
                    style.overflow = opts.overflow[0];
                    style.overflowX = opts.overflow[1];
                    style.overflowY = opts.overflow[2];
                });
            }
        }
        for (index in props) {
            value = props[index];
            if (rfxtypes.exec(value)) {
                delete props[index];
                toggle = toggle || value === "toggle";
                if (value === (hidden ? "hide" : "show")) {
                    continue;
                }
                handled.push(index);
            }
        }
        length = handled.length;
        if (length) {
            dataShow = jQuery._data(elem, "fxshow") || jQuery._data(elem, "fxshow", {});
            if ("hidden" in dataShow) {
                hidden = dataShow.hidden;
            }
            if (toggle) {
                dataShow.hidden = !hidden;
            }
            if (hidden) {
                jQuery(elem).show();
            } else {
                anim.done(function() {
                    jQuery(elem).hide();
                });
            }
            anim.done(function() {
                var prop;
                jQuery.removeData(elem, "fxshow", true);
                for (prop in orig) {
                    jQuery.style(elem, prop, orig[prop]);
                }
            });
            for (index = 0; index < length; index++) {
                prop = handled[index];
                tween = anim.createTween(prop, hidden ? dataShow[prop] : 0);
                orig[prop] = dataShow[prop] || jQuery.style(elem, prop);
                if (!(prop in dataShow)) {
                    dataShow[prop] = tween.start;
                    if (hidden) {
                        tween.end = tween.start;
                        tween.start = prop === "width" || prop === "height" ? 1 : 0;
                    }
                }
            }
        }
    }
    function Tween(elem, options, prop, end, easing) {
        return new Tween.prototype.init(elem, options, prop, end, easing);
    }
    jQuery.Tween = Tween;
    Tween.prototype = {constructor: Tween,init: function(elem, options, prop, end, easing, unit) {
            this.elem = elem;
            this.prop = prop;
            this.easing = easing || "swing";
            this.options = options;
            this.start = this.now = this.cur();
            this.end = end;
            this.unit = unit || (jQuery.cssNumber[prop] ? "" : "px");
        },cur: function() {
            var hooks = Tween.propHooks[this.prop];
            return hooks && hooks.get ? hooks.get(this) : Tween.propHooks._default.get(this);
        },run: function(percent) {
            var eased, hooks = Tween.propHooks[this.prop];
            if (this.options.duration) {
                this.pos = eased = jQuery.easing[this.easing](percent, this.options.duration * percent, 0, 1, this.options.duration);
            } else {
                this.pos = eased = percent;
            }
            this.now = (this.end - this.start) * eased + this.start;
            if (this.options.step) {
                this.options.step.call(this.elem, this.now, this);
            }
            if (hooks && hooks.set) {
                hooks.set(this);
            } else {
                Tween.propHooks._default.set(this);
            }
            return this;
        }};
    Tween.prototype.init.prototype = Tween.prototype;
    Tween.propHooks = {_default: {get: function(tween) {
                var result;
                if (tween.elem[tween.prop] != null && (!tween.elem.style || tween.elem.style[tween.prop] == null)) {
                    return tween.elem[tween.prop];
                }
                result = jQuery.css(tween.elem, tween.prop, false, "");
                return !result || result === "auto" ? 0 : result;
            },set: function(tween) {
                if (jQuery.fx.step[tween.prop]) {
                    jQuery.fx.step[tween.prop](tween);
                } else if (tween.elem.style && (tween.elem.style[jQuery.cssProps[tween.prop]] != null || jQuery.cssHooks[tween.prop])) {
                    jQuery.style(tween.elem, tween.prop, tween.now + tween.unit);
                } else {
                    tween.elem[tween.prop] = tween.now;
                }
            }}};
    Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {set: function(tween) {
            if (tween.elem.nodeType && tween.elem.parentNode) {
                tween.elem[tween.prop] = tween.now;
            }
        }};
    jQuery.each(["toggle", "show", "hide"], function(i, name) {
        var cssFn = jQuery.fn[name];
        jQuery.fn[name] = function(speed, easing, callback) {
            return speed == null || typeof speed === "boolean" || (!i && jQuery.isFunction(speed) && jQuery.isFunction(easing)) ? cssFn.apply(this, arguments) : this.animate(genFx(name, true), speed, easing, callback);
        };
    });
    jQuery.fn.extend({fadeTo: function(speed, to, easing, callback) {
            return this.filter(isHidden).css("opacity", 0).show().end().animate({opacity: to}, speed, easing, callback);
        },animate: function(prop, speed, easing, callback) {
            var empty = jQuery.isEmptyObject(prop), optall = jQuery.speed(speed, easing, callback), doAnimation = function() {
                var anim = Animation(this, jQuery.extend({}, prop), optall);
                if (empty) {
                    anim.stop(true);
                }
            };
            return empty || optall.queue === false ? this.each(doAnimation) : this.queue(optall.queue, doAnimation);
        },stop: function(type, clearQueue, gotoEnd) {
            var stopQueue = function(hooks) {
                var stop = hooks.stop;
                delete hooks.stop;
                stop(gotoEnd);
            };
            if (typeof type !== "string") {
                gotoEnd = clearQueue;
                clearQueue = type;
                type = undefined;
            }
            if (clearQueue && type !== false) {
                this.queue(type || "fx", []);
            }
            return this.each(function() {
                var dequeue = true, index = type != null && type + "queueHooks", timers = jQuery.timers, data = jQuery._data(this);
                if (index) {
                    if (data[index] && data[index].stop) {
                        stopQueue(data[index]);
                    }
                } else {
                    for (index in data) {
                        if (data[index] && data[index].stop && rrun.test(index)) {
                            stopQueue(data[index]);
                        }
                    }
                }
                for (index = timers.length; index--; ) {
                    if (timers[index].elem === this && (type == null || timers[index].queue === type)) {
                        timers[index].anim.stop(gotoEnd);
                        dequeue = false;
                        timers.splice(index, 1);
                    }
                }
                if (dequeue || !gotoEnd) {
                    jQuery.dequeue(this, type);
                }
            });
        }});
    function genFx(type, includeWidth) {
        var which, attrs = {height: type}, i = 0;
        includeWidth = includeWidth ? 1 : 0;
        for (; i < 4; i += 2 - includeWidth) {
            which = cssExpand[i];
            attrs["margin" + which] = attrs["padding" + which] = type;
        }
        if (includeWidth) {
            attrs.opacity = attrs.width = type;
        }
        return attrs;
    }
    jQuery.each({slideDown: genFx("show"),slideUp: genFx("hide"),slideToggle: genFx("toggle"),fadeIn: {opacity: "show"},fadeOut: {opacity: "hide"},fadeToggle: {opacity: "toggle"}}, function(name, props) {
        jQuery.fn[name] = function(speed, easing, callback) {
            return this.animate(props, speed, easing, callback);
        };
    });
    jQuery.speed = function(speed, easing, fn) {
        var opt = speed && typeof speed === "object" ? jQuery.extend({}, speed) : {complete: fn || !fn && easing || jQuery.isFunction(speed) && speed,duration: speed,easing: fn && easing || easing && !jQuery.isFunction(easing) && easing};
        opt.duration = jQuery.fx.off ? 0 : typeof opt.duration === "number" ? opt.duration : opt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[opt.duration] : jQuery.fx.speeds._default;
        if (opt.queue == null || opt.queue === true) {
            opt.queue = "fx";
        }
        opt.old = opt.complete;
        opt.complete = function() {
            if (jQuery.isFunction(opt.old)) {
                opt.old.call(this);
            }
            if (opt.queue) {
                jQuery.dequeue(this, opt.queue);
            }
        };
        return opt;
    };
    jQuery.easing = {linear: function(p) {
            return p;
        },swing: function(p) {
            return 0.5 - Math.cos(p * Math.PI) / 2;
        }};
    jQuery.timers = [];
    jQuery.fx = Tween.prototype.init;
    jQuery.fx.tick = function() {
        var timer, timers = jQuery.timers, i = 0;
        fxNow = jQuery.now();
        for (; i < timers.length; i++) {
            timer = timers[i];
            if (!timer() && timers[i] === timer) {
                timers.splice(i--, 1);
            }
        }
        if (!timers.length) {
            jQuery.fx.stop();
        }
        fxNow = undefined;
    };
    jQuery.fx.timer = function(timer) {
        if (timer() && jQuery.timers.push(timer) && !timerId) {
            timerId = setInterval(jQuery.fx.tick, jQuery.fx.interval);
        }
    };
    jQuery.fx.interval = 13;
    jQuery.fx.stop = function() {
        clearInterval(timerId);
        timerId = null;
    };
    jQuery.fx.speeds = {slow: 600,fast: 200,_default: 400};
    jQuery.fx.step = {};
    if (jQuery.expr && jQuery.expr.filters) {
        jQuery.expr.filters.animated = function(elem) {
            return jQuery.grep(jQuery.timers, function(fn) {
                return elem === fn.elem;
            }).length;
        };
    }
    var rroot = /^(?:body|html)$/i;
    jQuery.fn.offset = function(options) {
        if (arguments.length) {
            return options === undefined ? this : this.each(function(i) {
                jQuery.offset.setOffset(this, options, i);
            });
        }
        var docElem, body, win, clientTop, clientLeft, scrollTop, scrollLeft, box = {top: 0,left: 0}, elem = this[0], doc = elem && elem.ownerDocument;
        if (!doc) {
            return;
        }
        if ((body = doc.body) === elem) {
            return jQuery.offset.bodyOffset(elem);
        }
        docElem = doc.documentElement;
        if (!jQuery.contains(docElem, elem)) {
            return box;
        }
        if (typeof elem.getBoundingClientRect !== "undefined") {
            box = elem.getBoundingClientRect();
        }
        win = getWindow(doc);
        clientTop = docElem.clientTop || body.clientTop || 0;
        clientLeft = docElem.clientLeft || body.clientLeft || 0;
        scrollTop = win.pageYOffset || docElem.scrollTop;
        scrollLeft = win.pageXOffset || docElem.scrollLeft;
        return {top: box.top + scrollTop - clientTop,left: box.left + scrollLeft - clientLeft};
    };
    jQuery.offset = {bodyOffset: function(body) {
            var top = body.offsetTop, left = body.offsetLeft;
            if (jQuery.support.doesNotIncludeMarginInBodyOffset) {
                top += parseFloat(jQuery.css(body, "marginTop")) || 0;
                left += parseFloat(jQuery.css(body, "marginLeft")) || 0;
            }
            return {top: top,left: left};
        },setOffset: function(elem, options, i) {
            var position = jQuery.css(elem, "position");
            if (position === "static") {
                elem.style.position = "relative";
            }
            var curElem = jQuery(elem), curOffset = curElem.offset(), curCSSTop = jQuery.css(elem, "top"), curCSSLeft = jQuery.css(elem, "left"), calculatePosition = (position === "absolute" || position === "fixed") && jQuery.inArray("auto", [curCSSTop, curCSSLeft]) > -1, props = {}, curPosition = {}, curTop, curLeft;
            if (calculatePosition) {
                curPosition = curElem.position();
                curTop = curPosition.top;
                curLeft = curPosition.left;
            } else {
                curTop = parseFloat(curCSSTop) || 0;
                curLeft = parseFloat(curCSSLeft) || 0;
            }
            if (jQuery.isFunction(options)) {
                options = options.call(elem, i, curOffset);
            }
            if (options.top != null) {
                props.top = (options.top - curOffset.top) + curTop;
            }
            if (options.left != null) {
                props.left = (options.left - curOffset.left) + curLeft;
            }
            if ("using" in options) {
                options.using.call(elem, props);
            } else {
                curElem.css(props);
            }
        }};
    jQuery.fn.extend({position: function() {
            if (!this[0]) {
                return;
            }
            var elem = this[0], offsetParent = this.offsetParent(), offset = this.offset(), parentOffset = rroot.test(offsetParent[0].nodeName) ? {top: 0,left: 0} : offsetParent.offset();
            offset.top -= parseFloat(jQuery.css(elem, "marginTop")) || 0;
            offset.left -= parseFloat(jQuery.css(elem, "marginLeft")) || 0;
            parentOffset.top += parseFloat(jQuery.css(offsetParent[0], "borderTopWidth")) || 0;
            parentOffset.left += parseFloat(jQuery.css(offsetParent[0], "borderLeftWidth")) || 0;
            return {top: offset.top - parentOffset.top,left: offset.left - parentOffset.left};
        },offsetParent: function() {
            return this.map(function() {
                var offsetParent = this.offsetParent || document.body;
                while (offsetParent && (!rroot.test(offsetParent.nodeName) && jQuery.css(offsetParent, "position") === "static")) {
                    offsetParent = offsetParent.offsetParent;
                }
                return offsetParent || document.body;
            });
        }});
    jQuery.each({scrollLeft: "pageXOffset",scrollTop: "pageYOffset"}, function(method, prop) {
        var top = /Y/.test(prop);
        jQuery.fn[method] = function(val) {
            return jQuery.access(this, function(elem, method, val) {
                var win = getWindow(elem);
                if (val === undefined) {
                    return win ? (prop in win) ? win[prop] : win.document.documentElement[method] : elem[method];
                }
                if (win) {
                    win.scrollTo(!top ? val : jQuery(win).scrollLeft(), top ? val : jQuery(win).scrollTop());
                } else {
                    elem[method] = val;
                }
            }, method, val, arguments.length, null);
        };
    });
    function getWindow(elem) {
        return jQuery.isWindow(elem) ? elem : elem.nodeType === 9 ? elem.defaultView || elem.parentWindow : false;
    }
    jQuery.each({Height: "height",Width: "width"}, function(name, type) {
        jQuery.each({padding: "inner" + name,content: type,"": "outer" + name}, function(defaultExtra, funcName) {
            jQuery.fn[funcName] = function(margin, value) {
                var chainable = arguments.length && (defaultExtra || typeof margin !== "boolean"), extra = defaultExtra || (margin === true || value === true ? "margin" : "border");
                return jQuery.access(this, function(elem, type, value) {
                    var doc;
                    if (jQuery.isWindow(elem)) {
                        return elem.document.documentElement["client" + name];
                    }
                    if (elem.nodeType === 9) {
                        doc = elem.documentElement;
                        return Math.max(elem.body["scroll" + name], doc["scroll" + name], elem.body["offset" + name], doc["offset" + name], doc["client" + name]);
                    }
                    return value === undefined ? jQuery.css(elem, type, value, extra) : jQuery.style(elem, type, value, extra);
                }, type, chainable ? margin : undefined, chainable, null);
            };
        });
    });
    window.jQuery = window.$ = jQuery;
    if (typeof define === "function" && define.amd && define.amd.jQuery) {
        define("jquery", [], function() {
            return jQuery;
        });
    }
})(window);
(function(e, t) {
    function i(t, i) {
        var a, n, r, o = t.nodeName.toLowerCase();
        return "area" === o ? (a = t.parentNode, n = a.name, t.href && n && "map" === a.nodeName.toLowerCase() ? (r = e("img[usemap=#" + n + "]")[0], !!r && s(r)) : !1) : (/input|select|textarea|button|object/.test(o) ? !t.disabled : "a" === o ? t.href || i : i) && s(t)
    }
    function s(t) {
        return e.expr.filters.visible(t) && !e(t).parents().addBack().filter(function() {
            return "hidden" === e.css(this, "visibility")
        }).length
    }
    var a = 0, n = /^ui-id-\d+$/;
    e.ui = e.ui || {}, e.extend(e.ui, {version: "1.10.3",keyCode: {BACKSPACE: 8,COMMA: 188,DELETE: 46,DOWN: 40,END: 35,ENTER: 13,ESCAPE: 27,HOME: 36,LEFT: 37,NUMPAD_ADD: 107,NUMPAD_DECIMAL: 110,NUMPAD_DIVIDE: 111,NUMPAD_ENTER: 108,NUMPAD_MULTIPLY: 106,NUMPAD_SUBTRACT: 109,PAGE_DOWN: 34,PAGE_UP: 33,PERIOD: 190,RIGHT: 39,SPACE: 32,TAB: 9,UP: 38}}), e.fn.extend({focus: function(t) {
            return function(i, s) {
                return "number" == typeof i ? this.each(function() {
                    var t = this;
                    setTimeout(function() {
                        e(t).focus(), s && s.call(t)
                    }, i)
                }) : t.apply(this, arguments)
            }
        }(e.fn.focus),scrollParent: function() {
            var t;
            return t = e.ui.ie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position")) ? this.parents().filter(function() {
                return /(relative|absolute|fixed)/.test(e.css(this, "position")) && /(auto|scroll)/.test(e.css(this, "overflow") + e.css(this, "overflow-y") + e.css(this, "overflow-x"))
            }).eq(0) : this.parents().filter(function() {
                return /(auto|scroll)/.test(e.css(this, "overflow") + e.css(this, "overflow-y") + e.css(this, "overflow-x"))
            }).eq(0), /fixed/.test(this.css("position")) || !t.length ? e(document) : t
        },zIndex: function(i) {
            if (i !== t)
                return this.css("zIndex", i);
            if (this.length)
                for (var s, a, n = e(this[0]); n.length && n[0] !== document; ) {
                    if (s = n.css("position"), ("absolute" === s || "relative" === s || "fixed" === s) && (a = parseInt(n.css("zIndex"), 10), !isNaN(a) && 0 !== a))
                        return a;
                    n = n.parent()
                }
            return 0
        },uniqueId: function() {
            return this.each(function() {
                this.id || (this.id = "ui-id-" + ++a)
            })
        },removeUniqueId: function() {
            return this.each(function() {
                n.test(this.id) && e(this).removeAttr("id")
            })
        }}), e.extend(e.expr[":"], {data: e.expr.createPseudo ? e.expr.createPseudo(function(t) {
            return function(i) {
                return !!e.data(i, t)
            }
        }) : function(t, i, s) {
            return !!e.data(t, s[3])
        },focusable: function(t) {
            return i(t, !isNaN(e.attr(t, "tabindex")))
        },tabbable: function(t) {
            var s = e.attr(t, "tabindex"), a = isNaN(s);
            return (a || s >= 0) && i(t, !a)
        }}), e("<a>").outerWidth(1).jquery || e.each(["Width", "Height"], function(i, s) {
        function a(t, i, s, a) {
            return e.each(n, function() {
                i -= parseFloat(e.css(t, "padding" + this)) || 0, s && (i -= parseFloat(e.css(t, "border" + this + "Width")) || 0), a && (i -= parseFloat(e.css(t, "margin" + this)) || 0)
            }), i
        }
        var n = "Width" === s ? ["Left", "Right"] : ["Top", "Bottom"], r = s.toLowerCase(), o = {innerWidth: e.fn.innerWidth,innerHeight: e.fn.innerHeight,outerWidth: e.fn.outerWidth,outerHeight: e.fn.outerHeight};
        e.fn["inner" + s] = function(i) {
            return i === t ? o["inner" + s].call(this) : this.each(function() {
                e(this).css(r, a(this, i) + "px")
            })
        }, e.fn["outer" + s] = function(t, i) {
            return "number" != typeof t ? o["outer" + s].call(this, t) : this.each(function() {
                e(this).css(r, a(this, t, !0, i) + "px")
            })
        }
    }), e.fn.addBack || (e.fn.addBack = function(e) {
        return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
    }), e("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (e.fn.removeData = function(t) {
        return function(i) {
            return arguments.length ? t.call(this, e.camelCase(i)) : t.call(this)
        }
    }(e.fn.removeData)), e.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()), e.support.selectstart = "onselectstart" in document.createElement("div"), e.fn.extend({disableSelection: function() {
            return this.bind((e.support.selectstart ? "selectstart" : "mousedown") + ".ui-disableSelection", function(e) {
                e.preventDefault()
            })
        },enableSelection: function() {
            return this.unbind(".ui-disableSelection")
        }}), e.extend(e.ui, {plugin: {add: function(t, i, s) {
                var a, n = e.ui[t].prototype;
                for (a in s)
                    n.plugins[a] = n.plugins[a] || [], n.plugins[a].push([i, s[a]])
            },call: function(e, t, i) {
                var s, a = e.plugins[t];
                if (a && e.element[0].parentNode && 11 !== e.element[0].parentNode.nodeType)
                    for (s = 0; a.length > s; s++)
                        e.options[a[s][0]] && a[s][1].apply(e.element, i)
            }},hasScroll: function(t, i) {
            if ("hidden" === e(t).css("overflow"))
                return !1;
            var s = i && "left" === i ? "scrollLeft" : "scrollTop", a = !1;
            return t[s] > 0 ? !0 : (t[s] = 1, a = t[s] > 0, t[s] = 0, a)
        }})
})(jQuery);
(function(e, t) {
    var i = 0, s = Array.prototype.slice, n = e.cleanData;
    e.cleanData = function(t) {
        for (var i, s = 0; null != (i = t[s]); s++)
            try {
                e(i).triggerHandler("remove")
            } catch (a) {
            }
        n(t)
    }, e.widget = function(i, s, n) {
        var a, r, o, h, l = {}, u = i.split(".")[0];
        i = i.split(".")[1], a = u + "-" + i, n || (n = s, s = e.Widget), e.expr[":"][a.toLowerCase()] = function(t) {
            return !!e.data(t, a)
        }, e[u] = e[u] || {}, r = e[u][i], o = e[u][i] = function(e, i) {
            return this._createWidget ? (arguments.length && this._createWidget(e, i), t) : new o(e, i)
        }, e.extend(o, r, {version: n.version,_proto: e.extend({}, n),_childConstructors: []}), h = new s, h.options = e.widget.extend({}, h.options), e.each(n, function(i, n) {
            return e.isFunction(n) ? (l[i] = function() {
                var e = function() {
                    return s.prototype[i].apply(this, arguments)
                }, t = function(e) {
                    return s.prototype[i].apply(this, e)
                };
                return function() {
                    var i, s = this._super, a = this._superApply;
                    return this._super = e, this._superApply = t, i = n.apply(this, arguments), this._super = s, this._superApply = a, i
                }
            }(), t) : (l[i] = n, t)
        }), o.prototype = e.widget.extend(h, {widgetEventPrefix: r ? h.widgetEventPrefix : i}, l, {constructor: o,namespace: u,widgetName: i,widgetFullName: a}), r ? (e.each(r._childConstructors, function(t, i) {
            var s = i.prototype;
            e.widget(s.namespace + "." + s.widgetName, o, i._proto)
        }), delete r._childConstructors) : s._childConstructors.push(o), e.widget.bridge(i, o)
    }, e.widget.extend = function(i) {
        for (var n, a, r = s.call(arguments, 1), o = 0, h = r.length; h > o; o++)
            for (n in r[o])
                a = r[o][n], r[o].hasOwnProperty(n) && a !== t && (i[n] = e.isPlainObject(a) ? e.isPlainObject(i[n]) ? e.widget.extend({}, i[n], a) : e.widget.extend({}, a) : a);
        return i
    }, e.widget.bridge = function(i, n) {
        var a = n.prototype.widgetFullName || i;
        e.fn[i] = function(r) {
            var o = "string" == typeof r, h = s.call(arguments, 1), l = this;
            return r = !o && h.length ? e.widget.extend.apply(null, [r].concat(h)) : r, o ? this.each(function() {
                var s, n = e.data(this, a);
                return n ? e.isFunction(n[r]) && "_" !== r.charAt(0) ? (s = n[r].apply(n, h), s !== n && s !== t ? (l = s && s.jquery ? l.pushStack(s.get()) : s, !1) : t) : e.error("no such method '" + r + "' for " + i + " widget instance") : e.error("cannot call methods on " + i + " prior to initialization; " + "attempted to call method '" + r + "'")
            }) : this.each(function() {
                var t = e.data(this, a);
                t ? t.option(r || {})._init() : e.data(this, a, new n(r, this))
            }), l
        }
    }, e.Widget = function() {
    }, e.Widget._childConstructors = [], e.Widget.prototype = {widgetName: "widget",widgetEventPrefix: "",defaultElement: "<div>",options: {disabled: !1,create: null},_createWidget: function(t, s) {
            s = e(s || this.defaultElement || this)[0], this.element = e(s), this.uuid = i++, this.eventNamespace = "." + this.widgetName + this.uuid, this.options = e.widget.extend({}, this.options, this._getCreateOptions(), t), this.bindings = e(), this.hoverable = e(), this.focusable = e(), s !== this && (e.data(s, this.widgetFullName, this), this._on(!0, this.element, {remove: function(e) {
                    e.target === s && this.destroy()
                }}), this.document = e(s.style ? s.ownerDocument : s.document || s), this.window = e(this.document[0].defaultView || this.document[0].parentWindow)), this._create(), this._trigger("create", null, this._getCreateEventData()), this._init()
        },_getCreateOptions: e.noop,_getCreateEventData: e.noop,_create: e.noop,_init: e.noop,destroy: function() {
            this._destroy(), this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)), this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled " + "ui-state-disabled"), this.bindings.unbind(this.eventNamespace), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")
        },_destroy: e.noop,widget: function() {
            return this.element
        },option: function(i, s) {
            var n, a, r, o = i;
            if (0 === arguments.length)
                return e.widget.extend({}, this.options);
            if ("string" == typeof i)
                if (o = {}, n = i.split("."), i = n.shift(), n.length) {
                    for (a = o[i] = e.widget.extend({}, this.options[i]), r = 0; n.length - 1 > r; r++)
                        a[n[r]] = a[n[r]] || {}, a = a[n[r]];
                    if (i = n.pop(), s === t)
                        return a[i] === t ? null : a[i];
                    a[i] = s
                } else {
                    if (s === t)
                        return this.options[i] === t ? null : this.options[i];
                    o[i] = s
                }
            return this._setOptions(o), this
        },_setOptions: function(e) {
            var t;
            for (t in e)
                this._setOption(t, e[t]);
            return this
        },_setOption: function(e, t) {
            return this.options[e] = t, "disabled" === e && (this.widget().toggleClass(this.widgetFullName + "-disabled ui-state-disabled", !!t).attr("aria-disabled", t), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")), this
        },enable: function() {
            return this._setOption("disabled", !1)
        },disable: function() {
            return this._setOption("disabled", !0)
        },_on: function(i, s, n) {
            var a, r = this;
            "boolean" != typeof i && (n = s, s = i, i = !1), n ? (s = a = e(s), this.bindings = this.bindings.add(s)) : (n = s, s = this.element, a = this.widget()), e.each(n, function(n, o) {
                function h() {
                    return i || r.options.disabled !== !0 && !e(this).hasClass("ui-state-disabled") ? ("string" == typeof o ? r[o] : o).apply(r, arguments) : t
                }
                "string" != typeof o && (h.guid = o.guid = o.guid || h.guid || e.guid++);
                var l = n.match(/^(\w+)\s*(.*)$/), u = l[1] + r.eventNamespace, c = l[2];
                c ? a.delegate(c, u, h) : s.bind(u, h)
            })
        },_off: function(e, t) {
            t = (t || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, e.unbind(t).undelegate(t)
        },_delay: function(e, t) {
            function i() {
                return ("string" == typeof e ? s[e] : e).apply(s, arguments)
            }
            var s = this;
            return setTimeout(i, t || 0)
        },_hoverable: function(t) {
            this.hoverable = this.hoverable.add(t), this._on(t, {mouseenter: function(t) {
                    e(t.currentTarget).addClass("ui-state-hover")
                },mouseleave: function(t) {
                    e(t.currentTarget).removeClass("ui-state-hover")
                }})
        },_focusable: function(t) {
            this.focusable = this.focusable.add(t), this._on(t, {focusin: function(t) {
                    e(t.currentTarget).addClass("ui-state-focus")
                },focusout: function(t) {
                    e(t.currentTarget).removeClass("ui-state-focus")
                }})
        },_trigger: function(t, i, s) {
            var n, a, r = this.options[t];
            if (s = s || {}, i = e.Event(i), i.type = (t === this.widgetEventPrefix ? t : this.widgetEventPrefix + t).toLowerCase(), i.target = this.element[0], a = i.originalEvent)
                for (n in a)
                    n in i || (i[n] = a[n]);
            return this.element.trigger(i, s), !(e.isFunction(r) && r.apply(this.element[0], [i].concat(s)) === !1 || i.isDefaultPrevented())
        }}, e.each({show: "fadeIn",hide: "fadeOut"}, function(t, i) {
        e.Widget.prototype["_" + t] = function(s, n, a) {
            "string" == typeof n && (n = {effect: n});
            var r, o = n ? n === !0 || "number" == typeof n ? i : n.effect || i : t;
            n = n || {}, "number" == typeof n && (n = {duration: n}), r = !e.isEmptyObject(n), n.complete = a, n.delay && s.delay(n.delay), r && e.effects && e.effects.effect[o] ? s[t](n) : o !== t && s[o] ? s[o](n.duration, n.easing, a) : s.queue(function(i) {
                e(this)[t](), a && a.call(s[0]), i()
            })
        }
    })
})(jQuery);
(function(e) {
    var t = !1;
    e(document).mouseup(function() {
        t = !1
    }), e.widget("ui.mouse", {version: "1.10.3",options: {cancel: "input,textarea,button,select,option",distance: 1,delay: 0},_mouseInit: function() {
            var t = this;
            this.element.bind("mousedown." + this.widgetName, function(e) {
                return t._mouseDown(e)
            }).bind("click." + this.widgetName, function(i) {
                return !0 === e.data(i.target, t.widgetName + ".preventClickEvent") ? (e.removeData(i.target, t.widgetName + ".preventClickEvent"), i.stopImmediatePropagation(), !1) : undefined
            }), this.started = !1
        },_mouseDestroy: function() {
            this.element.unbind("." + this.widgetName), this._mouseMoveDelegate && e(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
        },_mouseDown: function(i) {
            if (!t) {
                this._mouseStarted && this._mouseUp(i), this._mouseDownEvent = i;
                var s = this, n = 1 === i.which, a = "string" == typeof this.options.cancel && i.target.nodeName ? e(i.target).closest(this.options.cancel).length : !1;
                return n && !a && this._mouseCapture(i) ? (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function() {
                    s.mouseDelayMet = !0
                }, this.options.delay)), this._mouseDistanceMet(i) && this._mouseDelayMet(i) && (this._mouseStarted = this._mouseStart(i) !== !1, !this._mouseStarted) ? (i.preventDefault(), !0) : (!0 === e.data(i.target, this.widgetName + ".preventClickEvent") && e.removeData(i.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function(e) {
                    return s._mouseMove(e)
                }, this._mouseUpDelegate = function(e) {
                    return s._mouseUp(e)
                }, e(document).bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), i.preventDefault(), t = !0, !0)) : !0
            }
        },_mouseMove: function(t) {
            return e.ui.ie && (!document.documentMode || 9 > document.documentMode) && !t.button ? this._mouseUp(t) : this._mouseStarted ? (this._mouseDrag(t), t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1, this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)), !this._mouseStarted)
        },_mouseUp: function(t) {
            return e(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, t.target === this._mouseDownEvent.target && e.data(t.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(t)), !1
        },_mouseDistanceMet: function(e) {
            return Math.max(Math.abs(this._mouseDownEvent.pageX - e.pageX), Math.abs(this._mouseDownEvent.pageY - e.pageY)) >= this.options.distance
        },_mouseDelayMet: function() {
            return this.mouseDelayMet
        },_mouseStart: function() {
        },_mouseDrag: function() {
        },_mouseStop: function() {
        },_mouseCapture: function() {
            return !0
        }})
})(jQuery);
(function(t, e) {
    function i(t, e, i) {
        return [parseFloat(t[0]) * (p.test(t[0]) ? e / 100 : 1), parseFloat(t[1]) * (p.test(t[1]) ? i / 100 : 1)]
    }
    function s(e, i) {
        return parseInt(t.css(e, i), 10) || 0
    }
    function n(e) {
        var i = e[0];
        return 9 === i.nodeType ? {width: e.width(),height: e.height(),offset: {top: 0,left: 0}} : t.isWindow(i) ? {width: e.width(),height: e.height(),offset: {top: e.scrollTop(),left: e.scrollLeft()}} : i.preventDefault ? {width: 0,height: 0,offset: {top: i.pageY,left: i.pageX}} : {width: e.outerWidth(),height: e.outerHeight(),offset: e.offset()}
    }
    t.ui = t.ui || {};
    var a, o = Math.max, r = Math.abs, h = Math.round, l = /left|center|right/, c = /top|center|bottom/, u = /[\+\-]\d+(\.[\d]+)?%?/, d = /^\w+/, p = /%$/, f = t.fn.position;
    t.position = {scrollbarWidth: function() {
            if (a !== e)
                return a;
            var i, s, n = t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"), o = n.children()[0];
            return t("body").append(n), i = o.offsetWidth, n.css("overflow", "scroll"), s = o.offsetWidth, i === s && (s = n[0].clientWidth), n.remove(), a = i - s
        },getScrollInfo: function(e) {
            var i = e.isWindow ? "" : e.element.css("overflow-x"), s = e.isWindow ? "" : e.element.css("overflow-y"), n = "scroll" === i || "auto" === i && e.width < e.element[0].scrollWidth, a = "scroll" === s || "auto" === s && e.height < e.element[0].scrollHeight;
            return {width: a ? t.position.scrollbarWidth() : 0,height: n ? t.position.scrollbarWidth() : 0}
        },getWithinInfo: function(e) {
            var i = t(e || window), s = t.isWindow(i[0]);
            return {element: i,isWindow: s,offset: i.offset() || {left: 0,top: 0},scrollLeft: i.scrollLeft(),scrollTop: i.scrollTop(),width: s ? i.width() : i.outerWidth(),height: s ? i.height() : i.outerHeight()}
        }}, t.fn.position = function(e) {
        if (!e || !e.of)
            return f.apply(this, arguments);
        e = t.extend({}, e);
        var a, p, m, g, v, b, _ = t(e.of), y = t.position.getWithinInfo(e.within), w = t.position.getScrollInfo(y), x = (e.collision || "flip").split(" "), k = {};
        return b = n(_), _[0].preventDefault && (e.at = "left top"), p = b.width, m = b.height, g = b.offset, v = t.extend({}, g), t.each(["my", "at"], function() {
            var t, i, s = (e[this] || "").split(" ");
            1 === s.length && (s = l.test(s[0]) ? s.concat(["center"]) : c.test(s[0]) ? ["center"].concat(s) : ["center", "center"]), s[0] = l.test(s[0]) ? s[0] : "center", s[1] = c.test(s[1]) ? s[1] : "center", t = u.exec(s[0]), i = u.exec(s[1]), k[this] = [t ? t[0] : 0, i ? i[0] : 0], e[this] = [d.exec(s[0])[0], d.exec(s[1])[0]]
        }), 1 === x.length && (x[1] = x[0]), "right" === e.at[0] ? v.left += p : "center" === e.at[0] && (v.left += p / 2), "bottom" === e.at[1] ? v.top += m : "center" === e.at[1] && (v.top += m / 2), a = i(k.at, p, m), v.left += a[0], v.top += a[1], this.each(function() {
            var n, l, c = t(this), u = c.outerWidth(), d = c.outerHeight(), f = s(this, "marginLeft"), b = s(this, "marginTop"), D = u + f + s(this, "marginRight") + w.width, T = d + b + s(this, "marginBottom") + w.height, C = t.extend({}, v), M = i(k.my, c.outerWidth(), c.outerHeight());
            "right" === e.my[0] ? C.left -= u : "center" === e.my[0] && (C.left -= u / 2), "bottom" === e.my[1] ? C.top -= d : "center" === e.my[1] && (C.top -= d / 2), C.left += M[0], C.top += M[1], t.support.offsetFractions || (C.left = h(C.left), C.top = h(C.top)), n = {marginLeft: f,marginTop: b}, t.each(["left", "top"], function(i, s) {
                t.ui.position[x[i]] && t.ui.position[x[i]][s](C, {targetWidth: p,targetHeight: m,elemWidth: u,elemHeight: d,collisionPosition: n,collisionWidth: D,collisionHeight: T,offset: [a[0] + M[0], a[1] + M[1]],my: e.my,at: e.at,within: y,elem: c})
            }), e.using && (l = function(t) {
                var i = g.left - C.left, s = i + p - u, n = g.top - C.top, a = n + m - d, h = {target: {element: _,left: g.left,top: g.top,width: p,height: m},element: {element: c,left: C.left,top: C.top,width: u,height: d},horizontal: 0 > s ? "left" : i > 0 ? "right" : "center",vertical: 0 > a ? "top" : n > 0 ? "bottom" : "middle"};
                u > p && p > r(i + s) && (h.horizontal = "center"), d > m && m > r(n + a) && (h.vertical = "middle"), h.important = o(r(i), r(s)) > o(r(n), r(a)) ? "horizontal" : "vertical", e.using.call(this, t, h)
            }), c.offset(t.extend(C, {using: l}))
        })
    }, t.ui.position = {fit: {left: function(t, e) {
                var i, s = e.within, n = s.isWindow ? s.scrollLeft : s.offset.left, a = s.width, r = t.left - e.collisionPosition.marginLeft, h = n - r, l = r + e.collisionWidth - a - n;
                e.collisionWidth > a ? h > 0 && 0 >= l ? (i = t.left + h + e.collisionWidth - a - n, t.left += h - i) : t.left = l > 0 && 0 >= h ? n : h > l ? n + a - e.collisionWidth : n : h > 0 ? t.left += h : l > 0 ? t.left -= l : t.left = o(t.left - r, t.left)
            },top: function(t, e) {
                var i, s = e.within, n = s.isWindow ? s.scrollTop : s.offset.top, a = e.within.height, r = t.top - e.collisionPosition.marginTop, h = n - r, l = r + e.collisionHeight - a - n;
                e.collisionHeight > a ? h > 0 && 0 >= l ? (i = t.top + h + e.collisionHeight - a - n, t.top += h - i) : t.top = l > 0 && 0 >= h ? n : h > l ? n + a - e.collisionHeight : n : h > 0 ? t.top += h : l > 0 ? t.top -= l : t.top = o(t.top - r, t.top)
            }},flip: {left: function(t, e) {
                var i, s, n = e.within, a = n.offset.left + n.scrollLeft, o = n.width, h = n.isWindow ? n.scrollLeft : n.offset.left, l = t.left - e.collisionPosition.marginLeft, c = l - h, u = l + e.collisionWidth - o - h, d = "left" === e.my[0] ? -e.elemWidth : "right" === e.my[0] ? e.elemWidth : 0, p = "left" === e.at[0] ? e.targetWidth : "right" === e.at[0] ? -e.targetWidth : 0, f = -2 * e.offset[0];
                0 > c ? (i = t.left + d + p + f + e.collisionWidth - o - a, (0 > i || r(c) > i) && (t.left += d + p + f)) : u > 0 && (s = t.left - e.collisionPosition.marginLeft + d + p + f - h, (s > 0 || u > r(s)) && (t.left += d + p + f))
            },top: function(t, e) {
                var i, s, n = e.within, a = n.offset.top + n.scrollTop, o = n.height, h = n.isWindow ? n.scrollTop : n.offset.top, l = t.top - e.collisionPosition.marginTop, c = l - h, u = l + e.collisionHeight - o - h, d = "top" === e.my[1], p = d ? -e.elemHeight : "bottom" === e.my[1] ? e.elemHeight : 0, f = "top" === e.at[1] ? e.targetHeight : "bottom" === e.at[1] ? -e.targetHeight : 0, m = -2 * e.offset[1];
                0 > c ? (s = t.top + p + f + m + e.collisionHeight - o - a, t.top + p + f + m > c && (0 > s || r(c) > s) && (t.top += p + f + m)) : u > 0 && (i = t.top - e.collisionPosition.marginTop + p + f + m - h, t.top + p + f + m > u && (i > 0 || u > r(i)) && (t.top += p + f + m))
            }},flipfit: {left: function() {
                t.ui.position.flip.left.apply(this, arguments), t.ui.position.fit.left.apply(this, arguments)
            },top: function() {
                t.ui.position.flip.top.apply(this, arguments), t.ui.position.fit.top.apply(this, arguments)
            }}}, function() {
        var e, i, s, n, a, o = document.getElementsByTagName("body")[0], r = document.createElement("div");
        e = document.createElement(o ? "div" : "body"), s = {visibility: "hidden",width: 0,height: 0,border: 0,margin: 0,background: "none"}, o && t.extend(s, {position: "absolute",left: "-1000px",top: "-1000px"});
        for (a in s)
            e.style[a] = s[a];
        e.appendChild(r), i = o || document.documentElement, i.insertBefore(e, i.firstChild), r.style.cssText = "position: absolute; left: 10.7432222px;", n = t(r).offset().left, t.support.offsetFractions = n > 10 && 11 > n, e.innerHTML = "", i.removeChild(e)
    }()
})(jQuery);
(function(t) {
    var e = 0, i = {}, s = {};
    i.height = i.paddingTop = i.paddingBottom = i.borderTopWidth = i.borderBottomWidth = "hide", s.height = s.paddingTop = s.paddingBottom = s.borderTopWidth = s.borderBottomWidth = "show", t.widget("ui.accordion", {version: "1.10.3",options: {active: 0,animate: {},collapsible: !1,event: "click",header: "> li > :first-child,> :not(li):even",heightStyle: "auto",icons: {activeHeader: "ui-icon-triangle-1-s",header: "ui-icon-triangle-1-e"},activate: null,beforeActivate: null},_create: function() {
            var e = this.options;
            this.prevShow = this.prevHide = t(), this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role", "tablist"), e.collapsible || e.active !== !1 && null != e.active || (e.active = 0), this._processPanels(), 0 > e.active && (e.active += this.headers.length), this._refresh()
        },_getCreateEventData: function() {
            return {header: this.active,panel: this.active.length ? this.active.next() : t(),content: this.active.length ? this.active.next() : t()}
        },_createIcons: function() {
            var e = this.options.icons;
            e && (t("<span>").addClass("ui-accordion-header-icon ui-icon " + e.header).prependTo(this.headers), this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader), this.headers.addClass("ui-accordion-icons"))
        },_destroyIcons: function() {
            this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()
        },_destroy: function() {
            var t;
            this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"), this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function() {
                /^ui-accordion/.test(this.id) && this.removeAttribute("id")
            }), this._destroyIcons(), t = this.headers.next().css("display", "").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function() {
                /^ui-accordion/.test(this.id) && this.removeAttribute("id")
            }), "content" !== this.options.heightStyle && t.css("height", "")
        },_setOption: function(t, e) {
            return "active" === t ? (this._activate(e), undefined) : ("event" === t && (this.options.event && this._off(this.headers, this.options.event), this._setupEvents(e)), this._super(t, e), "collapsible" !== t || e || this.options.active !== !1 || this._activate(0), "icons" === t && (this._destroyIcons(), e && this._createIcons()), "disabled" === t && this.headers.add(this.headers.next()).toggleClass("ui-state-disabled", !!e), undefined)
        },_keydown: function(e) {
            if (!e.altKey && !e.ctrlKey) {
                var i = t.ui.keyCode, s = this.headers.length, n = this.headers.index(e.target), a = !1;
                switch (e.keyCode) {
                    case i.RIGHT:
                    case i.DOWN:
                        a = this.headers[(n + 1) % s];
                        break;
                    case i.LEFT:
                    case i.UP:
                        a = this.headers[(n - 1 + s) % s];
                        break;
                    case i.SPACE:
                    case i.ENTER:
                        this._eventHandler(e);
                        break;
                    case i.HOME:
                        a = this.headers[0];
                        break;
                    case i.END:
                        a = this.headers[s - 1]
                }
                a && (t(e.target).attr("tabIndex", -1), t(a).attr("tabIndex", 0), a.focus(), e.preventDefault())
            }
        },_panelKeyDown: function(e) {
            e.keyCode === t.ui.keyCode.UP && e.ctrlKey && t(e.currentTarget).prev().focus()
        },refresh: function() {
            var e = this.options;
            this._processPanels(), e.active === !1 && e.collapsible === !0 || !this.headers.length ? (e.active = !1, this.active = t()) : e.active === !1 ? this._activate(0) : this.active.length && !t.contains(this.element[0], this.active[0]) ? this.headers.length === this.headers.find(".ui-state-disabled").length ? (e.active = !1, this.active = t()) : this._activate(Math.max(0, e.active - 1)) : e.active = this.headers.index(this.active), this._destroyIcons(), this._refresh()
        },_processPanels: function() {
            this.headers = this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"), this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()
        },_refresh: function() {
            var i, s = this.options, n = s.heightStyle, a = this.element.parent(), o = this.accordionId = "ui-accordion-" + (this.element.attr("id") || ++e);
            this.active = this._findActive(s.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"), this.active.next().addClass("ui-accordion-content-active").show(), this.headers.attr("role", "tab").each(function(e) {
                var i = t(this), s = i.attr("id"), n = i.next(), a = n.attr("id");
                s || (s = o + "-header-" + e, i.attr("id", s)), a || (a = o + "-panel-" + e, n.attr("id", a)), i.attr("aria-controls", a), n.attr("aria-labelledby", s)
            }).next().attr("role", "tabpanel"), this.headers.not(this.active).attr({"aria-selected": "false",tabIndex: -1}).next().attr({"aria-expanded": "false","aria-hidden": "true"}).hide(), this.active.length ? this.active.attr({"aria-selected": "true",tabIndex: 0}).next().attr({"aria-expanded": "true","aria-hidden": "false"}) : this.headers.eq(0).attr("tabIndex", 0), this._createIcons(), this._setupEvents(s.event), "fill" === n ? (i = a.height(), this.element.siblings(":visible").each(function() {
                var e = t(this), s = e.css("position");
                "absolute" !== s && "fixed" !== s && (i -= e.outerHeight(!0))
            }), this.headers.each(function() {
                i -= t(this).outerHeight(!0)
            }), this.headers.next().each(function() {
                t(this).height(Math.max(0, i - t(this).innerHeight() + t(this).height()))
            }).css("overflow", "auto")) : "auto" === n && (i = 0, this.headers.next().each(function() {
                i = Math.max(i, t(this).css("height", "").height())
            }).height(i))
        },_activate: function(e) {
            var i = this._findActive(e)[0];
            i !== this.active[0] && (i = i || this.active[0], this._eventHandler({target: i,currentTarget: i,preventDefault: t.noop}))
        },_findActive: function(e) {
            return "number" == typeof e ? this.headers.eq(e) : t()
        },_setupEvents: function(e) {
            var i = {keydown: "_keydown"};
            e && t.each(e.split(" "), function(t, e) {
                i[e] = "_eventHandler"
            }), this._off(this.headers.add(this.headers.next())), this._on(this.headers, i), this._on(this.headers.next(), {keydown: "_panelKeyDown"}), this._hoverable(this.headers), this._focusable(this.headers)
        },_eventHandler: function(e) {
            var i = this.options, s = this.active, n = t(e.currentTarget), a = n[0] === s[0], o = a && i.collapsible, r = o ? t() : n.next(), h = s.next(), l = {oldHeader: s,oldPanel: h,newHeader: o ? t() : n,newPanel: r};
            e.preventDefault(), a && !i.collapsible || this._trigger("beforeActivate", e, l) === !1 || (i.active = o ? !1 : this.headers.index(n), this.active = a ? t() : n, this._toggle(l), s.removeClass("ui-accordion-header-active ui-state-active"), i.icons && s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header), a || (n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"), i.icons && n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader), n.next().addClass("ui-accordion-content-active")))
        },_toggle: function(e) {
            var i = e.newPanel, s = this.prevShow.length ? this.prevShow : e.oldPanel;
            this.prevShow.add(this.prevHide).stop(!0, !0), this.prevShow = i, this.prevHide = s, this.options.animate ? this._animate(i, s, e) : (s.hide(), i.show(), this._toggleComplete(e)), s.attr({"aria-expanded": "false","aria-hidden": "true"}), s.prev().attr("aria-selected", "false"), i.length && s.length ? s.prev().attr("tabIndex", -1) : i.length && this.headers.filter(function() {
                return 0 === t(this).attr("tabIndex")
            }).attr("tabIndex", -1), i.attr({"aria-expanded": "true","aria-hidden": "false"}).prev().attr({"aria-selected": "true",tabIndex: 0})
        },_animate: function(t, e, n) {
            var a, o, r, h = this, l = 0, c = t.length && (!e.length || t.index() < e.index()), u = this.options.animate || {}, d = c && u.down || u, p = function() {
                h._toggleComplete(n)
            };
            return "number" == typeof d && (r = d), "string" == typeof d && (o = d), o = o || d.easing || u.easing, r = r || d.duration || u.duration, e.length ? t.length ? (a = t.show().outerHeight(), e.animate(i, {duration: r,easing: o,step: function(t, e) {
                    e.now = Math.round(t)
                }}), t.hide().animate(s, {duration: r,easing: o,complete: p,step: function(t, i) {
                    i.now = Math.round(t), "height" !== i.prop ? l += i.now : "content" !== h.options.heightStyle && (i.now = Math.round(a - e.outerHeight() - l), l = 0)
                }}), undefined) : e.animate(i, r, o, p) : t.animate(s, r, o, p)
        },_toggleComplete: function(t) {
            var e = t.oldPanel;
            e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"), e.length && (e.parent()[0].className = e.parent()[0].className), this._trigger("activate", null, t)
        }})
})(jQuery);
(function(t) {
    var e = 0;
    t.widget("ui.autocomplete", {version: "1.10.3",defaultElement: "<input>",options: {appendTo: null,autoFocus: !1,delay: 300,minLength: 1,position: {my: "left top",at: "left bottom",collision: "none"},source: null,change: null,close: null,focus: null,open: null,response: null,search: null,select: null},pending: 0,_create: function() {
            var e, i, s, n = this.element[0].nodeName.toLowerCase(), a = "textarea" === n, o = "input" === n;
            this.isMultiLine = a ? !0 : o ? !1 : this.element.prop("isContentEditable"), this.valueMethod = this.element[a || o ? "val" : "text"], this.isNewMenu = !0, this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off"), this._on(this.element, {keydown: function(n) {
                    if (this.element.prop("readOnly"))
                        return e = !0, s = !0, i = !0, undefined;
                    e = !1, s = !1, i = !1;
                    var a = t.ui.keyCode;
                    switch (n.keyCode) {
                        case a.PAGE_UP:
                            e = !0, this._move("previousPage", n);
                            break;
                        case a.PAGE_DOWN:
                            e = !0, this._move("nextPage", n);
                            break;
                        case a.UP:
                            e = !0, this._keyEvent("previous", n);
                            break;
                        case a.DOWN:
                            e = !0, this._keyEvent("next", n);
                            break;
                        case a.ENTER:
                        case a.NUMPAD_ENTER:
                            this.menu.active && (e = !0, n.preventDefault(), this.menu.select(n));
                            break;
                        case a.TAB:
                            this.menu.active && this.menu.select(n);
                            break;
                        case a.ESCAPE:
                            this.menu.element.is(":visible") && (this._value(this.term), this.close(n), n.preventDefault());
                            break;
                        default:
                            i = !0, this._searchTimeout(n)
                    }
                },keypress: function(s) {
                    if (e)
                        return e = !1, (!this.isMultiLine || this.menu.element.is(":visible")) && s.preventDefault(), undefined;
                    if (!i) {
                        var n = t.ui.keyCode;
                        switch (s.keyCode) {
                            case n.PAGE_UP:
                                this._move("previousPage", s);
                                break;
                            case n.PAGE_DOWN:
                                this._move("nextPage", s);
                                break;
                            case n.UP:
                                this._keyEvent("previous", s);
                                break;
                            case n.DOWN:
                                this._keyEvent("next", s)
                        }
                    }
                },input: function(t) {
                    return s ? (s = !1, t.preventDefault(), undefined) : (this._searchTimeout(t), undefined)
                },focus: function() {
                    this.selectedItem = null, this.previous = this._value()
                },blur: function(t) {
                    return this.cancelBlur ? (delete this.cancelBlur, undefined) : (clearTimeout(this.searching), this.close(t), this._change(t), undefined)
                }}), this._initSource(), this.menu = t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role: null}).hide().data("ui-menu"), this._on(this.menu.element, {mousedown: function(e) {
                    e.preventDefault(), this.cancelBlur = !0, this._delay(function() {
                        delete this.cancelBlur
                    });
                    var i = this.menu.element[0];
                    t(e.target).closest(".ui-menu-item").length || this._delay(function() {
                        var e = this;
                        this.document.one("mousedown", function(s) {
                            s.target === e.element[0] || s.target === i || t.contains(i, s.target) || e.close()
                        })
                    })
                },menufocus: function(e, i) {
                    if (this.isNewMenu && (this.isNewMenu = !1, e.originalEvent && /^mouse/.test(e.originalEvent.type)))
                        return this.menu.blur(), this.document.one("mousemove", function() {
                            t(e.target).trigger(e.originalEvent)
                        }), undefined;
                    var s = i.item.data("ui-autocomplete-item");
                    !1 !== this._trigger("focus", e, {item: s}) ? e.originalEvent && /^key/.test(e.originalEvent.type) && this._value(s.value) : this.liveRegion.text(s.value)
                },menuselect: function(t, e) {
                    var i = e.item.data("ui-autocomplete-item"), s = this.previous;
                    this.element[0] !== this.document[0].activeElement && (this.element.focus(), this.previous = s, this._delay(function() {
                        this.previous = s, this.selectedItem = i
                    })), !1 !== this._trigger("select", t, {item: i}) && this._value(i.value), this.term = this._value(), this.close(t), this.selectedItem = i
                }}), this.liveRegion = t("<span>", {role: "status","aria-live": "polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element), this._on(this.window, {beforeunload: function() {
                    this.element.removeAttr("autocomplete")
                }})
        },_destroy: function() {
            clearTimeout(this.searching), this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"), this.menu.element.remove(), this.liveRegion.remove()
        },_setOption: function(t, e) {
            this._super(t, e), "source" === t && this._initSource(), "appendTo" === t && this.menu.element.appendTo(this._appendTo()), "disabled" === t && e && this.xhr && this.xhr.abort()
        },_appendTo: function() {
            var e = this.options.appendTo;
            return e && (e = e.jquery || e.nodeType ? t(e) : this.document.find(e).eq(0)), e || (e = this.element.closest(".ui-front")), e.length || (e = this.document[0].body), e
        },_initSource: function() {
            var e, i, s = this;
            t.isArray(this.options.source) ? (e = this.options.source, this.source = function(i, s) {
                s(t.ui.autocomplete.filter(e, i.term))
            }) : "string" == typeof this.options.source ? (i = this.options.source, this.source = function(e, n) {
                s.xhr && s.xhr.abort(), s.xhr = t.ajax({url: i,data: e,dataType: "json",success: function(t) {
                        n(t)
                    },error: function() {
                        n([])
                    }})
            }) : this.source = this.options.source
        },_searchTimeout: function(t) {
            clearTimeout(this.searching), this.searching = this._delay(function() {
                this.term !== this._value() && (this.selectedItem = null, this.search(null, t))
            }, this.options.delay)
        },search: function(t, e) {
            return t = null != t ? t : this._value(), this.term = this._value(), t.length < this.options.minLength ? this.close(e) : this._trigger("search", e) !== !1 ? this._search(t) : undefined
        },_search: function(t) {
            this.pending++, this.element.addClass("ui-autocomplete-loading"), this.cancelSearch = !1, this.source({term: t}, this._response())
        },_response: function() {
            var t = this, i = ++e;
            return function(s) {
                i === e && t.__response(s), t.pending--, t.pending || t.element.removeClass("ui-autocomplete-loading")
            }
        },__response: function(t) {
            t && (t = this._normalize(t)), this._trigger("response", null, {content: t}), !this.options.disabled && t && t.length && !this.cancelSearch ? (this._suggest(t), this._trigger("open")) : this._close()
        },close: function(t) {
            this.cancelSearch = !0, this._close(t)
        },_close: function(t) {
            this.menu.element.is(":visible") && (this.menu.element.hide(), this.menu.blur(), this.isNewMenu = !0, this._trigger("close", t))
        },_change: function(t) {
            this.previous !== this._value() && this._trigger("change", t, {item: this.selectedItem})
        },_normalize: function(e) {
            return e.length && e[0].label && e[0].value ? e : t.map(e, function(e) {
                return "string" == typeof e ? {label: e,value: e} : t.extend({label: e.label || e.value,value: e.value || e.label}, e)
            })
        },_suggest: function(e) {
            var i = this.menu.element.empty();
            this._renderMenu(i, e), this.isNewMenu = !0, this.menu.refresh(), i.show(), this._resizeMenu(), i.position(t.extend({of: this.element}, this.options.position)), this.options.autoFocus && this.menu.next()
        },_resizeMenu: function() {
            var t = this.menu.element;
            t.outerWidth(Math.max(t.width("").outerWidth() + 1, this.element.outerWidth()))
        },_renderMenu: function(e, i) {
            var s = this;
            t.each(i, function(t, i) {
                s._renderItemData(e, i)
            })
        },_renderItemData: function(t, e) {
            return this._renderItem(t, e).data("ui-autocomplete-item", e)
        },_renderItem: function(e, i) {
            return t("<li>").append(t("<a>").text(i.label)).appendTo(e)
        },_move: function(t, e) {
            return this.menu.element.is(":visible") ? this.menu.isFirstItem() && /^previous/.test(t) || this.menu.isLastItem() && /^next/.test(t) ? (this._value(this.term), this.menu.blur(), undefined) : (this.menu[t](e), undefined) : (this.search(null, e), undefined)
        },widget: function() {
            return this.menu.element
        },_value: function() {
            return this.valueMethod.apply(this.element, arguments)
        },_keyEvent: function(t, e) {
            (!this.isMultiLine || this.menu.element.is(":visible")) && (this._move(t, e), e.preventDefault())
        }}), t.extend(t.ui.autocomplete, {escapeRegex: function(t) {
            return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
        },filter: function(e, i) {
            var s = RegExp(t.ui.autocomplete.escapeRegex(i), "i");
            return t.grep(e, function(t) {
                return s.test(t.label || t.value || t)
            })
        }}), t.widget("ui.autocomplete", t.ui.autocomplete, {options: {messages: {noResults: "No search results.",results: function(t) {
                    return t + (t > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate."
                }}},__response: function(t) {
            var e;
            this._superApply(arguments), this.options.disabled || this.cancelSearch || (e = t && t.length ? this.options.messages.results(t.length) : this.options.messages.noResults, this.liveRegion.text(e))
        }})
})(jQuery);
(function(t) {
    t.widget("ui.menu", {version: "1.10.3",defaultElement: "<ul>",delay: 300,options: {icons: {submenu: "ui-icon-carat-1-e"},menus: "ul",position: {my: "left top",at: "right top"},role: "menu",blur: null,focus: null,select: null},_create: function() {
            this.activeMenu = this.element, this.mouseHandled = !1, this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length).attr({role: this.options.role,tabIndex: 0}).bind("click" + this.eventNamespace, t.proxy(function(t) {
                this.options.disabled && t.preventDefault()
            }, this)), this.options.disabled && this.element.addClass("ui-state-disabled").attr("aria-disabled", "true"), this._on({"mousedown .ui-menu-item > a": function(t) {
                    t.preventDefault()
                },"click .ui-state-disabled > a": function(t) {
                    t.preventDefault()
                },"click .ui-menu-item:has(a)": function(e) {
                    var i = t(e.target).closest(".ui-menu-item");
                    !this.mouseHandled && i.not(".ui-state-disabled").length && (this.mouseHandled = !0, this.select(e), i.has(".ui-menu").length ? this.expand(e) : this.element.is(":focus") || (this.element.trigger("focus", [!0]), this.active && 1 === this.active.parents(".ui-menu").length && clearTimeout(this.timer)))
                },"mouseenter .ui-menu-item": function(e) {
                    var i = t(e.currentTarget);
                    i.siblings().children(".ui-state-active").removeClass("ui-state-active"), this.focus(e, i)
                },mouseleave: "collapseAll","mouseleave .ui-menu": "collapseAll",focus: function(t, e) {
                    var i = this.active || this.element.children(".ui-menu-item").eq(0);
                    e || this.focus(t, i)
                },blur: function(e) {
                    this._delay(function() {
                        t.contains(this.element[0], this.document[0].activeElement) || this.collapseAll(e)
                    })
                },keydown: "_keydown"}), this.refresh(), this._on(this.document, {click: function(e) {
                    t(e.target).closest(".ui-menu").length || this.collapseAll(e), this.mouseHandled = !1
                }})
        },_destroy: function() {
            this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(), this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function() {
                var e = t(this);
                e.data("ui-menu-submenu-carat") && e.remove()
            }), this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")
        },_keydown: function(e) {
            function i(t) {
                return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
            }
            var s, n, a, o, r, h = !0;
            switch (e.keyCode) {
                case t.ui.keyCode.PAGE_UP:
                    this.previousPage(e);
                    break;
                case t.ui.keyCode.PAGE_DOWN:
                    this.nextPage(e);
                    break;
                case t.ui.keyCode.HOME:
                    this._move("first", "first", e);
                    break;
                case t.ui.keyCode.END:
                    this._move("last", "last", e);
                    break;
                case t.ui.keyCode.UP:
                    this.previous(e);
                    break;
                case t.ui.keyCode.DOWN:
                    this.next(e);
                    break;
                case t.ui.keyCode.LEFT:
                    this.collapse(e);
                    break;
                case t.ui.keyCode.RIGHT:
                    this.active && !this.active.is(".ui-state-disabled") && this.expand(e);
                    break;
                case t.ui.keyCode.ENTER:
                case t.ui.keyCode.SPACE:
                    this._activate(e);
                    break;
                case t.ui.keyCode.ESCAPE:
                    this.collapse(e);
                    break;
                default:
                    h = !1, n = this.previousFilter || "", a = String.fromCharCode(e.keyCode), o = !1, clearTimeout(this.filterTimer), a === n ? o = !0 : a = n + a, r = RegExp("^" + i(a), "i"), s = this.activeMenu.children(".ui-menu-item").filter(function() {
                        return r.test(t(this).children("a").text())
                    }), s = o && -1 !== s.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : s, s.length || (a = String.fromCharCode(e.keyCode), r = RegExp("^" + i(a), "i"), s = this.activeMenu.children(".ui-menu-item").filter(function() {
                        return r.test(t(this).children("a").text())
                    })), s.length ? (this.focus(e, s), s.length > 1 ? (this.previousFilter = a, this.filterTimer = this._delay(function() {
                        delete this.previousFilter
                    }, 1e3)) : delete this.previousFilter) : delete this.previousFilter
            }
            h && e.preventDefault()
        },_activate: function(t) {
            this.active.is(".ui-state-disabled") || (this.active.children("a[aria-haspopup='true']").length ? this.expand(t) : this.select(t))
        },refresh: function() {
            var e, i = this.options.icons.submenu, s = this.element.find(this.options.menus);
            s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role: this.options.role,"aria-hidden": "true","aria-expanded": "false"}).each(function() {
                var e = t(this), s = e.prev("a"), n = t("<span>").addClass("ui-menu-icon ui-icon " + i).data("ui-menu-submenu-carat", !0);
                s.attr("aria-haspopup", "true").prepend(n), e.attr("aria-labelledby", s.attr("id"))
            }), e = s.add(this.element), e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role", "presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex: -1,role: this._itemRole()}), e.children(":not(.ui-menu-item)").each(function() {
                var e = t(this);
                /[^\-\u2014\u2013\s]/.test(e.text()) || e.addClass("ui-widget-content ui-menu-divider")
            }), e.children(".ui-state-disabled").attr("aria-disabled", "true"), this.active && !t.contains(this.element[0], this.active[0]) && this.blur()
        },_itemRole: function() {
            return {menu: "menuitem",listbox: "option"}[this.options.role]
        },_setOption: function(t, e) {
            "icons" === t && this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu), this._super(t, e)
        },focus: function(t, e) {
            var i, s;
            this.blur(t, t && "focus" === t.type), this._scrollIntoView(e), this.active = e.first(), s = this.active.children("a").addClass("ui-state-focus"), this.options.role && this.element.attr("aria-activedescendant", s.attr("id")), this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"), t && "keydown" === t.type ? this._close() : this.timer = this._delay(function() {
                this._close()
            }, this.delay), i = e.children(".ui-menu"), i.length && /^mouse/.test(t.type) && this._startOpening(i), this.activeMenu = e.parent(), this._trigger("focus", t, {item: e})
        },_scrollIntoView: function(e) {
            var i, s, n, a, o, r;
            this._hasScroll() && (i = parseFloat(t.css(this.activeMenu[0], "borderTopWidth")) || 0, s = parseFloat(t.css(this.activeMenu[0], "paddingTop")) || 0, n = e.offset().top - this.activeMenu.offset().top - i - s, a = this.activeMenu.scrollTop(), o = this.activeMenu.height(), r = e.height(), 0 > n ? this.activeMenu.scrollTop(a + n) : n + r > o && this.activeMenu.scrollTop(a + n - o + r))
        },blur: function(t, e) {
            e || clearTimeout(this.timer), this.active && (this.active.children("a").removeClass("ui-state-focus"), this.active = null, this._trigger("blur", t, {item: this.active}))
        },_startOpening: function(t) {
            clearTimeout(this.timer), "true" === t.attr("aria-hidden") && (this.timer = this._delay(function() {
                this._close(), this._open(t)
            }, this.delay))
        },_open: function(e) {
            var i = t.extend({of: this.active}, this.options.position);
            clearTimeout(this.timer), this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden", "true"), e.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(i)
        },collapseAll: function(e, i) {
            clearTimeout(this.timer), this.timer = this._delay(function() {
                var s = i ? this.element : t(e && e.target).closest(this.element.find(".ui-menu"));
                s.length || (s = this.element), this._close(s), this.blur(e), this.activeMenu = s
            }, this.delay)
        },_close: function(t) {
            t || (t = this.active ? this.active.parent() : this.element), t.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false").end().find("a.ui-state-active").removeClass("ui-state-active")
        },collapse: function(t) {
            var e = this.active && this.active.parent().closest(".ui-menu-item", this.element);
            e && e.length && (this._close(), this.focus(t, e))
        },expand: function(t) {
            var e = this.active && this.active.children(".ui-menu ").children(".ui-menu-item").first();
            e && e.length && (this._open(e.parent()), this._delay(function() {
                this.focus(t, e)
            }))
        },next: function(t) {
            this._move("next", "first", t)
        },previous: function(t) {
            this._move("prev", "last", t)
        },isFirstItem: function() {
            return this.active && !this.active.prevAll(".ui-menu-item").length
        },isLastItem: function() {
            return this.active && !this.active.nextAll(".ui-menu-item").length
        },_move: function(t, e, i) {
            var s;
            this.active && (s = "first" === t || "last" === t ? this.active["first" === t ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[t + "All"](".ui-menu-item").eq(0)), s && s.length && this.active || (s = this.activeMenu.children(".ui-menu-item")[e]()), this.focus(i, s)
        },nextPage: function(e) {
            var i, s, n;
            return this.active ? (this.isLastItem() || (this._hasScroll() ? (s = this.active.offset().top, n = this.element.height(), this.active.nextAll(".ui-menu-item").each(function() {
                return i = t(this), 0 > i.offset().top - s - n
            }), this.focus(e, i)) : this.focus(e, this.activeMenu.children(".ui-menu-item")[this.active ? "last" : "first"]())), undefined) : (this.next(e), undefined)
        },previousPage: function(e) {
            var i, s, n;
            return this.active ? (this.isFirstItem() || (this._hasScroll() ? (s = this.active.offset().top, n = this.element.height(), this.active.prevAll(".ui-menu-item").each(function() {
                return i = t(this), i.offset().top - s + n > 0
            }), this.focus(e, i)) : this.focus(e, this.activeMenu.children(".ui-menu-item").first())), undefined) : (this.next(e), undefined)
        },_hasScroll: function() {
            return this.element.outerHeight() < this.element.prop("scrollHeight")
        },select: function(e) {
            this.active = this.active || t(e.target).closest(".ui-menu-item");
            var i = {item: this.active};
            this.active.has(".ui-menu").length || this.collapseAll(e, !0), this._trigger("select", e, i)
        }})
})(jQuery);
(function(t) {
    var e = 5;
    t.widget("ui.slider", t.ui.mouse, {version: "1.10.3",widgetEventPrefix: "slide",options: {animate: !1,distance: 0,max: 100,min: 0,orientation: "horizontal",range: !1,step: 1,value: 0,values: null,change: null,slide: null,start: null,stop: null},_create: function() {
            this._keySliding = !1, this._mouseSliding = !1, this._animateOff = !0, this._handleIndex = null, this._detectOrientation(), this._mouseInit(), this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget" + " ui-widget-content" + " ui-corner-all"), this._refresh(), this._setOption("disabled", this.options.disabled), this._animateOff = !1
        },_refresh: function() {
            this._createRange(), this._createHandles(), this._setupEvents(), this._refreshValue()
        },_createHandles: function() {
            var e, i, s = this.options, n = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"), a = "<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>", o = [];
            for (i = s.values && s.values.length || 1, n.length > i && (n.slice(i).remove(), n = n.slice(0, i)), e = n.length; i > e; e++)
                o.push(a);
            this.handles = n.add(t(o.join("")).appendTo(this.element)), this.handle = this.handles.eq(0), this.handles.each(function(e) {
                t(this).data("ui-slider-handle-index", e)
            })
        },_createRange: function() {
            var e = this.options, i = "";
            e.range ? (e.range === !0 && (e.values ? e.values.length && 2 !== e.values.length ? e.values = [e.values[0], e.values[0]] : t.isArray(e.values) && (e.values = e.values.slice(0)) : e.values = [this._valueMin(), this._valueMin()]), this.range && this.range.length ? this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left: "",bottom: ""}) : (this.range = t("<div></div>").appendTo(this.element), i = "ui-slider-range ui-widget-header ui-corner-all"), this.range.addClass(i + ("min" === e.range || "max" === e.range ? " ui-slider-range-" + e.range : ""))) : this.range = t([])
        },_setupEvents: function() {
            var t = this.handles.add(this.range).filter("a");
            this._off(t), this._on(t, this._handleEvents), this._hoverable(t), this._focusable(t)
        },_destroy: function() {
            this.handles.remove(), this.range.remove(), this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"), this._mouseDestroy()
        },_mouseCapture: function(e) {
            var i, s, n, a, o, r, h, l, u = this, c = this.options;
            return c.disabled ? !1 : (this.elementSize = {width: this.element.outerWidth(),height: this.element.outerHeight()}, this.elementOffset = this.element.offset(), i = {x: e.pageX,y: e.pageY}, s = this._normValueFromMouse(i), n = this._valueMax() - this._valueMin() + 1, this.handles.each(function(e) {
                var i = Math.abs(s - u.values(e));
                (n > i || n === i && (e === u._lastChangedValue || u.values(e) === c.min)) && (n = i, a = t(this), o = e)
            }), r = this._start(e, o), r === !1 ? !1 : (this._mouseSliding = !0, this._handleIndex = o, a.addClass("ui-state-active").focus(), h = a.offset(), l = !t(e.target).parents().addBack().is(".ui-slider-handle"), this._clickOffset = l ? {left: 0,top: 0} : {left: e.pageX - h.left - a.width() / 2,top: e.pageY - h.top - a.height() / 2 - (parseInt(a.css("borderTopWidth"), 10) || 0) - (parseInt(a.css("borderBottomWidth"), 10) || 0) + (parseInt(a.css("marginTop"), 10) || 0)}, this.handles.hasClass("ui-state-hover") || this._slide(e, o, s), this._animateOff = !0, !0))
        },_mouseStart: function() {
            return !0
        },_mouseDrag: function(t) {
            var e = {x: t.pageX,y: t.pageY}, i = this._normValueFromMouse(e);
            return this._slide(t, this._handleIndex, i), !1
        },_mouseStop: function(t) {
            return this.handles.removeClass("ui-state-active"), this._mouseSliding = !1, this._stop(t, this._handleIndex), this._change(t, this._handleIndex), this._handleIndex = null, this._clickOffset = null, this._animateOff = !1, !1
        },_detectOrientation: function() {
            this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
        },_normValueFromMouse: function(t) {
            var e, i, s, n, a;
            return "horizontal" === this.orientation ? (e = this.elementSize.width, i = t.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (e = this.elementSize.height, i = t.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)), s = i / e, s > 1 && (s = 1), 0 > s && (s = 0), "vertical" === this.orientation && (s = 1 - s), n = this._valueMax() - this._valueMin(), a = this._valueMin() + s * n, this._trimAlignValue(a)
        },_start: function(t, e) {
            var i = {handle: this.handles[e],value: this.value()};
            return this.options.values && this.options.values.length && (i.value = this.values(e), i.values = this.values()), this._trigger("start", t, i)
        },_slide: function(t, e, i) {
            var s, n, a;
            this.options.values && this.options.values.length ? (s = this.values(e ? 0 : 1), 2 === this.options.values.length && this.options.range === !0 && (0 === e && i > s || 1 === e && s > i) && (i = s), i !== this.values(e) && (n = this.values(), n[e] = i, a = this._trigger("slide", t, {handle: this.handles[e],value: i,values: n}), s = this.values(e ? 0 : 1), a !== !1 && this.values(e, i, !0))) : i !== this.value() && (a = this._trigger("slide", t, {handle: this.handles[e],value: i}), a !== !1 && this.value(i))
        },_stop: function(t, e) {
            var i = {handle: this.handles[e],value: this.value()};
            this.options.values && this.options.values.length && (i.value = this.values(e), i.values = this.values()), this._trigger("stop", t, i)
        },_change: function(t, e) {
            if (!this._keySliding && !this._mouseSliding) {
                var i = {handle: this.handles[e],value: this.value()};
                this.options.values && this.options.values.length && (i.value = this.values(e), i.values = this.values()), this._lastChangedValue = e, this._trigger("change", t, i)
            }
        },value: function(t) {
            return arguments.length ? (this.options.value = this._trimAlignValue(t), this._refreshValue(), this._change(null, 0), undefined) : this._value()
        },values: function(e, i) {
            var s, n, a;
            if (arguments.length > 1)
                return this.options.values[e] = this._trimAlignValue(i), this._refreshValue(), this._change(null, e), undefined;
            if (!arguments.length)
                return this._values();
            if (!t.isArray(arguments[0]))
                return this.options.values && this.options.values.length ? this._values(e) : this.value();
            for (s = this.options.values, n = arguments[0], a = 0; s.length > a; a += 1)
                s[a] = this._trimAlignValue(n[a]), this._change(null, a);
            this._refreshValue()
        },_setOption: function(e, i) {
            var s, n = 0;
            switch ("range" === e && this.options.range === !0 && ("min" === i ? (this.options.value = this._values(0), this.options.values = null) : "max" === i && (this.options.value = this._values(this.options.values.length - 1), this.options.values = null)), t.isArray(this.options.values) && (n = this.options.values.length), t.Widget.prototype._setOption.apply(this, arguments), e) {
                case "orientation":
                    this._detectOrientation(), this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation), this._refreshValue();
                    break;
                case "value":
                    this._animateOff = !0, this._refreshValue(), this._change(null, 0), this._animateOff = !1;
                    break;
                case "values":
                    for (this._animateOff = !0, this._refreshValue(), s = 0; n > s; s += 1)
                        this._change(null, s);
                    this._animateOff = !1;
                    break;
                case "min":
                case "max":
                    this._animateOff = !0, this._refreshValue(), this._animateOff = !1;
                    break;
                case "range":
                    this._animateOff = !0, this._refresh(), this._animateOff = !1
            }
        },_value: function() {
            var t = this.options.value;
            return t = this._trimAlignValue(t)
        },_values: function(t) {
            var e, i, s;
            if (arguments.length)
                return e = this.options.values[t], e = this._trimAlignValue(e);
            if (this.options.values && this.options.values.length) {
                for (i = this.options.values.slice(), s = 0; i.length > s; s += 1)
                    i[s] = this._trimAlignValue(i[s]);
                return i
            }
            return []
        },_trimAlignValue: function(t) {
            if (this._valueMin() >= t)
                return this._valueMin();
            if (t >= this._valueMax())
                return this._valueMax();
            var e = this.options.step > 0 ? this.options.step : 1, i = (t - this._valueMin()) % e, s = t - i;
            return 2 * Math.abs(i) >= e && (s += i > 0 ? e : -e), parseFloat(s.toFixed(5))
        },_valueMin: function() {
            return this.options.min
        },_valueMax: function() {
            return this.options.max
        },_refreshValue: function() {
            var e, i, s, n, a, o = this.options.range, r = this.options, h = this, l = this._animateOff ? !1 : r.animate, u = {};
            this.options.values && this.options.values.length ? this.handles.each(function(s) {
                i = 100 * ((h.values(s) - h._valueMin()) / (h._valueMax() - h._valueMin())), u["horizontal" === h.orientation ? "left" : "bottom"] = i + "%", t(this).stop(1, 1)[l ? "animate" : "css"](u, r.animate), h.options.range === !0 && ("horizontal" === h.orientation ? (0 === s && h.range.stop(1, 1)[l ? "animate" : "css"]({left: i + "%"}, r.animate), 1 === s && h.range[l ? "animate" : "css"]({width: i - e + "%"}, {queue: !1,duration: r.animate})) : (0 === s && h.range.stop(1, 1)[l ? "animate" : "css"]({bottom: i + "%"}, r.animate), 1 === s && h.range[l ? "animate" : "css"]({height: i - e + "%"}, {queue: !1,duration: r.animate}))), e = i
            }) : (s = this.value(), n = this._valueMin(), a = this._valueMax(), i = a !== n ? 100 * ((s - n) / (a - n)) : 0, u["horizontal" === this.orientation ? "left" : "bottom"] = i + "%", this.handle.stop(1, 1)[l ? "animate" : "css"](u, r.animate), "min" === o && "horizontal" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({width: i + "%"}, r.animate), "max" === o && "horizontal" === this.orientation && this.range[l ? "animate" : "css"]({width: 100 - i + "%"}, {queue: !1,duration: r.animate}), "min" === o && "vertical" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({height: i + "%"}, r.animate), "max" === o && "vertical" === this.orientation && this.range[l ? "animate" : "css"]({height: 100 - i + "%"}, {queue: !1,duration: r.animate}))
        },_handleEvents: {keydown: function(i) {
                var s, n, a, o, r = t(i.target).data("ui-slider-handle-index");
                switch (i.keyCode) {
                    case t.ui.keyCode.HOME:
                    case t.ui.keyCode.END:
                    case t.ui.keyCode.PAGE_UP:
                    case t.ui.keyCode.PAGE_DOWN:
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.RIGHT:
                    case t.ui.keyCode.DOWN:
                    case t.ui.keyCode.LEFT:
                        if (i.preventDefault(), !this._keySliding && (this._keySliding = !0, t(i.target).addClass("ui-state-active"), s = this._start(i, r), s === !1))
                            return
                }
                switch (o = this.options.step, n = a = this.options.values && this.options.values.length ? this.values(r) : this.value(), i.keyCode) {
                    case t.ui.keyCode.HOME:
                        a = this._valueMin();
                        break;
                    case t.ui.keyCode.END:
                        a = this._valueMax();
                        break;
                    case t.ui.keyCode.PAGE_UP:
                        a = this._trimAlignValue(n + (this._valueMax() - this._valueMin()) / e);
                        break;
                    case t.ui.keyCode.PAGE_DOWN:
                        a = this._trimAlignValue(n - (this._valueMax() - this._valueMin()) / e);
                        break;
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.RIGHT:
                        if (n === this._valueMax())
                            return;
                        a = this._trimAlignValue(n + o);
                        break;
                    case t.ui.keyCode.DOWN:
                    case t.ui.keyCode.LEFT:
                        if (n === this._valueMin())
                            return;
                        a = this._trimAlignValue(n - o)
                }
                this._slide(i, r, a)
            },click: function(t) {
                t.preventDefault()
            },keyup: function(e) {
                var i = t(e.target).data("ui-slider-handle-index");
                this._keySliding && (this._keySliding = !1, this._stop(e, i), this._change(e, i), t(e.target).removeClass("ui-state-active"))
            }}})
})(jQuery);
(function(t, e) {
    function i() {
        return ++n
    }
    function s(t) {
        return t.hash.length > 1 && decodeURIComponent(t.href.replace(a, "")) === decodeURIComponent(location.href.replace(a, ""))
    }
    var n = 0, a = /#.*$/;
    t.widget("ui.tabs", {version: "1.10.3",delay: 300,options: {active: null,collapsible: !1,event: "click",heightStyle: "content",hide: null,show: null,activate: null,beforeActivate: null,beforeLoad: null,load: null},_create: function() {
            var e = this, i = this.options;
            this.running = !1, this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible", i.collapsible).delegate(".ui-tabs-nav > li", "mousedown" + this.eventNamespace, function(e) {
                t(this).is(".ui-state-disabled") && e.preventDefault()
            }).delegate(".ui-tabs-anchor", "focus" + this.eventNamespace, function() {
                t(this).closest("li").is(".ui-state-disabled") && this.blur()
            }), this._processTabs(), i.active = this._initialActive(), t.isArray(i.disabled) && (i.disabled = t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"), function(t) {
                return e.tabs.index(t)
            }))).sort()), this.active = this.options.active !== !1 && this.anchors.length ? this._findActive(i.active) : t(), this._refresh(), this.active.length && this.load(i.active)
        },_initialActive: function() {
            var i = this.options.active, s = this.options.collapsible, n = location.hash.substring(1);
            return null === i && (n && this.tabs.each(function(s, a) {
                return t(a).attr("aria-controls") === n ? (i = s, !1) : e
            }), null === i && (i = this.tabs.index(this.tabs.filter(".ui-tabs-active"))), (null === i || -1 === i) && (i = this.tabs.length ? 0 : !1)), i !== !1 && (i = this.tabs.index(this.tabs.eq(i)), -1 === i && (i = s ? !1 : 0)), !s && i === !1 && this.anchors.length && (i = 0), i
        },_getCreateEventData: function() {
            return {tab: this.active,panel: this.active.length ? this._getPanelForTab(this.active) : t()}
        },_tabKeydown: function(i) {
            var s = t(this.document[0].activeElement).closest("li"), n = this.tabs.index(s), a = !0;
            if (!this._handlePageNav(i)) {
                switch (i.keyCode) {
                    case t.ui.keyCode.RIGHT:
                    case t.ui.keyCode.DOWN:
                        n++;
                        break;
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.LEFT:
                        a = !1, n--;
                        break;
                    case t.ui.keyCode.END:
                        n = this.anchors.length - 1;
                        break;
                    case t.ui.keyCode.HOME:
                        n = 0;
                        break;
                    case t.ui.keyCode.SPACE:
                        return i.preventDefault(), clearTimeout(this.activating), this._activate(n), e;
                    case t.ui.keyCode.ENTER:
                        return i.preventDefault(), clearTimeout(this.activating), this._activate(n === this.options.active ? !1 : n), e;
                    default:
                        return
                }
                i.preventDefault(), clearTimeout(this.activating), n = this._focusNextTab(n, a), i.ctrlKey || (s.attr("aria-selected", "false"), this.tabs.eq(n).attr("aria-selected", "true"), this.activating = this._delay(function() {
                    this.option("active", n)
                }, this.delay))
            }
        },_panelKeydown: function(e) {
            this._handlePageNav(e) || e.ctrlKey && e.keyCode === t.ui.keyCode.UP && (e.preventDefault(), this.active.focus())
        },_handlePageNav: function(i) {
            return i.altKey && i.keyCode === t.ui.keyCode.PAGE_UP ? (this._activate(this._focusNextTab(this.options.active - 1, !1)), !0) : i.altKey && i.keyCode === t.ui.keyCode.PAGE_DOWN ? (this._activate(this._focusNextTab(this.options.active + 1, !0)), !0) : e
        },_findNextTab: function(e, i) {
            function s() {
                return e > n && (e = 0), 0 > e && (e = n), e
            }
            for (var n = this.tabs.length - 1; -1 !== t.inArray(s(), this.options.disabled); )
                e = i ? e + 1 : e - 1;
            return e
        },_focusNextTab: function(t, e) {
            return t = this._findNextTab(t, e), this.tabs.eq(t).focus(), t
        },_setOption: function(t, i) {
            return "active" === t ? (this._activate(i), e) : "disabled" === t ? (this._setupDisabled(i), e) : (this._super(t, i), "collapsible" === t && (this.element.toggleClass("ui-tabs-collapsible", i), i || this.options.active !== !1 || this._activate(0)), "event" === t && this._setupEvents(i), "heightStyle" === t && this._setupHeightStyle(i), e)
        },_tabId: function(t) {
            return t.attr("aria-controls") || "ui-tabs-" + i()
        },_sanitizeSelector: function(t) {
            return t ? t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : ""
        },refresh: function() {
            var e = this.options, i = this.tablist.children(":has(a[href])");
            e.disabled = t.map(i.filter(".ui-state-disabled"), function(t) {
                return i.index(t)
            }), this._processTabs(), e.active !== !1 && this.anchors.length ? this.active.length && !t.contains(this.tablist[0], this.active[0]) ? this.tabs.length === e.disabled.length ? (e.active = !1, this.active = t()) : this._activate(this._findNextTab(Math.max(0, e.active - 1), !1)) : e.active = this.tabs.index(this.active) : (e.active = !1, this.active = t()), this._refresh()
        },_refresh: function() {
            this._setupDisabled(this.options.disabled), this._setupEvents(this.options.event), this._setupHeightStyle(this.options.heightStyle), this.tabs.not(this.active).attr({"aria-selected": "false",tabIndex: -1}), this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded": "false","aria-hidden": "true"}), this.active.length ? (this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected": "true",tabIndex: 0}), this._getPanelForTab(this.active).show().attr({"aria-expanded": "true","aria-hidden": "false"})) : this.tabs.eq(0).attr("tabIndex", 0)
        },_processTabs: function() {
            var e = this;
            this.tablist = this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role", "tablist"), this.tabs = this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role: "tab",tabIndex: -1}), this.anchors = this.tabs.map(function() {
                return t("a", this)[0]
            }).addClass("ui-tabs-anchor").attr({role: "presentation",tabIndex: -1}), this.panels = t(), this.anchors.each(function(i, n) {
                var a, o, r, h = t(n).uniqueId().attr("id"), l = t(n).closest("li"), u = l.attr("aria-controls");
                s(n) ? (a = n.hash, o = e.element.find(e._sanitizeSelector(a))) : (r = e._tabId(l), a = "#" + r, o = e.element.find(a), o.length || (o = e._createPanel(r), o.insertAfter(e.panels[i - 1] || e.tablist)), o.attr("aria-live", "polite")), o.length && (e.panels = e.panels.add(o)), u && l.data("ui-tabs-aria-controls", u), l.attr({"aria-controls": a.substring(1),"aria-labelledby": h}), o.attr("aria-labelledby", h)
            }), this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role", "tabpanel")
        },_getList: function() {
            return this.element.find("ol,ul").eq(0)
        },_createPanel: function(e) {
            return t("<div>").attr("id", e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy", !0)
        },_setupDisabled: function(e) {
            t.isArray(e) && (e.length ? e.length === this.anchors.length && (e = !0) : e = !1);
            for (var i, s = 0; i = this.tabs[s]; s++)
                e === !0 || -1 !== t.inArray(s, e) ? t(i).addClass("ui-state-disabled").attr("aria-disabled", "true") : t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");
            this.options.disabled = e
        },_setupEvents: function(e) {
            var i = {click: function(t) {
                    t.preventDefault()
                }};
            e && t.each(e.split(" "), function(t, e) {
                i[e] = "_eventHandler"
            }), this._off(this.anchors.add(this.tabs).add(this.panels)), this._on(this.anchors, i), this._on(this.tabs, {keydown: "_tabKeydown"}), this._on(this.panels, {keydown: "_panelKeydown"}), this._focusable(this.tabs), this._hoverable(this.tabs)
        },_setupHeightStyle: function(e) {
            var i, s = this.element.parent();
            "fill" === e ? (i = s.height(), i -= this.element.outerHeight() - this.element.height(), this.element.siblings(":visible").each(function() {
                var e = t(this), s = e.css("position");
                "absolute" !== s && "fixed" !== s && (i -= e.outerHeight(!0))
            }), this.element.children().not(this.panels).each(function() {
                i -= t(this).outerHeight(!0)
            }), this.panels.each(function() {
                t(this).height(Math.max(0, i - t(this).innerHeight() + t(this).height()))
            }).css("overflow", "auto")) : "auto" === e && (i = 0, this.panels.each(function() {
                i = Math.max(i, t(this).height("").height())
            }).height(i))
        },_eventHandler: function(e) {
            var i = this.options, s = this.active, n = t(e.currentTarget), a = n.closest("li"), o = a[0] === s[0], r = o && i.collapsible, h = r ? t() : this._getPanelForTab(a), l = s.length ? this._getPanelForTab(s) : t(), u = {oldTab: s,oldPanel: l,newTab: r ? t() : a,newPanel: h};
            e.preventDefault(), a.hasClass("ui-state-disabled") || a.hasClass("ui-tabs-loading") || this.running || o && !i.collapsible || this._trigger("beforeActivate", e, u) === !1 || (i.active = r ? !1 : this.tabs.index(a), this.active = o ? t() : a, this.xhr && this.xhr.abort(), l.length || h.length || t.error("jQuery UI Tabs: Mismatching fragment identifier."), h.length && this.load(this.tabs.index(a), e), this._toggle(e, u))
        },_toggle: function(e, i) {
            function s() {
                a.running = !1, a._trigger("activate", e, i)
            }
            function n() {
                i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"), o.length && a.options.show ? a._show(o, a.options.show, s) : (o.show(), s())
            }
            var a = this, o = i.newPanel, r = i.oldPanel;
            this.running = !0, r.length && this.options.hide ? this._hide(r, this.options.hide, function() {
                i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), n()
            }) : (i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), r.hide(), n()), r.attr({"aria-expanded": "false","aria-hidden": "true"}), i.oldTab.attr("aria-selected", "false"), o.length && r.length ? i.oldTab.attr("tabIndex", -1) : o.length && this.tabs.filter(function() {
                return 0 === t(this).attr("tabIndex")
            }).attr("tabIndex", -1), o.attr({"aria-expanded": "true","aria-hidden": "false"}), i.newTab.attr({"aria-selected": "true",tabIndex: 0})
        },_activate: function(e) {
            var i, s = this._findActive(e);
            s[0] !== this.active[0] && (s.length || (s = this.active), i = s.find(".ui-tabs-anchor")[0], this._eventHandler({target: i,currentTarget: i,preventDefault: t.noop}))
        },_findActive: function(e) {
            return e === !1 ? t() : this.tabs.eq(e)
        },_getIndex: function(t) {
            return "string" == typeof t && (t = this.anchors.index(this.anchors.filter("[href$='" + t + "']"))), t
        },_destroy: function() {
            this.xhr && this.xhr.abort(), this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"), this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"), this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(), this.tabs.add(this.panels).each(function() {
                t.data(this, "ui-tabs-destroy") ? t(this).remove() : t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")
            }), this.tabs.each(function() {
                var e = t(this), i = e.data("ui-tabs-aria-controls");
                i ? e.attr("aria-controls", i).removeData("ui-tabs-aria-controls") : e.removeAttr("aria-controls")
            }), this.panels.show(), "content" !== this.options.heightStyle && this.panels.css("height", "")
        },enable: function(i) {
            var s = this.options.disabled;
            s !== !1 && (i === e ? s = !1 : (i = this._getIndex(i), s = t.isArray(s) ? t.map(s, function(t) {
                return t !== i ? t : null
            }) : t.map(this.tabs, function(t, e) {
                return e !== i ? e : null
            })), this._setupDisabled(s))
        },disable: function(i) {
            var s = this.options.disabled;
            if (s !== !0) {
                if (i === e)
                    s = !0;
                else {
                    if (i = this._getIndex(i), -1 !== t.inArray(i, s))
                        return;
                    s = t.isArray(s) ? t.merge([i], s).sort() : [i]
                }
                this._setupDisabled(s)
            }
        },load: function(e, i) {
            e = this._getIndex(e);
            var n = this, a = this.tabs.eq(e), o = a.find(".ui-tabs-anchor"), r = this._getPanelForTab(a), h = {tab: a,panel: r};
            s(o[0]) || (this.xhr = t.ajax(this._ajaxSettings(o, i, h)), this.xhr && "canceled" !== this.xhr.statusText && (a.addClass("ui-tabs-loading"), r.attr("aria-busy", "true"), this.xhr.success(function(t) {
                setTimeout(function() {
                    r.html(t), n._trigger("load", i, h)
                }, 1)
            }).complete(function(t, e) {
                setTimeout(function() {
                    "abort" === e && n.panels.stop(!1, !0), a.removeClass("ui-tabs-loading"), r.removeAttr("aria-busy"), t === n.xhr && delete n.xhr
                }, 1)
            })))
        },_ajaxSettings: function(e, i, s) {
            var n = this;
            return {url: e.attr("href"),beforeSend: function(e, a) {
                    return n._trigger("beforeLoad", i, t.extend({jqXHR: e,ajaxSettings: a}, s))
                }}
        },_getPanelForTab: function(e) {
            var i = t(e).attr("aria-controls");
            return this.element.find(this._sanitizeSelector("#" + i))
        }})
})(jQuery);
(function(t, e) {
    var i = "ui-effects-";
    t.effects = {effect: {}}, function(t, e) {
        function i(t, e, i) {
            var s = u[e.type] || {};
            return null == t ? i || !e.def ? null : e.def : (t = s.floor ? ~~t : parseFloat(t), isNaN(t) ? e.def : s.mod ? (t + s.mod) % s.mod : 0 > t ? 0 : t > s.max ? s.max : t)
        }
        function s(i) {
            var s = l(), n = s._rgba = [];
            return i = i.toLowerCase(), f(h, function(t, a) {
                var o, r = a.re.exec(i), h = r && a.parse(r), l = a.space || "rgba";
                return h ? (o = s[l](h), s[c[l].cache] = o[c[l].cache], n = s._rgba = o._rgba, !1) : e
            }), n.length ? ("0,0,0,0" === n.join() && t.extend(n, a.transparent), s) : a[i]
        }
        function n(t, e, i) {
            return i = (i + 1) % 1, 1 > 6 * i ? t + 6 * (e - t) * i : 1 > 2 * i ? e : 2 > 3 * i ? t + 6 * (e - t) * (2 / 3 - i) : t
        }
        var a, o = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor", r = /^([\-+])=\s*(\d+\.?\d*)/, h = [{re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse: function(t) {
                    return [t[1], t[2], t[3], t[4]]
                }}, {re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse: function(t) {
                    return [2.55 * t[1], 2.55 * t[2], 2.55 * t[3], t[4]]
                }}, {re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse: function(t) {
                    return [parseInt(t[1], 16), parseInt(t[2], 16), parseInt(t[3], 16)]
                }}, {re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,parse: function(t) {
                    return [parseInt(t[1] + t[1], 16), parseInt(t[2] + t[2], 16), parseInt(t[3] + t[3], 16)]
                }}, {re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space: "hsla",parse: function(t) {
                    return [t[1], t[2] / 100, t[3] / 100, t[4]]
                }}], l = t.Color = function(e, i, s, n) {
            return new t.Color.fn.parse(e, i, s, n)
        }, c = {rgba: {props: {red: {idx: 0,type: "byte"},green: {idx: 1,type: "byte"},blue: {idx: 2,type: "byte"}}},hsla: {props: {hue: {idx: 0,type: "degrees"},saturation: {idx: 1,type: "percent"},lightness: {idx: 2,type: "percent"}}}}, u = {"byte": {floor: !0,max: 255},percent: {max: 1},degrees: {mod: 360,floor: !0}}, d = l.support = {}, p = t("<p>")[0], f = t.each;
        p.style.cssText = "background-color:rgba(1,1,1,.5)", d.rgba = p.style.backgroundColor.indexOf("rgba") > -1, f(c, function(t, e) {
            e.cache = "_" + t, e.props.alpha = {idx: 3,type: "percent",def: 1}
        }), l.fn = t.extend(l.prototype, {parse: function(n, o, r, h) {
                if (n === e)
                    return this._rgba = [null, null, null, null], this;
                (n.jquery || n.nodeType) && (n = t(n).css(o), o = e);
                var u = this, d = t.type(n), p = this._rgba = [];
                return o !== e && (n = [n, o, r, h], d = "array"), "string" === d ? this.parse(s(n) || a._default) : "array" === d ? (f(c.rgba.props, function(t, e) {
                    p[e.idx] = i(n[e.idx], e)
                }), this) : "object" === d ? (n instanceof l ? f(c, function(t, e) {
                    n[e.cache] && (u[e.cache] = n[e.cache].slice())
                }) : f(c, function(e, s) {
                    var a = s.cache;
                    f(s.props, function(t, e) {
                        if (!u[a] && s.to) {
                            if ("alpha" === t || null == n[t])
                                return;
                            u[a] = s.to(u._rgba)
                        }
                        u[a][e.idx] = i(n[t], e, !0)
                    }), u[a] && 0 > t.inArray(null, u[a].slice(0, 3)) && (u[a][3] = 1, s.from && (u._rgba = s.from(u[a])))
                }), this) : e
            },is: function(t) {
                var i = l(t), s = !0, n = this;
                return f(c, function(t, a) {
                    var o, r = i[a.cache];
                    return r && (o = n[a.cache] || a.to && a.to(n._rgba) || [], f(a.props, function(t, i) {
                        return null != r[i.idx] ? s = r[i.idx] === o[i.idx] : e
                    })), s
                }), s
            },_space: function() {
                var t = [], e = this;
                return f(c, function(i, s) {
                    e[s.cache] && t.push(i)
                }), t.pop()
            },transition: function(t, e) {
                var s = l(t), n = s._space(), a = c[n], o = 0 === this.alpha() ? l("transparent") : this, r = o[a.cache] || a.to(o._rgba), h = r.slice();
                return s = s[a.cache], f(a.props, function(t, n) {
                    var a = n.idx, o = r[a], l = s[a], c = u[n.type] || {};
                    null !== l && (null === o ? h[a] = l : (c.mod && (l - o > c.mod / 2 ? o += c.mod : o - l > c.mod / 2 && (o -= c.mod)), h[a] = i((l - o) * e + o, n)))
                }), this[n](h)
            },blend: function(e) {
                if (1 === this._rgba[3])
                    return this;
                var i = this._rgba.slice(), s = i.pop(), n = l(e)._rgba;
                return l(t.map(i, function(t, e) {
                    return (1 - s) * n[e] + s * t
                }))
            },toRgbaString: function() {
                var e = "rgba(", i = t.map(this._rgba, function(t, e) {
                    return null == t ? e > 2 ? 1 : 0 : t
                });
                return 1 === i[3] && (i.pop(), e = "rgb("), e + i.join() + ")"
            },toHslaString: function() {
                var e = "hsla(", i = t.map(this.hsla(), function(t, e) {
                    return null == t && (t = e > 2 ? 1 : 0), e && 3 > e && (t = Math.round(100 * t) + "%"), t
                });
                return 1 === i[3] && (i.pop(), e = "hsl("), e + i.join() + ")"
            },toHexString: function(e) {
                var i = this._rgba.slice(), s = i.pop();
                return e && i.push(~~(255 * s)), "#" + t.map(i, function(t) {
                    return t = (t || 0).toString(16), 1 === t.length ? "0" + t : t
                }).join("")
            },toString: function() {
                return 0 === this._rgba[3] ? "transparent" : this.toRgbaString()
            }}), l.fn.parse.prototype = l.fn, c.hsla.to = function(t) {
            if (null == t[0] || null == t[1] || null == t[2])
                return [null, null, null, t[3]];
            var e, i, s = t[0] / 255, n = t[1] / 255, a = t[2] / 255, o = t[3], r = Math.max(s, n, a), h = Math.min(s, n, a), l = r - h, c = r + h, u = .5 * c;
            return e = h === r ? 0 : s === r ? 60 * (n - a) / l + 360 : n === r ? 60 * (a - s) / l + 120 : 60 * (s - n) / l + 240, i = 0 === l ? 0 : .5 >= u ? l / c : l / (2 - c), [Math.round(e) % 360, i, u, null == o ? 1 : o]
        }, c.hsla.from = function(t) {
            if (null == t[0] || null == t[1] || null == t[2])
                return [null, null, null, t[3]];
            var e = t[0] / 360, i = t[1], s = t[2], a = t[3], o = .5 >= s ? s * (1 + i) : s + i - s * i, r = 2 * s - o;
            return [Math.round(255 * n(r, o, e + 1 / 3)), Math.round(255 * n(r, o, e)), Math.round(255 * n(r, o, e - 1 / 3)), a]
        }, f(c, function(s, n) {
            var a = n.props, o = n.cache, h = n.to, c = n.from;
            l.fn[s] = function(s) {
                if (h && !this[o] && (this[o] = h(this._rgba)), s === e)
                    return this[o].slice();
                var n, r = t.type(s), u = "array" === r || "object" === r ? s : arguments, d = this[o].slice();
                return f(a, function(t, e) {
                    var s = u["object" === r ? t : e.idx];
                    null == s && (s = d[e.idx]), d[e.idx] = i(s, e)
                }), c ? (n = l(c(d)), n[o] = d, n) : l(d)
            }, f(a, function(e, i) {
                l.fn[e] || (l.fn[e] = function(n) {
                    var a, o = t.type(n), h = "alpha" === e ? this._hsla ? "hsla" : "rgba" : s, l = this[h](), c = l[i.idx];
                    return "undefined" === o ? c : ("function" === o && (n = n.call(this, c), o = t.type(n)), null == n && i.empty ? this : ("string" === o && (a = r.exec(n), a && (n = c + parseFloat(a[2]) * ("+" === a[1] ? 1 : -1))), l[i.idx] = n, this[h](l)))
                })
            })
        }), l.hook = function(e) {
            var i = e.split(" ");
            f(i, function(e, i) {
                t.cssHooks[i] = {set: function(e, n) {
                        var a, o, r = "";
                        if ("transparent" !== n && ("string" !== t.type(n) || (a = s(n)))) {
                            if (n = l(a || n), !d.rgba && 1 !== n._rgba[3]) {
                                for (o = "backgroundColor" === i ? e.parentNode : e; ("" === r || "transparent" === r) && o && o.style; )
                                    try {
                                        r = t.css(o, "backgroundColor"), o = o.parentNode
                                    } catch (h) {
                                    }
                                n = n.blend(r && "transparent" !== r ? r : "_default")
                            }
                            n = n.toRgbaString()
                        }
                        try {
                            e.style[i] = n
                        } catch (h) {
                        }
                    }}, t.fx.step[i] = function(e) {
                    e.colorInit || (e.start = l(e.elem, i), e.end = l(e.end), e.colorInit = !0), t.cssHooks[i].set(e.elem, e.start.transition(e.end, e.pos))
                }
            })
        }, l.hook(o), t.cssHooks.borderColor = {expand: function(t) {
                var e = {};
                return f(["Top", "Right", "Bottom", "Left"], function(i, s) {
                    e["border" + s + "Color"] = t
                }), e
            }}, a = t.Color.names = {aqua: "#00ffff",black: "#000000",blue: "#0000ff",fuchsia: "#ff00ff",gray: "#808080",green: "#008000",lime: "#00ff00",maroon: "#800000",navy: "#000080",olive: "#808000",purple: "#800080",red: "#ff0000",silver: "#c0c0c0",teal: "#008080",white: "#ffffff",yellow: "#ffff00",transparent: [null, null, null, 0],_default: "#ffffff"}
    }(jQuery), function() {
        function i(e) {
            var i, s, n = e.ownerDocument.defaultView ? e.ownerDocument.defaultView.getComputedStyle(e, null) : e.currentStyle, a = {};
            if (n && n.length && n[0] && n[n[0]])
                for (s = n.length; s--; )
                    i = n[s], "string" == typeof n[i] && (a[t.camelCase(i)] = n[i]);
            else
                for (i in n)
                    "string" == typeof n[i] && (a[i] = n[i]);
            return a
        }
        function s(e, i) {
            var s, n, o = {};
            for (s in i)
                n = i[s], e[s] !== n && (a[s] || (t.fx.step[s] || !isNaN(parseFloat(n))) && (o[s] = n));
            return o
        }
        var n = ["add", "remove", "toggle"], a = {border: 1,borderBottom: 1,borderColor: 1,borderLeft: 1,borderRight: 1,borderTop: 1,borderWidth: 1,margin: 1,padding: 1};
        t.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function(e, i) {
            t.fx.step[i] = function(t) {
                ("none" !== t.end && !t.setAttr || 1 === t.pos && !t.setAttr) && (jQuery.style(t.elem, i, t.end), t.setAttr = !0)
            }
        }), t.fn.addBack || (t.fn.addBack = function(t) {
            return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
        }), t.effects.animateClass = function(e, a, o, r) {
            var h = t.speed(a, o, r);
            return this.queue(function() {
                var a, o = t(this), r = o.attr("class") || "", l = h.children ? o.find("*").addBack() : o;
                l = l.map(function() {
                    var e = t(this);
                    return {el: e,start: i(this)}
                }), a = function() {
                    t.each(n, function(t, i) {
                        e[i] && o[i + "Class"](e[i])
                    })
                }, a(), l = l.map(function() {
                    return this.end = i(this.el[0]), this.diff = s(this.start, this.end), this
                }), o.attr("class", r), l = l.map(function() {
                    var e = this, i = t.Deferred(), s = t.extend({}, h, {queue: !1,complete: function() {
                            i.resolve(e)
                        }});
                    return this.el.animate(this.diff, s), i.promise()
                }), t.when.apply(t, l.get()).done(function() {
                    a(), t.each(arguments, function() {
                        var e = this.el;
                        t.each(this.diff, function(t) {
                            e.css(t, "")
                        })
                    }), h.complete.call(o[0])
                })
            })
        }, t.fn.extend({addClass: function(e) {
                return function(i, s, n, a) {
                    return s ? t.effects.animateClass.call(this, {add: i}, s, n, a) : e.apply(this, arguments)
                }
            }(t.fn.addClass),removeClass: function(e) {
                return function(i, s, n, a) {
                    return arguments.length > 1 ? t.effects.animateClass.call(this, {remove: i}, s, n, a) : e.apply(this, arguments)
                }
            }(t.fn.removeClass),toggleClass: function(i) {
                return function(s, n, a, o, r) {
                    return "boolean" == typeof n || n === e ? a ? t.effects.animateClass.call(this, n ? {add: s} : {remove: s}, a, o, r) : i.apply(this, arguments) : t.effects.animateClass.call(this, {toggle: s}, n, a, o)
                }
            }(t.fn.toggleClass),switchClass: function(e, i, s, n, a) {
                return t.effects.animateClass.call(this, {add: i,remove: e}, s, n, a)
            }})
    }(), function() {
        function s(e, i, s, n) {
            return t.isPlainObject(e) && (i = e, e = e.effect), e = {effect: e}, null == i && (i = {}), t.isFunction(i) && (n = i, s = null, i = {}), ("number" == typeof i || t.fx.speeds[i]) && (n = s, s = i, i = {}), t.isFunction(s) && (n = s, s = null), i && t.extend(e, i), s = s || i.duration, e.duration = t.fx.off ? 0 : "number" == typeof s ? s : s in t.fx.speeds ? t.fx.speeds[s] : t.fx.speeds._default, e.complete = n || i.complete, e
        }
        function n(e) {
            return !e || "number" == typeof e || t.fx.speeds[e] ? !0 : "string" != typeof e || t.effects.effect[e] ? t.isFunction(e) ? !0 : "object" != typeof e || e.effect ? !1 : !0 : !0
        }
        t.extend(t.effects, {version: "1.10.3",save: function(t, e) {
                for (var s = 0; e.length > s; s++)
                    null !== e[s] && t.data(i + e[s], t[0].style[e[s]])
            },restore: function(t, s) {
                var n, a;
                for (a = 0; s.length > a; a++)
                    null !== s[a] && (n = t.data(i + s[a]), n === e && (n = ""), t.css(s[a], n))
            },setMode: function(t, e) {
                return "toggle" === e && (e = t.is(":hidden") ? "show" : "hide"), e
            },getBaseline: function(t, e) {
                var i, s;
                switch (t[0]) {
                    case "top":
                        i = 0;
                        break;
                    case "middle":
                        i = .5;
                        break;
                    case "bottom":
                        i = 1;
                        break;
                    default:
                        i = t[0] / e.height
                }
                switch (t[1]) {
                    case "left":
                        s = 0;
                        break;
                    case "center":
                        s = .5;
                        break;
                    case "right":
                        s = 1;
                        break;
                    default:
                        s = t[1] / e.width
                }
                return {x: s,y: i}
            },createWrapper: function(e) {
                if (e.parent().is(".ui-effects-wrapper"))
                    return e.parent();
                var i = {width: e.outerWidth(!0),height: e.outerHeight(!0),"float": e.css("float")}, s = t("<div></div>").addClass("ui-effects-wrapper").css({fontSize: "100%",background: "transparent",border: "none",margin: 0,padding: 0}), n = {width: e.width(),height: e.height()}, a = document.activeElement;
                try {
                    a.id
                } catch (o) {
                    a = document.body
                }
                return e.wrap(s), (e[0] === a || t.contains(e[0], a)) && t(a).focus(), s = e.parent(), "static" === e.css("position") ? (s.css({position: "relative"}), e.css({position: "relative"})) : (t.extend(i, {position: e.css("position"),zIndex: e.css("z-index")}), t.each(["top", "left", "bottom", "right"], function(t, s) {
                    i[s] = e.css(s), isNaN(parseInt(i[s], 10)) && (i[s] = "auto")
                }), e.css({position: "relative",top: 0,left: 0,right: "auto",bottom: "auto"})), e.css(n), s.css(i).show()
            },removeWrapper: function(e) {
                var i = document.activeElement;
                return e.parent().is(".ui-effects-wrapper") && (e.parent().replaceWith(e), (e[0] === i || t.contains(e[0], i)) && t(i).focus()), e
            },setTransition: function(e, i, s, n) {
                return n = n || {}, t.each(i, function(t, i) {
                    var a = e.cssUnit(i);
                    a[0] > 0 && (n[i] = a[0] * s + a[1])
                }), n
            }}), t.fn.extend({effect: function() {
                function e(e) {
                    function s() {
                        t.isFunction(a) && a.call(n[0]), t.isFunction(e) && e()
                    }
                    var n = t(this), a = i.complete, r = i.mode;
                    (n.is(":hidden") ? "hide" === r : "show" === r) ? (n[r](), s()) : o.call(n[0], i, s)
                }
                var i = s.apply(this, arguments), n = i.mode, a = i.queue, o = t.effects.effect[i.effect];
                return t.fx.off || !o ? n ? this[n](i.duration, i.complete) : this.each(function() {
                    i.complete && i.complete.call(this)
                }) : a === !1 ? this.each(e) : this.queue(a || "fx", e)
            },show: function(t) {
                return function(e) {
                    if (n(e))
                        return t.apply(this, arguments);
                    var i = s.apply(this, arguments);
                    return i.mode = "show", this.effect.call(this, i)
                }
            }(t.fn.show),hide: function(t) {
                return function(e) {
                    if (n(e))
                        return t.apply(this, arguments);
                    var i = s.apply(this, arguments);
                    return i.mode = "hide", this.effect.call(this, i)
                }
            }(t.fn.hide),toggle: function(t) {
                return function(e) {
                    if (n(e) || "boolean" == typeof e)
                        return t.apply(this, arguments);
                    var i = s.apply(this, arguments);
                    return i.mode = "toggle", this.effect.call(this, i)
                }
            }(t.fn.toggle),cssUnit: function(e) {
                var i = this.css(e), s = [];
                return t.each(["em", "px", "%", "pt"], function(t, e) {
                    i.indexOf(e) > 0 && (s = [parseFloat(i), e])
                }), s
            }})
    }(), function() {
        var e = {};
        t.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function(t, i) {
            e[i] = function(e) {
                return Math.pow(e, t + 2)
            }
        }), t.extend(e, {Sine: function(t) {
                return 1 - Math.cos(t * Math.PI / 2)
            },Circ: function(t) {
                return 1 - Math.sqrt(1 - t * t)
            },Elastic: function(t) {
                return 0 === t || 1 === t ? t : -Math.pow(2, 8 * (t - 1)) * Math.sin((80 * (t - 1) - 7.5) * Math.PI / 15)
            },Back: function(t) {
                return t * t * (3 * t - 2)
            },Bounce: function(t) {
                for (var e, i = 4; ((e = Math.pow(2, --i)) - 1) / 11 > t; )
                    ;
                return 1 / Math.pow(4, 3 - i) - 7.5625 * Math.pow((3 * e - 2) / 22 - t, 2)
            }}), t.each(e, function(e, i) {
            t.easing["easeIn" + e] = i, t.easing["easeOut" + e] = function(t) {
                return 1 - i(1 - t)
            }, t.easing["easeInOut" + e] = function(t) {
                return .5 > t ? i(2 * t) / 2 : 1 - i(-2 * t + 2) / 2
            }
        })
    }()
})(jQuery);
(function(t) {
    t.effects.effect.bounce = function(e, i) {
        var s, n, a, o = t(this), r = ["position", "top", "bottom", "left", "right", "height", "width"], h = t.effects.setMode(o, e.mode || "effect"), l = "hide" === h, c = "show" === h, u = e.direction || "up", d = e.distance, p = e.times || 5, f = 2 * p + (c || l ? 1 : 0), m = e.duration / f, g = e.easing, v = "up" === u || "down" === u ? "top" : "left", _ = "up" === u || "left" === u, b = o.queue(), y = b.length;
        for ((c || l) && r.push("opacity"), t.effects.save(o, r), o.show(), t.effects.createWrapper(o), d || (d = o["top" === v ? "outerHeight" : "outerWidth"]() / 3), c && (a = {opacity: 1}, a[v] = 0, o.css("opacity", 0).css(v, _ ? 2 * -d : 2 * d).animate(a, m, g)), l && (d /= Math.pow(2, p - 1)), a = {}, a[v] = 0, s = 0; p > s; s++)
            n = {}, n[v] = (_ ? "-=" : "+=") + d, o.animate(n, m, g).animate(a, m, g), d = l ? 2 * d : d / 2;
        l && (n = {opacity: 0}, n[v] = (_ ? "-=" : "+=") + d, o.animate(n, m, g)), o.queue(function() {
            l && o.hide(), t.effects.restore(o, r), t.effects.removeWrapper(o), i()
        }), y > 1 && b.splice.apply(b, [1, 0].concat(b.splice(y, f + 1))), o.dequeue()
    }
})(jQuery);
(window._gsQueue || (window._gsQueue = [])).push(function() {
    "use strict";
    window._gsDefine("TweenMax", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function(Animation, SimpleTimeline, TweenLite) {
        var _slice = [].slice, TweenMax = function(target, duration, vars) {
            TweenLite.call(this, target, duration, vars);
            this._cycle = 0;
            this._yoyo = (this.vars.yoyo === true);
            this._repeat = this.vars.repeat || 0;
            this._repeatDelay = this.vars.repeatDelay || 0;
            this._dirty = true;
            this.render = TweenMax.prototype.render;
        }, _isSelector = function(v) {
            return (v.jquery || (v.length && v !== window && v[0] && (v[0] === window || (v[0].nodeType && v[0].style && !v.nodeType))));
        }, p = TweenMax.prototype = TweenLite.to({}, 0.1, {}), _blankArray = [];
        TweenMax.version = "1.10.3";
        p.constructor = TweenMax;
        p.kill()._gc = false;
        TweenMax.killTweensOf = TweenMax.killDelayedCallsTo = TweenLite.killTweensOf;
        TweenMax.getTweensOf = TweenLite.getTweensOf;
        TweenMax.ticker = TweenLite.ticker;
        p.invalidate = function() {
            this._yoyo = (this.vars.yoyo === true);
            this._repeat = this.vars.repeat || 0;
            this._repeatDelay = this.vars.repeatDelay || 0;
            this._uncache(true);
            return TweenLite.prototype.invalidate.call(this);
        };
        p.updateTo = function(vars, resetDuration) {
            var curRatio = this.ratio, p;
            if (resetDuration && this.timeline && this._startTime < this._timeline._time) {
                this._startTime = this._timeline._time;
                this._uncache(false);
                if (this._gc) {
                    this._enabled(true, false);
                } else {
                    this._timeline.insert(this, this._startTime - this._delay);
                }
            }
            for (p in vars) {
                this.vars[p] = vars[p];
            }
            if (this._initted) {
                if (resetDuration) {
                    this._initted = false;
                } else {
                    if (this._notifyPluginsOfEnabled && this._firstPT) {
                        TweenLite._onPluginEvent("_onDisable", this);
                    }
                    if (this._time / this._duration > 0.998) {
                        var prevTime = this._time;
                        this.render(0, true, false);
                        this._initted = false;
                        this.render(prevTime, true, false);
                    } else if (this._time > 0) {
                        this._initted = false;
                        this._init();
                        var inv = 1 / (1 - curRatio), pt = this._firstPT, endValue;
                        while (pt) {
                            endValue = pt.s + pt.c;
                            pt.c *= inv;
                            pt.s = endValue - pt.c;
                            pt = pt._next;
                        }
                    }
                }
            }
            return this;
        };
        p.render = function(time, suppressEvents, force) {
            var totalDur = (!this._dirty) ? this._totalDuration : this.totalDuration(), prevTime = this._time, prevTotalTime = this._totalTime, prevCycle = this._cycle, isComplete, callback, pt, cycleDuration, r, type, pow;
            if (time >= totalDur) {
                this._totalTime = totalDur;
                this._cycle = this._repeat;
                if (this._yoyo && (this._cycle & 1) !== 0) {
                    this._time = 0;
                    this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0;
                } else {
                    this._time = this._duration;
                    this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1;
                }
                if (!this._reversed) {
                    isComplete = true;
                    callback = "onComplete";
                }
                if (this._duration === 0) {
                    if (time === 0 || this._rawPrevTime < 0)
                        if (this._rawPrevTime !== time) {
                            force = true;
                            if (this._rawPrevTime > 0) {
                                callback = "onReverseComplete";
                                if (suppressEvents) {
                                    time = -1;
                                }
                            }
                        }
                    this._rawPrevTime = time;
                }
            } else if (time < 0.0000001) {
                this._totalTime = this._time = this._cycle = 0;
                this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0;
                if (prevTotalTime !== 0 || (this._duration === 0 && this._rawPrevTime > 0)) {
                    callback = "onReverseComplete";
                    isComplete = this._reversed;
                }
                if (time < 0) {
                    this._active = false;
                    if (this._duration === 0) {
                        if (this._rawPrevTime >= 0) {
                            force = true;
                        }
                        this._rawPrevTime = time;
                    }
                } else if (!this._initted) {
                    force = true;
                }
            } else {
                this._totalTime = this._time = time;
                if (this._repeat !== 0) {
                    cycleDuration = this._duration + this._repeatDelay;
                    this._cycle = (this._totalTime / cycleDuration) >> 0;
                    if (this._cycle !== 0)
                        if (this._cycle === this._totalTime / cycleDuration) {
                            this._cycle--;
                        }
                    this._time = this._totalTime - (this._cycle * cycleDuration);
                    if (this._yoyo)
                        if ((this._cycle & 1) !== 0) {
                            this._time = this._duration - this._time;
                        }
                    if (this._time > this._duration) {
                        this._time = this._duration;
                    } else if (this._time < 0) {
                        this._time = 0;
                    }
                }
                if (this._easeType) {
                    r = this._time / this._duration;
                    type = this._easeType;
                    pow = this._easePower;
                    if (type === 1 || (type === 3 && r >= 0.5)) {
                        r = 1 - r;
                    }
                    if (type === 3) {
                        r *= 2;
                    }
                    if (pow === 1) {
                        r *= r;
                    } else if (pow === 2) {
                        r *= r * r;
                    } else if (pow === 3) {
                        r *= r * r * r;
                    } else if (pow === 4) {
                        r *= r * r * r * r;
                    }
                    if (type === 1) {
                        this.ratio = 1 - r;
                    } else if (type === 2) {
                        this.ratio = r;
                    } else if (this._time / this._duration < 0.5) {
                        this.ratio = r / 2;
                    } else {
                        this.ratio = 1 - (r / 2);
                    }
                } else {
                    this.ratio = this._ease.getRatio(this._time / this._duration);
                }
            }
            if (prevTime === this._time && !force) {
                if (prevTotalTime !== this._totalTime)
                    if (this._onUpdate)
                        if (!suppressEvents) {
                            this._onUpdate.apply(this.vars.onUpdateScope || this, this.vars.onUpdateParams || _blankArray);
                        }
                return;
            } else if (!this._initted) {
                this._init();
                if (!this._initted) {
                    return;
                }
                if (this._time && !isComplete) {
                    this.ratio = this._ease.getRatio(this._time / this._duration);
                } else if (isComplete && this._ease._calcEnd) {
                    this.ratio = this._ease.getRatio((this._time === 0) ? 0 : 1);
                }
            }
            if (!this._active)
                if (!this._paused && this._time !== prevTime && time >= 0) {
                    this._active = true;
                }
            if (prevTotalTime === 0) {
                if (this._startAt) {
                    if (time >= 0) {
                        this._startAt.render(time, suppressEvents, force);
                    } else if (!callback) {
                        callback = "_dummyGS";
                    }
                }
                if (this.vars.onStart)
                    if (this._totalTime !== 0 || this._duration === 0)
                        if (!suppressEvents) {
                            this.vars.onStart.apply(this.vars.onStartScope || this, this.vars.onStartParams || _blankArray);
                        }
            }
            pt = this._firstPT;
            while (pt) {
                if (pt.f) {
                    pt.t[pt.p](pt.c * this.ratio + pt.s);
                } else {
                    pt.t[pt.p] = pt.c * this.ratio + pt.s;
                }
                pt = pt._next;
            }
            if (this._onUpdate) {
                if (time < 0)
                    if (this._startAt) {
                        this._startAt.render(time, suppressEvents, force);
                    }
                if (!suppressEvents) {
                    this._onUpdate.apply(this.vars.onUpdateScope || this, this.vars.onUpdateParams || _blankArray);
                }
            }
            if (this._cycle !== prevCycle)
                if (!suppressEvents)
                    if (!this._gc)
                        if (this.vars.onRepeat) {
                            this.vars.onRepeat.apply(this.vars.onRepeatScope || this, this.vars.onRepeatParams || _blankArray);
                        }
            if (callback)
                if (!this._gc) {
                    if (time < 0 && this._startAt && !this._onUpdate) {
                        this._startAt.render(time, suppressEvents, force);
                    }
                    if (isComplete) {
                        if (this._timeline.autoRemoveChildren) {
                            this._enabled(false, false);
                        }
                        this._active = false;
                    }
                    if (!suppressEvents && this.vars[callback]) {
                        this.vars[callback].apply(this.vars[callback + "Scope"] || this, this.vars[callback + "Params"] || _blankArray);
                    }
                }
        };
        TweenMax.to = function(target, duration, vars) {
            return new TweenMax(target, duration, vars);
        };
        TweenMax.from = function(target, duration, vars) {
            vars.runBackwards = true;
            vars.immediateRender = (vars.immediateRender != false);
            return new TweenMax(target, duration, vars);
        };
        TweenMax.fromTo = function(target, duration, fromVars, toVars) {
            toVars.startAt = fromVars;
            toVars.immediateRender = (toVars.immediateRender != false && fromVars.immediateRender != false);
            return new TweenMax(target, duration, toVars);
        };
        TweenMax.staggerTo = TweenMax.allTo = function(targets, duration, vars, stagger, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {
            stagger = stagger || 0;
            var delay = vars.delay || 0, a = [], finalComplete = function() {
                if (vars.onComplete) {
                    vars.onComplete.apply(vars.onCompleteScope || this, arguments);
                }
                onCompleteAll.apply(onCompleteAllScope || this, onCompleteAllParams || _blankArray);
            }, l, copy, i, p;
            if (!(targets instanceof Array)) {
                if (typeof (targets) === "string") {
                    targets = TweenLite.selector(targets) || targets;
                }
                if (_isSelector(targets)) {
                    targets = _slice.call(targets, 0);
                }
            }
            l = targets.length;
            for (i = 0; i < l; i++) {
                copy = {};
                for (p in vars) {
                    copy[p] = vars[p];
                }
                copy.delay = delay;
                if (i === l - 1 && onCompleteAll) {
                    copy.onComplete = finalComplete;
                }
                a[i] = new TweenMax(targets[i], duration, copy);
                delay += stagger;
            }
            return a;
        };
        TweenMax.staggerFrom = TweenMax.allFrom = function(targets, duration, vars, stagger, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {
            vars.runBackwards = true;
            vars.immediateRender = (vars.immediateRender != false);
            return TweenMax.staggerTo(targets, duration, vars, stagger, onCompleteAll, onCompleteAllParams, onCompleteAllScope);
        };
        TweenMax.staggerFromTo = TweenMax.allFromTo = function(targets, duration, fromVars, toVars, stagger, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {
            toVars.startAt = fromVars;
            toVars.immediateRender = (toVars.immediateRender != false && fromVars.immediateRender != false);
            return TweenMax.staggerTo(targets, duration, toVars, stagger, onCompleteAll, onCompleteAllParams, onCompleteAllScope);
        };
        TweenMax.delayedCall = function(delay, callback, params, scope, useFrames) {
            return new TweenMax(callback, 0, {delay: delay,onComplete: callback,onCompleteParams: params,onCompleteScope: scope,onReverseComplete: callback,onReverseCompleteParams: params,onReverseCompleteScope: scope,immediateRender: false,useFrames: useFrames,overwrite: 0});
        };
        TweenMax.set = function(target, vars) {
            return new TweenMax(target, 0, vars);
        };
        TweenMax.isTweening = function(target) {
            var a = TweenLite.getTweensOf(target), i = a.length, tween;
            while (--i > -1) {
                tween = a[i];
                if (tween._active || (tween._startTime === tween._timeline._time && tween._timeline._active)) {
                    return true;
                }
            }
            return false;
        };
        var _getChildrenOf = function(timeline, includeTimelines) {
            var a = [], cnt = 0, tween = timeline._first;
            while (tween) {
                if (tween instanceof TweenLite) {
                    a[cnt++] = tween;
                } else {
                    if (includeTimelines) {
                        a[cnt++] = tween;
                    }
                    a = a.concat(_getChildrenOf(tween, includeTimelines));
                    cnt = a.length;
                }
                tween = tween._next;
            }
            return a;
        }, getAllTweens = TweenMax.getAllTweens = function(includeTimelines) {
            return _getChildrenOf(Animation._rootTimeline, includeTimelines).concat(_getChildrenOf(Animation._rootFramesTimeline, includeTimelines));
        };
        TweenMax.killAll = function(complete, tweens, delayedCalls, timelines) {
            if (tweens == null) {
                tweens = true;
            }
            if (delayedCalls == null) {
                delayedCalls = true;
            }
            var a = getAllTweens((timelines != false)), l = a.length, allTrue = (tweens && delayedCalls && timelines), isDC, tween, i;
            for (i = 0; i < l; i++) {
                tween = a[i];
                if (allTrue || (tween instanceof SimpleTimeline) || ((isDC = (tween.target === tween.vars.onComplete)) && delayedCalls) || (tweens && !isDC)) {
                    if (complete) {
                        tween.totalTime(tween.totalDuration());
                    } else {
                        tween._enabled(false, false);
                    }
                }
            }
        };
        TweenMax.killChildTweensOf = function(parent, complete) {
            if (parent == null) {
                return;
            }
            var tl = TweenLite._tweenLookup, a, curParent, p, i, l;
            if (typeof (parent) === "string") {
                parent = TweenLite.selector(parent) || parent;
            }
            if (_isSelector(parent)) {
                parent = _slice(parent, 0);
            }
            if (parent instanceof Array) {
                i = parent.length;
                while (--i > -1) {
                    TweenMax.killChildTweensOf(parent[i], complete);
                }
                return;
            }
            a = [];
            for (p in tl) {
                curParent = tl[p].target.parentNode;
                while (curParent) {
                    if (curParent === parent) {
                        a = a.concat(tl[p].tweens);
                    }
                    curParent = curParent.parentNode;
                }
            }
            l = a.length;
            for (i = 0; i < l; i++) {
                if (complete) {
                    a[i].totalTime(a[i].totalDuration());
                }
                a[i]._enabled(false, false);
            }
        };
        var _changePause = function(pause, tweens, delayedCalls, timelines) {
            tweens = (tweens !== false);
            delayedCalls = (delayedCalls !== false);
            timelines = (timelines !== false);
            var a = getAllTweens(timelines), allTrue = (tweens && delayedCalls && timelines), i = a.length, isDC, tween;
            while (--i > -1) {
                tween = a[i];
                if (allTrue || (tween instanceof SimpleTimeline) || ((isDC = (tween.target === tween.vars.onComplete)) && delayedCalls) || (tweens && !isDC)) {
                    tween.paused(pause);
                }
            }
        };
        TweenMax.pauseAll = function(tweens, delayedCalls, timelines) {
            _changePause(true, tweens, delayedCalls, timelines);
        };
        TweenMax.resumeAll = function(tweens, delayedCalls, timelines) {
            _changePause(false, tweens, delayedCalls, timelines);
        };
        TweenMax.globalTimeScale = function(value) {
            var tl = Animation._rootTimeline, t = TweenLite.ticker.time;
            if (!arguments.length) {
                return tl._timeScale;
            }
            value = value || 0.000001;
            tl._startTime = t - ((t - tl._startTime) * tl._timeScale / value);
            tl = Animation._rootFramesTimeline;
            t = TweenLite.ticker.frame;
            tl._startTime = t - ((t - tl._startTime) * tl._timeScale / value);
            tl._timeScale = Animation._rootTimeline._timeScale = value;
            return value;
        };
        p.progress = function(value) {
            return (!arguments.length) ? this._time / this.duration() : this.totalTime(this.duration() * ((this._yoyo && (this._cycle & 1) !== 0) ? 1 - value : value) + (this._cycle * (this._duration + this._repeatDelay)), false);
        };
        p.totalProgress = function(value) {
            return (!arguments.length) ? this._totalTime / this.totalDuration() : this.totalTime(this.totalDuration() * value, false);
        };
        p.time = function(value, suppressEvents) {
            if (!arguments.length) {
                return this._time;
            }
            if (this._dirty) {
                this.totalDuration();
            }
            if (value > this._duration) {
                value = this._duration;
            }
            if (this._yoyo && (this._cycle & 1) !== 0) {
                value = (this._duration - value) + (this._cycle * (this._duration + this._repeatDelay));
            } else if (this._repeat !== 0) {
                value += this._cycle * (this._duration + this._repeatDelay);
            }
            return this.totalTime(value, suppressEvents);
        };
        p.duration = function(value) {
            if (!arguments.length) {
                return this._duration;
            }
            return Animation.prototype.duration.call(this, value);
        };
        p.totalDuration = function(value) {
            if (!arguments.length) {
                if (this._dirty) {
                    this._totalDuration = (this._repeat === -1) ? 999999999999 : this._duration * (this._repeat + 1) + (this._repeatDelay * this._repeat);
                    this._dirty = false;
                }
                return this._totalDuration;
            }
            return (this._repeat === -1) ? this : this.duration((value - (this._repeat * this._repeatDelay)) / (this._repeat + 1));
        };
        p.repeat = function(value) {
            if (!arguments.length) {
                return this._repeat;
            }
            this._repeat = value;
            return this._uncache(true);
        };
        p.repeatDelay = function(value) {
            if (!arguments.length) {
                return this._repeatDelay;
            }
            this._repeatDelay = value;
            return this._uncache(true);
        };
        p.yoyo = function(value) {
            if (!arguments.length) {
                return this._yoyo;
            }
            this._yoyo = value;
            return this;
        };
        return TweenMax;
    }, true);
    window._gsDefine("TimelineLite", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function(Animation, SimpleTimeline, TweenLite) {
        var TimelineLite = function(vars) {
            SimpleTimeline.call(this, vars);
            this._labels = {};
            this.autoRemoveChildren = (this.vars.autoRemoveChildren === true);
            this.smoothChildTiming = (this.vars.smoothChildTiming === true);
            this._sortChildren = true;
            this._onUpdate = this.vars.onUpdate;
            var v = this.vars, val, p;
            for (p in v) {
                val = v[p];
                if (val instanceof Array)
                    if (val.join("").indexOf("{self}") !== -1) {
                        v[p] = this._swapSelfInParams(val);
                    }
            }
            if (v.tweens instanceof Array) {
                this.add(v.tweens, 0, v.align, v.stagger);
            }
        }, _blankArray = [], _copy = function(vars) {
            var copy = {}, p;
            for (p in vars) {
                copy[p] = vars[p];
            }
            return copy;
        }, _pauseCallback = function(tween, callback, params, scope) {
            tween._timeline.pause(tween._startTime);
            if (callback) {
                callback.apply(scope || tween._timeline, params || _blankArray);
            }
        }, _slice = _blankArray.slice, p = TimelineLite.prototype = new SimpleTimeline();
        TimelineLite.version = "1.10.3";
        p.constructor = TimelineLite;
        p.kill()._gc = false;
        p.to = function(target, duration, vars, position) {
            return duration ? this.add(new TweenLite(target, duration, vars), position) : this.set(target, vars, position);
        };
        p.from = function(target, duration, vars, position) {
            return this.add(TweenLite.from(target, duration, vars), position);
        };
        p.fromTo = function(target, duration, fromVars, toVars, position) {
            return duration ? this.add(TweenLite.fromTo(target, duration, fromVars, toVars), position) : this.set(target, toVars, position);
        };
        p.staggerTo = function(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {
            var tl = new TimelineLite({onComplete: onCompleteAll,onCompleteParams: onCompleteAllParams,onCompleteScope: onCompleteAllScope}), i;
            if (typeof (targets) === "string") {
                targets = TweenLite.selector(targets) || targets;
            }
            if (!(targets instanceof Array) && targets.length && targets !== window && targets[0] && (targets[0] === window || (targets[0].nodeType && targets[0].style && !targets.nodeType))) {
                targets = _slice.call(targets, 0);
            }
            stagger = stagger || 0;
            for (i = 0; i < targets.length; i++) {
                if (vars.startAt) {
                    vars.startAt = _copy(vars.startAt);
                }
                tl.to(targets[i], duration, _copy(vars), i * stagger);
            }
            return this.add(tl, position);
        };
        p.staggerFrom = function(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {
            vars.immediateRender = (vars.immediateRender != false);
            vars.runBackwards = true;
            return this.staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope);
        };
        p.staggerFromTo = function(targets, duration, fromVars, toVars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {
            toVars.startAt = fromVars;
            toVars.immediateRender = (toVars.immediateRender != false && fromVars.immediateRender != false);
            return this.staggerTo(targets, duration, toVars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope);
        };
        p.call = function(callback, params, scope, position) {
            return this.add(TweenLite.delayedCall(0, callback, params, scope), position);
        };
        p.set = function(target, vars, position) {
            position = this._parseTimeOrLabel(position, 0, true);
            if (vars.immediateRender == null) {
                vars.immediateRender = (position === this._time && !this._paused);
            }
            return this.add(new TweenLite(target, 0, vars), position);
        };
        TimelineLite.exportRoot = function(vars, ignoreDelayedCalls) {
            vars = vars || {};
            if (vars.smoothChildTiming == null) {
                vars.smoothChildTiming = true;
            }
            var tl = new TimelineLite(vars), root = tl._timeline, tween, next;
            if (ignoreDelayedCalls == null) {
                ignoreDelayedCalls = true;
            }
            root._remove(tl, true);
            tl._startTime = 0;
            tl._rawPrevTime = tl._time = tl._totalTime = root._time;
            tween = root._first;
            while (tween) {
                next = tween._next;
                if (!ignoreDelayedCalls || !(tween instanceof TweenLite && tween.target === tween.vars.onComplete)) {
                    tl.add(tween, tween._startTime - tween._delay);
                }
                tween = next;
            }
            root.add(tl, 0);
            return tl;
        };
        p.add = function(value, position, align, stagger) {
            var curTime, l, i, child, tl, beforeRawTime;
            if (typeof (position) !== "number") {
                position = this._parseTimeOrLabel(position, 0, true, value);
            }
            if (!(value instanceof Animation)) {
                if (value instanceof Array) {
                    align = align || "normal";
                    stagger = stagger || 0;
                    curTime = position;
                    l = value.length;
                    for (i = 0; i < l; i++) {
                        if ((child = value[i]) instanceof Array) {
                            child = new TimelineLite({tweens: child});
                        }
                        this.add(child, curTime);
                        if (typeof (child) !== "string" && typeof (child) !== "function") {
                            if (align === "sequence") {
                                curTime = child._startTime + (child.totalDuration() / child._timeScale);
                            } else if (align === "start") {
                                child._startTime -= child.delay();
                            }
                        }
                        curTime += stagger;
                    }
                    return this._uncache(true);
                } else if (typeof (value) === "string") {
                    return this.addLabel(value, position);
                } else if (typeof (value) === "function") {
                    value = TweenLite.delayedCall(0, value);
                } else {
                    throw ("Cannot add " + value + " into the timeline; it is not a tween, timeline, function, or string.");
                }
            }
            SimpleTimeline.prototype.add.call(this, value, position);
            if (this._gc)
                if (!this._paused)
                    if (this._duration < this.duration()) {
                        tl = this;
                        beforeRawTime = (tl.rawTime() > value._startTime);
                        while (tl._gc && tl._timeline) {
                            if (tl._timeline.smoothChildTiming && beforeRawTime) {
                                tl.totalTime(tl._totalTime, true);
                            } else {
                                tl._enabled(true, false);
                            }
                            tl = tl._timeline;
                        }
                    }
            return this;
        };
        p.remove = function(value) {
            if (value instanceof Animation) {
                return this._remove(value, false);
            } else if (value instanceof Array) {
                var i = value.length;
                while (--i > -1) {
                    this.remove(value[i]);
                }
                return this;
            } else if (typeof (value) === "string") {
                return this.removeLabel(value);
            }
            return this.kill(null, value);
        };
        p._remove = function(tween, skipDisable) {
            SimpleTimeline.prototype._remove.call(this, tween, skipDisable);
            if (!this._last) {
                this._time = this._totalTime = 0;
            } else if (this._time > this._last._startTime) {
                this._time = this.duration();
                this._totalTime = this._totalDuration;
            }
            return this;
        };
        p.append = function(value, offsetOrLabel) {
            return this.add(value, this._parseTimeOrLabel(null, offsetOrLabel, true, value));
        };
        p.insert = p.insertMultiple = function(value, position, align, stagger) {
            return this.add(value, position || 0, align, stagger);
        };
        p.appendMultiple = function(tweens, offsetOrLabel, align, stagger) {
            return this.add(tweens, this._parseTimeOrLabel(null, offsetOrLabel, true, tweens), align, stagger);
        };
        p.addLabel = function(label, position) {
            this._labels[label] = this._parseTimeOrLabel(position);
            return this;
        };
        p.addPause = function(position, callback, params, scope) {
            return this.call(_pauseCallback, ["{self}", callback, params, scope], this, position);
        };
        p.removeLabel = function(label) {
            delete this._labels[label];
            return this;
        };
        p.getLabelTime = function(label) {
            return (this._labels[label] != null) ? this._labels[label] : -1;
        };
        p._parseTimeOrLabel = function(timeOrLabel, offsetOrLabel, appendIfAbsent, ignore) {
            var i;
            if (ignore instanceof Animation && ignore.timeline === this) {
                this.remove(ignore);
            } else if (ignore instanceof Array) {
                i = ignore.length;
                while (--i > -1) {
                    if (ignore[i] instanceof Animation && ignore[i].timeline === this) {
                        this.remove(ignore[i]);
                    }
                }
            }
            if (typeof (offsetOrLabel) === "string") {
                return this._parseTimeOrLabel(offsetOrLabel, (appendIfAbsent && typeof (timeOrLabel) === "number" && this._labels[offsetOrLabel] == null) ? timeOrLabel - this.duration() : 0, appendIfAbsent);
            }
            offsetOrLabel = offsetOrLabel || 0;
            if (typeof (timeOrLabel) === "string" && (isNaN(timeOrLabel) || this._labels[timeOrLabel] != null)) {
                i = timeOrLabel.indexOf("=");
                if (i === -1) {
                    if (this._labels[timeOrLabel] == null) {
                        return appendIfAbsent ? (this._labels[timeOrLabel] = this.duration() + offsetOrLabel) : offsetOrLabel;
                    }
                    return this._labels[timeOrLabel] + offsetOrLabel;
                }
                offsetOrLabel = parseInt(timeOrLabel.charAt(i - 1) + "1", 10) * Number(timeOrLabel.substr(i + 1));
                timeOrLabel = (i > 1) ? this._parseTimeOrLabel(timeOrLabel.substr(0, i - 1), 0, appendIfAbsent) : this.duration();
            } else if (timeOrLabel == null) {
                timeOrLabel = this.duration();
            }
            return Number(timeOrLabel) + offsetOrLabel;
        };
        p.seek = function(position, suppressEvents) {
            return this.totalTime((typeof (position) === "number") ? position : this._parseTimeOrLabel(position), (suppressEvents !== false));
        };
        p.stop = function() {
            return this.paused(true);
        };
        p.gotoAndPlay = function(position, suppressEvents) {
            return this.play(position, suppressEvents);
        };
        p.gotoAndStop = function(position, suppressEvents) {
            return this.pause(position, suppressEvents);
        };
        p.render = function(time, suppressEvents, force) {
            if (this._gc) {
                this._enabled(true, false);
            }
            var totalDur = (!this._dirty) ? this._totalDuration : this.totalDuration(), prevTime = this._time, prevStart = this._startTime, prevTimeScale = this._timeScale, prevPaused = this._paused, tween, isComplete, next, callback, internalForce;
            if (time >= totalDur) {
                this._totalTime = this._time = totalDur;
                if (!this._reversed)
                    if (!this._hasPausedChild()) {
                        isComplete = true;
                        callback = "onComplete";
                        if (this._duration === 0)
                            if (time === 0 || this._rawPrevTime < 0)
                                if (this._rawPrevTime !== time && this._first) {
                                    internalForce = true;
                                    if (this._rawPrevTime > 0) {
                                        callback = "onReverseComplete";
                                    }
                                }
                    }
                this._rawPrevTime = time;
                time = totalDur + 0.000001;
            } else if (time < 0.0000001) {
                this._totalTime = this._time = 0;
                if (prevTime !== 0 || (this._duration === 0 && this._rawPrevTime > 0)) {
                    callback = "onReverseComplete";
                    isComplete = this._reversed;
                }
                if (time < 0) {
                    this._active = false;
                    if (this._duration === 0)
                        if (this._rawPrevTime >= 0 && this._first) {
                            internalForce = true;
                        }
                    this._rawPrevTime = time;
                } else {
                    this._rawPrevTime = time;
                    time = 0;
                    if (!this._initted) {
                        internalForce = true;
                    }
                }
            } else {
                this._totalTime = this._time = this._rawPrevTime = time;
            }
            if ((this._time === prevTime || !this._first) && !force && !internalForce) {
                return;
            } else if (!this._initted) {
                this._initted = true;
            }
            if (!this._active)
                if (!this._paused && this._time !== prevTime && time > 0) {
                    this._active = true;
                }
            if (prevTime === 0)
                if (this.vars.onStart)
                    if (this._time !== 0)
                        if (!suppressEvents) {
                            this.vars.onStart.apply(this.vars.onStartScope || this, this.vars.onStartParams || _blankArray);
                        }
            if (this._time >= prevTime) {
                tween = this._first;
                while (tween) {
                    next = tween._next;
                    if (this._paused && !prevPaused) {
                        break;
                    } else if (tween._active || (tween._startTime <= this._time && !tween._paused && !tween._gc)) {
                        if (!tween._reversed) {
                            tween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force);
                        } else {
                            tween.render(((!tween._dirty) ? tween._totalDuration : tween.totalDuration()) - ((time - tween._startTime) * tween._timeScale), suppressEvents, force);
                        }
                    }
                    tween = next;
                }
            } else {
                tween = this._last;
                while (tween) {
                    next = tween._prev;
                    if (this._paused && !prevPaused) {
                        break;
                    } else if (tween._active || (tween._startTime <= prevTime && !tween._paused && !tween._gc)) {
                        if (!tween._reversed) {
                            tween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force);
                        } else {
                            tween.render(((!tween._dirty) ? tween._totalDuration : tween.totalDuration()) - ((time - tween._startTime) * tween._timeScale), suppressEvents, force);
                        }
                    }
                    tween = next;
                }
            }
            if (this._onUpdate)
                if (!suppressEvents) {
                    this._onUpdate.apply(this.vars.onUpdateScope || this, this.vars.onUpdateParams || _blankArray);
                }
            if (callback)
                if (!this._gc)
                    if (prevStart === this._startTime || prevTimeScale !== this._timeScale)
                        if (this._time === 0 || totalDur >= this.totalDuration()) {
                            if (isComplete) {
                                if (this._timeline.autoRemoveChildren) {
                                    this._enabled(false, false);
                                }
                                this._active = false;
                            }
                            if (!suppressEvents && this.vars[callback]) {
                                this.vars[callback].apply(this.vars[callback + "Scope"] || this, this.vars[callback + "Params"] || _blankArray);
                            }
                        }
        };
        p._hasPausedChild = function() {
            var tween = this._first;
            while (tween) {
                if (tween._paused || ((tween instanceof TimelineLite) && tween._hasPausedChild())) {
                    return true;
                }
                tween = tween._next;
            }
            return false;
        };
        p.getChildren = function(nested, tweens, timelines, ignoreBeforeTime) {
            ignoreBeforeTime = ignoreBeforeTime || -9999999999;
            var a = [], tween = this._first, cnt = 0;
            while (tween) {
                if (tween._startTime < ignoreBeforeTime) {
                } else if (tween instanceof TweenLite) {
                    if (tweens !== false) {
                        a[cnt++] = tween;
                    }
                } else {
                    if (timelines !== false) {
                        a[cnt++] = tween;
                    }
                    if (nested !== false) {
                        a = a.concat(tween.getChildren(true, tweens, timelines));
                        cnt = a.length;
                    }
                }
                tween = tween._next;
            }
            return a;
        };
        p.getTweensOf = function(target, nested) {
            var tweens = TweenLite.getTweensOf(target), i = tweens.length, a = [], cnt = 0;
            while (--i > -1) {
                if (tweens[i].timeline === this || (nested && this._contains(tweens[i]))) {
                    a[cnt++] = tweens[i];
                }
            }
            return a;
        };
        p._contains = function(tween) {
            var tl = tween.timeline;
            while (tl) {
                if (tl === this) {
                    return true;
                }
                tl = tl.timeline;
            }
            return false;
        };
        p.shiftChildren = function(amount, adjustLabels, ignoreBeforeTime) {
            ignoreBeforeTime = ignoreBeforeTime || 0;
            var tween = this._first, labels = this._labels, p;
            while (tween) {
                if (tween._startTime >= ignoreBeforeTime) {
                    tween._startTime += amount;
                }
                tween = tween._next;
            }
            if (adjustLabels) {
                for (p in labels) {
                    if (labels[p] >= ignoreBeforeTime) {
                        labels[p] += amount;
                    }
                }
            }
            return this._uncache(true);
        };
        p._kill = function(vars, target) {
            if (!vars && !target) {
                return this._enabled(false, false);
            }
            var tweens = (!target) ? this.getChildren(true, true, false) : this.getTweensOf(target), i = tweens.length, changed = false;
            while (--i > -1) {
                if (tweens[i]._kill(vars, target)) {
                    changed = true;
                }
            }
            return changed;
        };
        p.clear = function(labels) {
            var tweens = this.getChildren(false, true, true), i = tweens.length;
            this._time = this._totalTime = 0;
            while (--i > -1) {
                tweens[i]._enabled(false, false);
            }
            if (labels !== false) {
                this._labels = {};
            }
            return this._uncache(true);
        };
        p.invalidate = function() {
            var tween = this._first;
            while (tween) {
                tween.invalidate();
                tween = tween._next;
            }
            return this;
        };
        p._enabled = function(enabled, ignoreTimeline) {
            if (enabled === this._gc) {
                var tween = this._first;
                while (tween) {
                    tween._enabled(enabled, true);
                    tween = tween._next;
                }
            }
            return SimpleTimeline.prototype._enabled.call(this, enabled, ignoreTimeline);
        };
        p.progress = function(value) {
            return (!arguments.length) ? this._time / this.duration() : this.totalTime(this.duration() * value, false);
        };
        p.duration = function(value) {
            if (!arguments.length) {
                if (this._dirty) {
                    this.totalDuration();
                }
                return this._duration;
            }
            if (this.duration() !== 0 && value !== 0) {
                this.timeScale(this._duration / value);
            }
            return this;
        };
        p.totalDuration = function(value) {
            if (!arguments.length) {
                if (this._dirty) {
                    var max = 0, tween = this._last, prevStart = 999999999999, prev, end;
                    while (tween) {
                        prev = tween._prev;
                        if (tween._dirty) {
                            tween.totalDuration();
                        }
                        if (tween._startTime > prevStart && this._sortChildren && !tween._paused) {
                            this.add(tween, tween._startTime - tween._delay);
                        } else {
                            prevStart = tween._startTime;
                        }
                        if (tween._startTime < 0 && !tween._paused) {
                            max -= tween._startTime;
                            if (this._timeline.smoothChildTiming) {
                                this._startTime += tween._startTime / this._timeScale;
                            }
                            this.shiftChildren(-tween._startTime, false, -9999999999);
                            prevStart = 0;
                        }
                        end = tween._startTime + (tween._totalDuration / tween._timeScale);
                        if (end > max) {
                            max = end;
                        }
                        tween = prev;
                    }
                    this._duration = this._totalDuration = max;
                    this._dirty = false;
                }
                return this._totalDuration;
            }
            if (this.totalDuration() !== 0)
                if (value !== 0) {
                    this.timeScale(this._totalDuration / value);
                }
            return this;
        };
        p.usesFrames = function() {
            var tl = this._timeline;
            while (tl._timeline) {
                tl = tl._timeline;
            }
            return (tl === Animation._rootFramesTimeline);
        };
        p.rawTime = function() {
            return this._paused ? this._totalTime : (this._timeline.rawTime() - this._startTime) * this._timeScale;
        };
        return TimelineLite;
    }, true);
    window._gsDefine("TimelineMax", ["TimelineLite", "TweenLite", "easing.Ease"], function(TimelineLite, TweenLite, Ease) {
        var TimelineMax = function(vars) {
            TimelineLite.call(this, vars);
            this._repeat = this.vars.repeat || 0;
            this._repeatDelay = this.vars.repeatDelay || 0;
            this._cycle = 0;
            this._yoyo = (this.vars.yoyo === true);
            this._dirty = true;
        }, _blankArray = [], _easeNone = new Ease(null, null, 1, 0), _getGlobalPaused = function(tween) {
            while (tween) {
                if (tween._paused) {
                    return true;
                }
                tween = tween._timeline;
            }
            return false;
        }, p = TimelineMax.prototype = new TimelineLite();
        p.constructor = TimelineMax;
        p.kill()._gc = false;
        TimelineMax.version = "1.10.3";
        p.invalidate = function() {
            this._yoyo = (this.vars.yoyo === true);
            this._repeat = this.vars.repeat || 0;
            this._repeatDelay = this.vars.repeatDelay || 0;
            this._uncache(true);
            return TimelineLite.prototype.invalidate.call(this);
        };
        p.addCallback = function(callback, position, params, scope) {
            return this.add(TweenLite.delayedCall(0, callback, params, scope), position);
        };
        p.removeCallback = function(callback, position) {
            if (callback) {
                if (position == null) {
                    this._kill(null, callback);
                } else {
                    var a = this.getTweensOf(callback, false), i = a.length, time = this._parseTimeOrLabel(position);
                    while (--i > -1) {
                        if (a[i]._startTime === time) {
                            a[i]._enabled(false, false);
                        }
                    }
                }
            }
            return this;
        };
        p.tweenTo = function(position, vars) {
            vars = vars || {};
            var copy = {ease: _easeNone,overwrite: 2,useFrames: this.usesFrames(),immediateRender: false}, p, t;
            for (p in vars) {
                copy[p] = vars[p];
            }
            copy.time = this._parseTimeOrLabel(position);
            t = new TweenLite(this, (Math.abs(Number(copy.time) - this._time) / this._timeScale) || 0.001, copy);
            copy.onStart = function() {
                t.target.paused(true);
                if (t.vars.time !== t.target.time()) {
                    t.duration(Math.abs(t.vars.time - t.target.time()) / t.target._timeScale);
                }
                if (vars.onStart) {
                    vars.onStart.apply(vars.onStartScope || t, vars.onStartParams || _blankArray);
                }
            };
            return t;
        };
        p.tweenFromTo = function(fromPosition, toPosition, vars) {
            vars = vars || {};
            fromPosition = this._parseTimeOrLabel(fromPosition);
            vars.startAt = {onComplete: this.seek,onCompleteParams: [fromPosition],onCompleteScope: this};
            vars.immediateRender = (vars.immediateRender !== false);
            var t = this.tweenTo(toPosition, vars);
            return t.duration((Math.abs(t.vars.time - fromPosition) / this._timeScale) || 0.001);
        };
        p.render = function(time, suppressEvents, force) {
            if (this._gc) {
                this._enabled(true, false);
            }
            var totalDur = (!this._dirty) ? this._totalDuration : this.totalDuration(), dur = this._duration, prevTime = this._time, prevTotalTime = this._totalTime, prevStart = this._startTime, prevTimeScale = this._timeScale, prevRawPrevTime = this._rawPrevTime, prevPaused = this._paused, prevCycle = this._cycle, tween, isComplete, next, callback, internalForce, cycleDuration;
            if (time >= totalDur) {
                if (!this._locked) {
                    this._totalTime = totalDur;
                    this._cycle = this._repeat;
                }
                if (!this._reversed)
                    if (!this._hasPausedChild()) {
                        isComplete = true;
                        callback = "onComplete";
                        if (dur === 0)
                            if (time === 0 || this._rawPrevTime < 0)
                                if (this._rawPrevTime !== time && this._first) {
                                    internalForce = true;
                                    if (this._rawPrevTime > 0) {
                                        callback = "onReverseComplete";
                                    }
                                }
                    }
                this._rawPrevTime = time;
                if (this._yoyo && (this._cycle & 1) !== 0) {
                    this._time = time = 0;
                } else {
                    this._time = dur;
                    time = dur + 0.000001;
                }
            } else if (time < 0.0000001) {
                if (!this._locked) {
                    this._totalTime = this._cycle = 0;
                }
                this._time = 0;
                if (prevTime !== 0 || (dur === 0 && this._rawPrevTime > 0 && !this._locked)) {
                    callback = "onReverseComplete";
                    isComplete = this._reversed;
                }
                if (time < 0) {
                    this._active = false;
                    if (dur === 0)
                        if (this._rawPrevTime >= 0 && this._first) {
                            internalForce = true;
                        }
                    this._rawPrevTime = time;
                } else {
                    this._rawPrevTime = time;
                    time = 0;
                    if (!this._initted) {
                        internalForce = true;
                    }
                }
            } else {
                this._time = this._rawPrevTime = time;
                if (!this._locked) {
                    this._totalTime = time;
                    if (this._repeat !== 0) {
                        cycleDuration = dur + this._repeatDelay;
                        this._cycle = (this._totalTime / cycleDuration) >> 0;
                        if (this._cycle !== 0)
                            if (this._cycle === this._totalTime / cycleDuration) {
                                this._cycle--;
                            }
                        this._time = this._totalTime - (this._cycle * cycleDuration);
                        if (this._yoyo)
                            if ((this._cycle & 1) !== 0) {
                                this._time = dur - this._time;
                            }
                        if (this._time > dur) {
                            this._time = dur;
                            time = dur + 0.000001;
                        } else if (this._time < 0) {
                            this._time = time = 0;
                        } else {
                            time = this._time;
                        }
                    }
                }
            }
            if (this._cycle !== prevCycle)
                if (!this._locked) {
                    var backwards = (this._yoyo && (prevCycle & 1) !== 0), wrap = (backwards === (this._yoyo && (this._cycle & 1) !== 0)), recTotalTime = this._totalTime, recCycle = this._cycle, recRawPrevTime = this._rawPrevTime, recTime = this._time;
                    this._totalTime = prevCycle * dur;
                    if (this._cycle < prevCycle) {
                        backwards = !backwards;
                    } else {
                        this._totalTime += dur;
                    }
                    this._time = prevTime;
                    this._rawPrevTime = (dur === 0) ? prevRawPrevTime - 0.00001 : prevRawPrevTime;
                    this._cycle = prevCycle;
                    this._locked = true;
                    prevTime = (backwards) ? 0 : dur;
                    this.render(prevTime, suppressEvents, (dur === 0));
                    if (!suppressEvents)
                        if (!this._gc) {
                            if (this.vars.onRepeat) {
                                this.vars.onRepeat.apply(this.vars.onRepeatScope || this, this.vars.onRepeatParams || _blankArray);
                            }
                        }
                    if (wrap) {
                        prevTime = (backwards) ? dur + 0.000001 : -0.000001;
                        this.render(prevTime, true, false);
                    }
                    this._locked = false;
                    if (this._paused && !prevPaused) {
                        return;
                    }
                    this._time = recTime;
                    this._totalTime = recTotalTime;
                    this._cycle = recCycle;
                    this._rawPrevTime = recRawPrevTime;
                }
            if ((this._time === prevTime || !this._first) && !force && !internalForce) {
                if (prevTotalTime !== this._totalTime)
                    if (this._onUpdate)
                        if (!suppressEvents) {
                            this._onUpdate.apply(this.vars.onUpdateScope || this, this.vars.onUpdateParams || _blankArray);
                        }
                return;
            } else if (!this._initted) {
                this._initted = true;
            }
            if (!this._active)
                if (!this._paused && this._totalTime !== prevTotalTime && time > 0) {
                    this._active = true;
                }
            if (prevTotalTime === 0)
                if (this.vars.onStart)
                    if (this._totalTime !== 0)
                        if (!suppressEvents) {
                            this.vars.onStart.apply(this.vars.onStartScope || this, this.vars.onStartParams || _blankArray);
                        }
            if (this._time >= prevTime) {
                tween = this._first;
                while (tween) {
                    next = tween._next;
                    if (this._paused && !prevPaused) {
                        break;
                    } else if (tween._active || (tween._startTime <= this._time && !tween._paused && !tween._gc)) {
                        if (!tween._reversed) {
                            tween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force);
                        } else {
                            tween.render(((!tween._dirty) ? tween._totalDuration : tween.totalDuration()) - ((time - tween._startTime) * tween._timeScale), suppressEvents, force);
                        }
                    }
                    tween = next;
                }
            } else {
                tween = this._last;
                while (tween) {
                    next = tween._prev;
                    if (this._paused && !prevPaused) {
                        break;
                    } else if (tween._active || (tween._startTime <= prevTime && !tween._paused && !tween._gc)) {
                        if (!tween._reversed) {
                            tween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force);
                        } else {
                            tween.render(((!tween._dirty) ? tween._totalDuration : tween.totalDuration()) - ((time - tween._startTime) * tween._timeScale), suppressEvents, force);
                        }
                    }
                    tween = next;
                }
            }
            if (this._onUpdate)
                if (!suppressEvents) {
                    this._onUpdate.apply(this.vars.onUpdateScope || this, this.vars.onUpdateParams || _blankArray);
                }
            if (callback)
                if (!this._locked)
                    if (!this._gc)
                        if (prevStart === this._startTime || prevTimeScale !== this._timeScale)
                            if (this._time === 0 || totalDur >= this.totalDuration()) {
                                if (isComplete) {
                                    if (this._timeline.autoRemoveChildren) {
                                        this._enabled(false, false);
                                    }
                                    this._active = false;
                                }
                                if (!suppressEvents && this.vars[callback]) {
                                    this.vars[callback].apply(this.vars[callback + "Scope"] || this, this.vars[callback + "Params"] || _blankArray);
                                }
                            }
        };
        p.getActive = function(nested, tweens, timelines) {
            if (nested == null) {
                nested = true;
            }
            if (tweens == null) {
                tweens = true;
            }
            if (timelines == null) {
                timelines = false;
            }
            var a = [], all = this.getChildren(nested, tweens, timelines), cnt = 0, l = all.length, i, tween;
            for (i = 0; i < l; i++) {
                tween = all[i];
                if (!tween._paused)
                    if (tween._timeline._time >= tween._startTime)
                        if (tween._timeline._time < tween._startTime + tween._totalDuration / tween._timeScale)
                            if (!_getGlobalPaused(tween._timeline)) {
                                a[cnt++] = tween;
                            }
            }
            return a;
        };
        p.getLabelAfter = function(time) {
            if (!time)
                if (time !== 0) {
                    time = this._time;
                }
            var labels = this.getLabelsArray(), l = labels.length, i;
            for (i = 0; i < l; i++) {
                if (labels[i].time > time) {
                    return labels[i].name;
                }
            }
            return null;
        };
        p.getLabelBefore = function(time) {
            if (time == null) {
                time = this._time;
            }
            var labels = this.getLabelsArray(), i = labels.length;
            while (--i > -1) {
                if (labels[i].time < time) {
                    return labels[i].name;
                }
            }
            return null;
        };
        p.getLabelsArray = function() {
            var a = [], cnt = 0, p;
            for (p in this._labels) {
                a[cnt++] = {time: this._labels[p],name: p};
            }
            a.sort(function(a, b) {
                return a.time - b.time;
            });
            return a;
        };
        p.progress = function(value) {
            return (!arguments.length) ? this._time / this.duration() : this.totalTime(this.duration() * ((this._yoyo && (this._cycle & 1) !== 0) ? 1 - value : value) + (this._cycle * (this._duration + this._repeatDelay)), false);
        };
        p.totalProgress = function(value) {
            return (!arguments.length) ? this._totalTime / this.totalDuration() : this.totalTime(this.totalDuration() * value, false);
        };
        p.totalDuration = function(value) {
            if (!arguments.length) {
                if (this._dirty) {
                    TimelineLite.prototype.totalDuration.call(this);
                    this._totalDuration = (this._repeat === -1) ? 999999999999 : this._duration * (this._repeat + 1) + (this._repeatDelay * this._repeat);
                }
                return this._totalDuration;
            }
            return (this._repeat === -1) ? this : this.duration((value - (this._repeat * this._repeatDelay)) / (this._repeat + 1));
        };
        p.time = function(value, suppressEvents) {
            if (!arguments.length) {
                return this._time;
            }
            if (this._dirty) {
                this.totalDuration();
            }
            if (value > this._duration) {
                value = this._duration;
            }
            if (this._yoyo && (this._cycle & 1) !== 0) {
                value = (this._duration - value) + (this._cycle * (this._duration + this._repeatDelay));
            } else if (this._repeat !== 0) {
                value += this._cycle * (this._duration + this._repeatDelay);
            }
            return this.totalTime(value, suppressEvents);
        };
        p.repeat = function(value) {
            if (!arguments.length) {
                return this._repeat;
            }
            this._repeat = value;
            return this._uncache(true);
        };
        p.repeatDelay = function(value) {
            if (!arguments.length) {
                return this._repeatDelay;
            }
            this._repeatDelay = value;
            return this._uncache(true);
        };
        p.yoyo = function(value) {
            if (!arguments.length) {
                return this._yoyo;
            }
            this._yoyo = value;
            return this;
        };
        p.currentLabel = function(value) {
            if (!arguments.length) {
                return this.getLabelBefore(this._time + 0.00000001);
            }
            return this.seek(value, true);
        };
        return TimelineMax;
    }, true);
    (function() {
        var _RAD2DEG = 180 / Math.PI, _DEG2RAD = Math.PI / 180, _r1 = [], _r2 = [], _r3 = [], _corProps = {}, Segment = function(a, b, c, d) {
            this.a = a;
            this.b = b;
            this.c = c;
            this.d = d;
            this.da = d - a;
            this.ca = c - a;
            this.ba = b - a;
        }, _correlate = ",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,", cubicToQuadratic = function(a, b, c, d) {
            var q1 = {a: a}, q2 = {}, q3 = {}, q4 = {c: d}, mab = (a + b) / 2, mbc = (b + c) / 2, mcd = (c + d) / 2, mabc = (mab + mbc) / 2, mbcd = (mbc + mcd) / 2, m8 = (mbcd - mabc) / 8;
            q1.b = mab + (a - mab) / 4;
            q2.b = mabc + m8;
            q1.c = q2.a = (q1.b + q2.b) / 2;
            q2.c = q3.a = (mabc + mbcd) / 2;
            q3.b = mbcd - m8;
            q4.b = mcd + (d - mcd) / 4;
            q3.c = q4.a = (q3.b + q4.b) / 2;
            return [q1, q2, q3, q4];
        }, _calculateControlPoints = function(a, curviness, quad, basic, correlate) {
            var l = a.length - 1, ii = 0, cp1 = a[0].a, i, p1, p2, p3, seg, m1, m2, mm, cp2, qb, r1, r2, tl;
            for (i = 0; i < l; i++) {
                seg = a[ii];
                p1 = seg.a;
                p2 = seg.d;
                p3 = a[ii + 1].d;
                if (correlate) {
                    r1 = _r1[i];
                    r2 = _r2[i];
                    tl = ((r2 + r1) * curviness * 0.25) / (basic ? 0.5 : _r3[i] || 0.5);
                    m1 = p2 - (p2 - p1) * (basic ? curviness * 0.5 : (r1 !== 0 ? tl / r1 : 0));
                    m2 = p2 + (p3 - p2) * (basic ? curviness * 0.5 : (r2 !== 0 ? tl / r2 : 0));
                    mm = p2 - (m1 + (((m2 - m1) * ((r1 * 3 / (r1 + r2)) + 0.5) / 4) || 0));
                } else {
                    m1 = p2 - (p2 - p1) * curviness * 0.5;
                    m2 = p2 + (p3 - p2) * curviness * 0.5;
                    mm = p2 - (m1 + m2) / 2;
                }
                m1 += mm;
                m2 += mm;
                seg.c = cp2 = m1;
                if (i !== 0) {
                    seg.b = cp1;
                } else {
                    seg.b = cp1 = seg.a + (seg.c - seg.a) * 0.6;
                }
                seg.da = p2 - p1;
                seg.ca = cp2 - p1;
                seg.ba = cp1 - p1;
                if (quad) {
                    qb = cubicToQuadratic(p1, cp1, cp2, p2);
                    a.splice(ii, 1, qb[0], qb[1], qb[2], qb[3]);
                    ii += 4;
                } else {
                    ii++;
                }
                cp1 = m2;
            }
            seg = a[ii];
            seg.b = cp1;
            seg.c = cp1 + (seg.d - cp1) * 0.4;
            seg.da = seg.d - seg.a;
            seg.ca = seg.c - seg.a;
            seg.ba = cp1 - seg.a;
            if (quad) {
                qb = cubicToQuadratic(seg.a, cp1, seg.c, seg.d);
                a.splice(ii, 1, qb[0], qb[1], qb[2], qb[3]);
            }
        }, _parseAnchors = function(values, p, correlate, prepend) {
            var a = [], l, i, p1, p2, p3, tmp;
            if (prepend) {
                values = [prepend].concat(values);
                i = values.length;
                while (--i > -1) {
                    if (typeof ((tmp = values[i][p])) === "string")
                        if (tmp.charAt(1) === "=") {
                            values[i][p] = prepend[p] + Number(tmp.charAt(0) + tmp.substr(2));
                        }
                }
            }
            l = values.length - 2;
            if (l < 0) {
                a[0] = new Segment(values[0][p], 0, 0, values[(l < -1) ? 0 : 1][p]);
                return a;
            }
            for (i = 0; i < l; i++) {
                p1 = values[i][p];
                p2 = values[i + 1][p];
                a[i] = new Segment(p1, 0, 0, p2);
                if (correlate) {
                    p3 = values[i + 2][p];
                    _r1[i] = (_r1[i] || 0) + (p2 - p1) * (p2 - p1);
                    _r2[i] = (_r2[i] || 0) + (p3 - p2) * (p3 - p2);
                }
            }
            a[i] = new Segment(values[i][p], 0, 0, values[i + 1][p]);
            return a;
        }, bezierThrough = function(values, curviness, quadratic, basic, correlate, prepend) {
            var obj = {}, props = [], first = prepend || values[0], i, p, a, j, r, l, seamless, last;
            correlate = (typeof (correlate) === "string") ? "," + correlate + "," : _correlate;
            if (curviness == null) {
                curviness = 1;
            }
            for (p in values[0]) {
                props.push(p);
            }
            if (values.length > 1) {
                last = values[values.length - 1];
                seamless = true;
                i = props.length;
                while (--i > -1) {
                    p = props[i];
                    if (Math.abs(first[p] - last[p]) > 0.05) {
                        seamless = false;
                        break;
                    }
                }
                if (seamless) {
                    values = values.concat();
                    if (prepend) {
                        values.unshift(prepend);
                    }
                    values.push(values[1]);
                    prepend = values[values.length - 3];
                }
            }
            _r1.length = _r2.length = _r3.length = 0;
            i = props.length;
            while (--i > -1) {
                p = props[i];
                _corProps[p] = (correlate.indexOf("," + p + ",") !== -1);
                obj[p] = _parseAnchors(values, p, _corProps[p], prepend);
            }
            i = _r1.length;
            while (--i > -1) {
                _r1[i] = Math.sqrt(_r1[i]);
                _r2[i] = Math.sqrt(_r2[i]);
            }
            if (!basic) {
                i = props.length;
                while (--i > -1) {
                    if (_corProps[p]) {
                        a = obj[props[i]];
                        l = a.length - 1;
                        for (j = 0; j < l; j++) {
                            r = a[j + 1].da / _r2[j] + a[j].da / _r1[j];
                            _r3[j] = (_r3[j] || 0) + r * r;
                        }
                    }
                }
                i = _r3.length;
                while (--i > -1) {
                    _r3[i] = Math.sqrt(_r3[i]);
                }
            }
            i = props.length;
            j = quadratic ? 4 : 1;
            while (--i > -1) {
                p = props[i];
                a = obj[p];
                _calculateControlPoints(a, curviness, quadratic, basic, _corProps[p]);
                if (seamless) {
                    a.splice(0, j);
                    a.splice(a.length - j, j);
                }
            }
            return obj;
        }, _parseBezierData = function(values, type, prepend) {
            type = type || "soft";
            var obj = {}, inc = (type === "cubic") ? 3 : 2, soft = (type === "soft"), props = [], a, b, c, d, cur, i, j, l, p, cnt, tmp;
            if (soft && prepend) {
                values = [prepend].concat(values);
            }
            if (values == null || values.length < inc + 1) {
                throw "invalid Bezier data";
            }
            for (p in values[0]) {
                props.push(p);
            }
            i = props.length;
            while (--i > -1) {
                p = props[i];
                obj[p] = cur = [];
                cnt = 0;
                l = values.length;
                for (j = 0; j < l; j++) {
                    a = (prepend == null) ? values[j][p] : (typeof ((tmp = values[j][p])) === "string" && tmp.charAt(1) === "=") ? prepend[p] + Number(tmp.charAt(0) + tmp.substr(2)) : Number(tmp);
                    if (soft)
                        if (j > 1)
                            if (j < l - 1) {
                                cur[cnt++] = (a + cur[cnt - 2]) / 2;
                            }
                    cur[cnt++] = a;
                }
                l = cnt - inc + 1;
                cnt = 0;
                for (j = 0; j < l; j += inc) {
                    a = cur[j];
                    b = cur[j + 1];
                    c = cur[j + 2];
                    d = (inc === 2) ? 0 : cur[j + 3];
                    cur[cnt++] = tmp = (inc === 3) ? new Segment(a, b, c, d) : new Segment(a, (2 * b + a) / 3, (2 * b + c) / 3, c);
                }
                cur.length = cnt;
            }
            return obj;
        }, _addCubicLengths = function(a, steps, resolution) {
            var inc = 1 / resolution, j = a.length, d, d1, s, da, ca, ba, p, i, inv, bez, index;
            while (--j > -1) {
                bez = a[j];
                s = bez.a;
                da = bez.d - s;
                ca = bez.c - s;
                ba = bez.b - s;
                d = d1 = 0;
                for (i = 1; i <= resolution; i++) {
                    p = inc * i;
                    inv = 1 - p;
                    d = d1 - (d1 = (p * p * da + 3 * inv * (p * ca + inv * ba)) * p);
                    index = j * resolution + i - 1;
                    steps[index] = (steps[index] || 0) + d * d;
                }
            }
        }, _parseLengthData = function(obj, resolution) {
            resolution = resolution >> 0 || 6;
            var a = [], lengths = [], d = 0, total = 0, threshold = resolution - 1, segments = [], curLS = [], p, i, l, index;
            for (p in obj) {
                _addCubicLengths(obj[p], a, resolution);
            }
            l = a.length;
            for (i = 0; i < l; i++) {
                d += Math.sqrt(a[i]);
                index = i % resolution;
                curLS[index] = d;
                if (index === threshold) {
                    total += d;
                    index = (i / resolution) >> 0;
                    segments[index] = curLS;
                    lengths[index] = total;
                    d = 0;
                    curLS = [];
                }
            }
            return {length: total,lengths: lengths,segments: segments};
        }, BezierPlugin = window._gsDefine.plugin({propName: "bezier",priority: -1,API: 2,global: true,init: function(target, vars, tween) {
                this._target = target;
                if (vars instanceof Array) {
                    vars = {values: vars};
                }
                this._func = {};
                this._round = {};
                this._props = [];
                this._timeRes = (vars.timeResolution == null) ? 6 : parseInt(vars.timeResolution, 10);
                var values = vars.values || [], first = {}, second = values[0], autoRotate = vars.autoRotate || tween.vars.orientToBezier, p, isFunc, i, j, prepend;
                this._autoRotate = autoRotate ? (autoRotate instanceof Array) ? autoRotate : [["x", "y", "rotation", ((autoRotate === true) ? 0 : Number(autoRotate) || 0)]] : null;
                for (p in second) {
                    this._props.push(p);
                }
                i = this._props.length;
                while (--i > -1) {
                    p = this._props[i];
                    this._overwriteProps.push(p);
                    isFunc = this._func[p] = (typeof (target[p]) === "function");
                    first[p] = (!isFunc) ? parseFloat(target[p]) : target[((p.indexOf("set") || typeof (target["get" + p.substr(3)]) !== "function") ? p : "get" + p.substr(3))]();
                    if (!prepend)
                        if (first[p] !== values[0][p]) {
                            prepend = first;
                        }
                }
                this._beziers = (vars.type !== "cubic" && vars.type !== "quadratic" && vars.type !== "soft") ? bezierThrough(values, isNaN(vars.curviness) ? 1 : vars.curviness, false, (vars.type === "thruBasic"), vars.correlate, prepend) : _parseBezierData(values, vars.type, first);
                this._segCount = this._beziers[p].length;
                if (this._timeRes) {
                    var ld = _parseLengthData(this._beziers, this._timeRes);
                    this._length = ld.length;
                    this._lengths = ld.lengths;
                    this._segments = ld.segments;
                    this._l1 = this._li = this._s1 = this._si = 0;
                    this._l2 = this._lengths[0];
                    this._curSeg = this._segments[0];
                    this._s2 = this._curSeg[0];
                    this._prec = 1 / this._curSeg.length;
                }
                if ((autoRotate = this._autoRotate)) {
                    if (!(autoRotate[0] instanceof Array)) {
                        this._autoRotate = autoRotate = [autoRotate];
                    }
                    i = autoRotate.length;
                    while (--i > -1) {
                        for (j = 0; j < 3; j++) {
                            p = autoRotate[i][j];
                            this._func[p] = (typeof (target[p]) === "function") ? target[((p.indexOf("set") || typeof (target["get" + p.substr(3)]) !== "function") ? p : "get" + p.substr(3))] : false;
                        }
                    }
                }
                return true;
            },set: function(v) {
                var segments = this._segCount, func = this._func, target = this._target, curIndex, inv, i, p, b, t, val, l, lengths, curSeg;
                if (!this._timeRes) {
                    curIndex = (v < 0) ? 0 : (v >= 1) ? segments - 1 : (segments * v) >> 0;
                    t = (v - (curIndex * (1 / segments))) * segments;
                } else {
                    lengths = this._lengths;
                    curSeg = this._curSeg;
                    v *= this._length;
                    i = this._li;
                    if (v > this._l2 && i < segments - 1) {
                        l = segments - 1;
                        while (i < l && (this._l2 = lengths[++i]) <= v) {
                        }
                        this._l1 = lengths[i - 1];
                        this._li = i;
                        this._curSeg = curSeg = this._segments[i];
                        this._s2 = curSeg[(this._s1 = this._si = 0)];
                    } else if (v < this._l1 && i > 0) {
                        while (i > 0 && (this._l1 = lengths[--i]) >= v) {
                        }
                        if (i === 0 && v < this._l1) {
                            this._l1 = 0;
                        } else {
                            i++;
                        }
                        this._l2 = lengths[i];
                        this._li = i;
                        this._curSeg = curSeg = this._segments[i];
                        this._s1 = curSeg[(this._si = curSeg.length - 1) - 1] || 0;
                        this._s2 = curSeg[this._si];
                    }
                    curIndex = i;
                    v -= this._l1;
                    i = this._si;
                    if (v > this._s2 && i < curSeg.length - 1) {
                        l = curSeg.length - 1;
                        while (i < l && (this._s2 = curSeg[++i]) <= v) {
                        }
                        this._s1 = curSeg[i - 1];
                        this._si = i;
                    } else if (v < this._s1 && i > 0) {
                        while (i > 0 && (this._s1 = curSeg[--i]) >= v) {
                        }
                        if (i === 0 && v < this._s1) {
                            this._s1 = 0;
                        } else {
                            i++;
                        }
                        this._s2 = curSeg[i];
                        this._si = i;
                    }
                    t = (i + (v - this._s1) / (this._s2 - this._s1)) * this._prec;
                }
                inv = 1 - t;
                i = this._props.length;
                while (--i > -1) {
                    p = this._props[i];
                    b = this._beziers[p][curIndex];
                    val = (t * t * b.da + 3 * inv * (t * b.ca + inv * b.ba)) * t + b.a;
                    if (this._round[p]) {
                        val = (val + ((val > 0) ? 0.5 : -0.5)) >> 0;
                    }
                    if (func[p]) {
                        target[p](val);
                    } else {
                        target[p] = val;
                    }
                }
                if (this._autoRotate) {
                    var ar = this._autoRotate, b2, x1, y1, x2, y2, add, conv;
                    i = ar.length;
                    while (--i > -1) {
                        p = ar[i][2];
                        add = ar[i][3] || 0;
                        conv = (ar[i][4] === true) ? 1 : _RAD2DEG;
                        b = this._beziers[ar[i][0]];
                        b2 = this._beziers[ar[i][1]];
                        if (b && b2) {
                            b = b[curIndex];
                            b2 = b2[curIndex];
                            x1 = b.a + (b.b - b.a) * t;
                            x2 = b.b + (b.c - b.b) * t;
                            x1 += (x2 - x1) * t;
                            x2 += ((b.c + (b.d - b.c) * t) - x2) * t;
                            y1 = b2.a + (b2.b - b2.a) * t;
                            y2 = b2.b + (b2.c - b2.b) * t;
                            y1 += (y2 - y1) * t;
                            y2 += ((b2.c + (b2.d - b2.c) * t) - y2) * t;
                            val = Math.atan2(y2 - y1, x2 - x1) * conv + add;
                            if (func[p]) {
                                target[p](val);
                            } else {
                                target[p] = val;
                            }
                        }
                    }
                }
            }}), p = BezierPlugin.prototype;
        BezierPlugin.bezierThrough = bezierThrough;
        BezierPlugin.cubicToQuadratic = cubicToQuadratic;
        BezierPlugin._autoCSS = true;
        BezierPlugin.quadraticToCubic = function(a, b, c) {
            return new Segment(a, (2 * b + a) / 3, (2 * b + c) / 3, c);
        };
        BezierPlugin._cssRegister = function() {
            var CSSPlugin = window._gsDefine.globals.CSSPlugin;
            if (!CSSPlugin) {
                return;
            }
            var _internals = CSSPlugin._internals, _parseToProxy = _internals._parseToProxy, _setPluginRatio = _internals._setPluginRatio, CSSPropTween = _internals.CSSPropTween;
            _internals._registerComplexSpecialProp("bezier", {parser: function(t, e, prop, cssp, pt, plugin) {
                    if (e instanceof Array) {
                        e = {values: e};
                    }
                    plugin = new BezierPlugin();
                    var values = e.values, l = values.length - 1, pluginValues = [], v = {}, i, p, data;
                    if (l < 0) {
                        return pt;
                    }
                    for (i = 0; i <= l; i++) {
                        data = _parseToProxy(t, values[i], cssp, pt, plugin, (l !== i));
                        pluginValues[i] = data.end;
                    }
                    for (p in e) {
                        v[p] = e[p];
                    }
                    v.values = pluginValues;
                    pt = new CSSPropTween(t, "bezier", 0, 0, data.pt, 2);
                    pt.data = data;
                    pt.plugin = plugin;
                    pt.setRatio = _setPluginRatio;
                    if (v.autoRotate === 0) {
                        v.autoRotate = true;
                    }
                    if (v.autoRotate && !(v.autoRotate instanceof Array)) {
                        i = (v.autoRotate === true) ? 0 : Number(v.autoRotate) * _DEG2RAD;
                        v.autoRotate = (data.end.left != null) ? [["left", "top", "rotation", i, true]] : (data.end.x != null) ? [["x", "y", "rotation", i, true]] : false;
                    }
                    if (v.autoRotate) {
                        if (!cssp._transform) {
                            cssp._enableTransforms(false);
                        }
                        data.autoRotate = cssp._target._gsTransform;
                    }
                    plugin._onInitTween(data.proxy, v, cssp._tween);
                    return pt;
                }});
        };
        p._roundProps = function(lookup, value) {
            var op = this._overwriteProps, i = op.length;
            while (--i > -1) {
                if (lookup[op[i]] || lookup.bezier || lookup.bezierThrough) {
                    this._round[op[i]] = value;
                }
            }
        };
        p._kill = function(lookup) {
            var a = this._props, p, i;
            for (p in this._beziers) {
                if (p in lookup) {
                    delete this._beziers[p];
                    delete this._func[p];
                    i = a.length;
                    while (--i > -1) {
                        if (a[i] === p) {
                            a.splice(i, 1);
                        }
                    }
                }
            }
            return this._super._kill.call(this, lookup);
        };
    }());
    window._gsDefine("plugins.CSSPlugin", ["plugins.TweenPlugin", "TweenLite"], function(TweenPlugin, TweenLite) {
        var CSSPlugin = function() {
            TweenPlugin.call(this, "css");
            this._overwriteProps.length = 0;
            this.setRatio = CSSPlugin.prototype.setRatio;
        }, _hasPriority, _suffixMap, _cs, _overwriteProps, _specialProps = {}, p = CSSPlugin.prototype = new TweenPlugin("css");
        p.constructor = CSSPlugin;
        CSSPlugin.version = "1.10.3";
        CSSPlugin.API = 2;
        CSSPlugin.defaultTransformPerspective = 0;
        p = "px";
        CSSPlugin.suffixMap = {top: p,right: p,bottom: p,left: p,width: p,height: p,fontSize: p,padding: p,margin: p,perspective: p};
        var _numExp = /(?:\d|\-\d|\.\d|\-\.\d)+/g, _relNumExp = /(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g, _valuesExp = /(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi, _NaNExp = /[^\d\-\.]/g, _suffixExp = /(?:\d|\-|\+|=|#|\.)*/g, _opacityExp = /opacity *= *([^)]*)/, _opacityValExp = /opacity:([^;]*)/, _alphaFilterExp = /alpha\(opacity *=.+?\)/i, _rgbhslExp = /^(rgb|hsl)/, _capsExp = /([A-Z])/g, _camelExp = /-([a-z])/gi, _urlExp = /(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi, _camelFunc = function(s, g) {
            return g.toUpperCase();
        }, _horizExp = /(?:Left|Right|Width)/i, _ieGetMatrixExp = /(M11|M12|M21|M22)=[\d\-\.e]+/gi, _ieSetMatrixExp = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i, _commasOutsideParenExp = /,(?=[^\)]*(?:\(|$))/gi, _DEG2RAD = Math.PI / 180, _RAD2DEG = 180 / Math.PI, _forcePT = {}, _doc = document, _tempDiv = _doc.createElement("div"), _tempImg = _doc.createElement("img"), _internals = CSSPlugin._internals = {_specialProps: _specialProps}, _agent = navigator.userAgent, _autoRound, _reqSafariFix, _isSafari, _isFirefox, _isSafariLT6, _ieVers, _supportsOpacity = (function() {
            var i = _agent.indexOf("Android"), d = _doc.createElement("div"), a;
            _isSafari = (_agent.indexOf("Safari") !== -1 && _agent.indexOf("Chrome") === -1 && (i === -1 || Number(_agent.substr(i + 8, 1)) > 3));
            _isSafariLT6 = (_isSafari && (Number(_agent.substr(_agent.indexOf("Version/") + 8, 1)) < 6));
            _isFirefox = (_agent.indexOf("Firefox") !== -1);
            (/MSIE ([0-9]{1,}[\.0-9]{0,})/).exec(_agent);
            _ieVers = parseFloat(RegExp.$1);
            d.innerHTML = "<a style='top:1px;opacity:.55;'>a</a>";
            a = d.getElementsByTagName("a")[0];
            return a ? /^0.55/.test(a.style.opacity) : false;
        }()), _getIEOpacity = function(v) {
            return (_opacityExp.test(((typeof (v) === "string") ? v : (v.currentStyle ? v.currentStyle.filter : v.style.filter) || "")) ? (parseFloat(RegExp.$1) / 100) : 1);
        }, _log = function(s) {
            if (window.console) {
                console.log(s);
            }
        }, _prefixCSS = "", _prefix = "", _checkPropPrefix = function(p, e) {
            e = e || _tempDiv;
            var s = e.style, a, i;
            if (s[p] !== undefined) {
                return p;
            }
            p = p.charAt(0).toUpperCase() + p.substr(1);
            a = ["O", "Moz", "ms", "Ms", "Webkit"];
            i = 5;
            while (--i > -1 && s[a[i] + p] === undefined) {
            }
            if (i >= 0) {
                _prefix = (i === 3) ? "ms" : a[i];
                _prefixCSS = "-" + _prefix.toLowerCase() + "-";
                return _prefix + p;
            }
            return null;
        }, _getComputedStyle = _doc.defaultView ? _doc.defaultView.getComputedStyle : function() {
        }, _getStyle = CSSPlugin.getStyle = function(t, p, cs, calc, dflt) {
            var rv;
            if (!_supportsOpacity)
                if (p === "opacity") {
                    return _getIEOpacity(t);
                }
            if (!calc && t.style[p]) {
                rv = t.style[p];
            } else if ((cs = cs || _getComputedStyle(t, null))) {
                t = cs.getPropertyValue(p.replace(_capsExp, "-$1").toLowerCase());
                rv = (t || cs.length) ? t : cs[p];
            } else if (t.currentStyle) {
                rv = t.currentStyle[p];
            }
            return (dflt != null && (!rv || rv === "none" || rv === "auto" || rv === "auto auto")) ? dflt : rv;
        }, _convertToPixels = function(t, p, v, sfx, recurse) {
            if (sfx === "px" || !sfx) {
                return v;
            }
            if (sfx === "auto" || !v) {
                return 0;
            }
            var horiz = _horizExp.test(p), node = t, style = _tempDiv.style, neg = (v < 0), pix;
            if (neg) {
                v = -v;
            }
            if (sfx === "%" && p.indexOf("border") !== -1) {
                pix = (v / 100) * (horiz ? t.clientWidth : t.clientHeight);
            } else {
                style.cssText = "border-style:solid;border-width:0;position:absolute;line-height:0;";
                if (sfx === "%" || !node.appendChild) {
                    node = t.parentNode || _doc.body;
                    style[(horiz ? "width" : "height")] = v + sfx;
                } else {
                    style[(horiz ? "borderLeftWidth" : "borderTopWidth")] = v + sfx;
                }
                node.appendChild(_tempDiv);
                pix = parseFloat(_tempDiv[(horiz ? "offsetWidth" : "offsetHeight")]);
                node.removeChild(_tempDiv);
                if (pix === 0 && !recurse) {
                    pix = _convertToPixels(t, p, v, sfx, true);
                }
            }
            return neg ? -pix : pix;
        }, _calculateOffset = function(t, p, cs) {
            if (_getStyle(t, "position", cs) !== "absolute") {
                return 0;
            }
            var dim = ((p === "left") ? "Left" : "Top"), v = _getStyle(t, "margin" + dim, cs);
            return t["offset" + dim] - (_convertToPixels(t, p, parseFloat(v), v.replace(_suffixExp, "")) || 0);
        }, _getAllStyles = function(t, cs) {
            var s = {}, i, tr;
            if ((cs = cs || _getComputedStyle(t, null))) {
                if ((i = cs.length)) {
                    while (--i > -1) {
                        s[cs[i].replace(_camelExp, _camelFunc)] = cs.getPropertyValue(cs[i]);
                    }
                } else {
                    for (i in cs) {
                        s[i] = cs[i];
                    }
                }
            } else if ((cs = t.currentStyle || t.style)) {
                for (i in cs) {
                    s[i.replace(_camelExp, _camelFunc)] = cs[i];
                }
            }
            if (!_supportsOpacity) {
                s.opacity = _getIEOpacity(t);
            }
            tr = _getTransform(t, cs, false);
            s.rotation = tr.rotation * _RAD2DEG;
            s.skewX = tr.skewX * _RAD2DEG;
            s.scaleX = tr.scaleX;
            s.scaleY = tr.scaleY;
            s.x = tr.x;
            s.y = tr.y;
            if (_supports3D) {
                s.z = tr.z;
                s.rotationX = tr.rotationX * _RAD2DEG;
                s.rotationY = tr.rotationY * _RAD2DEG;
                s.scaleZ = tr.scaleZ;
            }
            if (s.filters) {
                delete s.filters;
            }
            return s;
        }, _cssDif = function(t, s1, s2, vars, forceLookup) {
            var difs = {}, style = t.style, val, p, mpt;
            for (p in s2) {
                if (p !== "cssText")
                    if (p !== "length")
                        if (isNaN(p))
                            if (s1[p] !== (val = s2[p]) || (forceLookup && forceLookup[p]))
                                if (p.indexOf("Origin") === -1)
                                    if (typeof (val) === "number" || typeof (val) === "string") {
                                        difs[p] = (val === "auto" && (p === "left" || p === "top")) ? _calculateOffset(t, p) : ((val === "" || val === "auto" || val === "none") && typeof (s1[p]) === "string" && s1[p].replace(_NaNExp, "") !== "") ? 0 : val;
                                        if (style[p] !== undefined) {
                                            mpt = new MiniPropTween(style, p, style[p], mpt);
                                        }
                                    }
            }
            if (vars) {
                for (p in vars) {
                    if (p !== "className") {
                        difs[p] = vars[p];
                    }
                }
            }
            return {difs: difs,firstMPT: mpt};
        }, _dimensions = {width: ["Left", "Right"],height: ["Top", "Bottom"]}, _margins = ["marginLeft", "marginRight", "marginTop", "marginBottom"], _getDimension = function(t, p, cs) {
            var v = parseFloat((p === "width") ? t.offsetWidth : t.offsetHeight), a = _dimensions[p], i = a.length;
            cs = cs || _getComputedStyle(t, null);
            while (--i > -1) {
                v -= parseFloat(_getStyle(t, "padding" + a[i], cs, true)) || 0;
                v -= parseFloat(_getStyle(t, "border" + a[i] + "Width", cs, true)) || 0;
            }
            return v;
        }, _parsePosition = function(v, recObj) {
            if (v == null || v === "" || v === "auto" || v === "auto auto") {
                v = "0 0";
            }
            var a = v.split(" "), x = (v.indexOf("left") !== -1) ? "0%" : (v.indexOf("right") !== -1) ? "100%" : a[0], y = (v.indexOf("top") !== -1) ? "0%" : (v.indexOf("bottom") !== -1) ? "100%" : a[1];
            if (y == null) {
                y = "0";
            } else if (y === "center") {
                y = "50%";
            }
            if (x === "center" || (isNaN(parseFloat(x)) && (x + "").indexOf("=") === -1)) {
                x = "50%";
            }
            if (recObj) {
                recObj.oxp = (x.indexOf("%") !== -1);
                recObj.oyp = (y.indexOf("%") !== -1);
                recObj.oxr = (x.charAt(1) === "=");
                recObj.oyr = (y.charAt(1) === "=");
                recObj.ox = parseFloat(x.replace(_NaNExp, ""));
                recObj.oy = parseFloat(y.replace(_NaNExp, ""));
            }
            return x + " " + y + ((a.length > 2) ? " " + a[2] : "");
        }, _parseChange = function(e, b) {
            return (typeof (e) === "string" && e.charAt(1) === "=") ? parseInt(e.charAt(0) + "1", 10) * parseFloat(e.substr(2)) : parseFloat(e) - parseFloat(b);
        }, _parseVal = function(v, d) {
            return (v == null) ? d : (typeof (v) === "string" && v.charAt(1) === "=") ? parseInt(v.charAt(0) + "1", 10) * Number(v.substr(2)) + d : parseFloat(v);
        }, _parseAngle = function(v, d, p, directionalEnd) {
            var min = 0.000001, cap, split, dif, result;
            if (v == null) {
                result = d;
            } else if (typeof (v) === "number") {
                result = v * _DEG2RAD;
            } else {
                cap = Math.PI * 2;
                split = v.split("_");
                dif = Number(split[0].replace(_NaNExp, "")) * ((v.indexOf("rad") === -1) ? _DEG2RAD : 1) - ((v.charAt(1) === "=") ? 0 : d);
                if (split.length) {
                    if (directionalEnd) {
                        directionalEnd[p] = d + dif;
                    }
                    if (v.indexOf("short") !== -1) {
                        dif = dif % cap;
                        if (dif !== dif % (cap / 2)) {
                            dif = (dif < 0) ? dif + cap : dif - cap;
                        }
                    }
                    if (v.indexOf("_cw") !== -1 && dif < 0) {
                        dif = ((dif + cap * 9999999999) % cap) - ((dif / cap) | 0) * cap;
                    } else if (v.indexOf("ccw") !== -1 && dif > 0) {
                        dif = ((dif - cap * 9999999999) % cap) - ((dif / cap) | 0) * cap;
                    }
                }
                result = d + dif;
            }
            if (result < min && result > -min) {
                result = 0;
            }
            return result;
        }, _colorLookup = {aqua: [0, 255, 255],lime: [0, 255, 0],silver: [192, 192, 192],black: [0, 0, 0],maroon: [128, 0, 0],teal: [0, 128, 128],blue: [0, 0, 255],navy: [0, 0, 128],white: [255, 255, 255],fuchsia: [255, 0, 255],olive: [128, 128, 0],yellow: [255, 255, 0],orange: [255, 165, 0],gray: [128, 128, 128],purple: [128, 0, 128],green: [0, 128, 0],red: [255, 0, 0],pink: [255, 192, 203],cyan: [0, 255, 255],transparent: [255, 255, 255, 0]}, _hue = function(h, m1, m2) {
            h = (h < 0) ? h + 1 : (h > 1) ? h - 1 : h;
            return ((((h * 6 < 1) ? m1 + (m2 - m1) * h * 6 : (h < 0.5) ? m2 : (h * 3 < 2) ? m1 + (m2 - m1) * (2 / 3 - h) * 6 : m1) * 255) + 0.5) | 0;
        }, _parseColor = function(v) {
            var c1, c2, c3, h, s, l;
            if (!v || v === "") {
                return _colorLookup.black;
            }
            if (typeof (v) === "number") {
                return [v >> 16, (v >> 8) & 255, v & 255];
            }
            if (v.charAt(v.length - 1) === ",") {
                v = v.substr(0, v.length - 1);
            }
            if (_colorLookup[v]) {
                return _colorLookup[v];
            }
            if (v.charAt(0) === "#") {
                if (v.length === 4) {
                    c1 = v.charAt(1), c2 = v.charAt(2), c3 = v.charAt(3);
                    v = "#" + c1 + c1 + c2 + c2 + c3 + c3;
                }
                v = parseInt(v.substr(1), 16);
                return [v >> 16, (v >> 8) & 255, v & 255];
            }
            if (v.substr(0, 3) === "hsl") {
                v = v.match(_numExp);
                h = (Number(v[0]) % 360) / 360;
                s = Number(v[1]) / 100;
                l = Number(v[2]) / 100;
                c2 = (l <= 0.5) ? l * (s + 1) : l + s - l * s;
                c1 = l * 2 - c2;
                if (v.length > 3) {
                    v[3] = Number(v[3]);
                }
                v[0] = _hue(h + 1 / 3, c1, c2);
                v[1] = _hue(h, c1, c2);
                v[2] = _hue(h - 1 / 3, c1, c2);
                return v;
            }
            v = v.match(_numExp) || _colorLookup.transparent;
            v[0] = Number(v[0]);
            v[1] = Number(v[1]);
            v[2] = Number(v[2]);
            if (v.length > 3) {
                v[3] = Number(v[3]);
            }
            return v;
        }, _colorExp = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";
        for (p in _colorLookup) {
            _colorExp += "|" + p + "\\b";
        }
        _colorExp = new RegExp(_colorExp + ")", "gi");
        var _getFormatter = function(dflt, clr, collapsible, multi) {
            if (dflt == null) {
                return function(v) {
                    return v;
                };
            }
            var dColor = clr ? (dflt.match(_colorExp) || [""])[0] : "", dVals = dflt.split(dColor).join("").match(_valuesExp) || [], pfx = dflt.substr(0, dflt.indexOf(dVals[0])), sfx = (dflt.charAt(dflt.length - 1) === ")") ? ")" : "", delim = (dflt.indexOf(" ") !== -1) ? " " : ",", numVals = dVals.length, dSfx = (numVals > 0) ? dVals[0].replace(_numExp, "") : "", formatter;
            if (!numVals) {
                return function(v) {
                    return v;
                };
            }
            if (clr) {
                formatter = function(v) {
                    var color, vals, i, a;
                    if (typeof (v) === "number") {
                        v += dSfx;
                    } else if (multi && _commasOutsideParenExp.test(v)) {
                        a = v.replace(_commasOutsideParenExp, "|").split("|");
                        for (i = 0; i < a.length; i++) {
                            a[i] = formatter(a[i]);
                        }
                        return a.join(",");
                    }
                    color = (v.match(_colorExp) || [dColor])[0];
                    vals = v.split(color).join("").match(_valuesExp) || [];
                    i = vals.length;
                    if (numVals > i--) {
                        while (++i < numVals) {
                            vals[i] = collapsible ? vals[(((i - 1) / 2) | 0)] : dVals[i];
                        }
                    }
                    return pfx + vals.join(delim) + delim + color + sfx + (v.indexOf("inset") !== -1 ? " inset" : "");
                };
                return formatter;
            }
            formatter = function(v) {
                var vals, a, i;
                if (typeof (v) === "number") {
                    v += dSfx;
                } else if (multi && _commasOutsideParenExp.test(v)) {
                    a = v.replace(_commasOutsideParenExp, "|").split("|");
                    for (i = 0; i < a.length; i++) {
                        a[i] = formatter(a[i]);
                    }
                    return a.join(",");
                }
                vals = v.match(_valuesExp) || [];
                i = vals.length;
                if (numVals > i--) {
                    while (++i < numVals) {
                        vals[i] = collapsible ? vals[(((i - 1) / 2) | 0)] : dVals[i];
                    }
                }
                return pfx + vals.join(delim) + sfx;
            };
            return formatter;
        }, _getEdgeParser = function(props) {
            props = props.split(",");
            return function(t, e, p, cssp, pt, plugin, vars) {
                var a = (e + "").split(" "), i;
                vars = {};
                for (i = 0; i < 4; i++) {
                    vars[props[i]] = a[i] = a[i] || a[(((i - 1) / 2) >> 0)];
                }
                return cssp.parse(t, vars, pt, plugin);
            };
        }, _setPluginRatio = _internals._setPluginRatio = function(v) {
            this.plugin.setRatio(v);
            var d = this.data, proxy = d.proxy, mpt = d.firstMPT, min = 0.000001, val, pt, i, str;
            while (mpt) {
                val = proxy[mpt.v];
                if (mpt.r) {
                    val = (val > 0) ? (val + 0.5) | 0 : (val - 0.5) | 0;
                } else if (val < min && val > -min) {
                    val = 0;
                }
                mpt.t[mpt.p] = val;
                mpt = mpt._next;
            }
            if (d.autoRotate) {
                d.autoRotate.rotation = proxy.rotation;
            }
            if (v === 1) {
                mpt = d.firstMPT;
                while (mpt) {
                    pt = mpt.t;
                    if (!pt.type) {
                        pt.e = pt.s + pt.xs0;
                    } else if (pt.type === 1) {
                        str = pt.xs0 + pt.s + pt.xs1;
                        for (i = 1; i < pt.l; i++) {
                            str += pt["xn" + i] + pt["xs" + (i + 1)];
                        }
                        pt.e = str;
                    }
                    mpt = mpt._next;
                }
            }
        }, MiniPropTween = function(t, p, v, next, r) {
            this.t = t;
            this.p = p;
            this.v = v;
            this.r = r;
            if (next) {
                next._prev = this;
                this._next = next;
            }
        }, _parseToProxy = _internals._parseToProxy = function(t, vars, cssp, pt, plugin, shallow) {
            var bpt = pt, start = {}, end = {}, transform = cssp._transform, oldForce = _forcePT, i, p, xp, mpt, firstPT;
            cssp._transform = null;
            _forcePT = vars;
            pt = firstPT = cssp.parse(t, vars, pt, plugin);
            _forcePT = oldForce;
            if (shallow) {
                cssp._transform = transform;
                if (bpt) {
                    bpt._prev = null;
                    if (bpt._prev) {
                        bpt._prev._next = null;
                    }
                }
            }
            while (pt && pt !== bpt) {
                if (pt.type <= 1) {
                    p = pt.p;
                    end[p] = pt.s + pt.c;
                    start[p] = pt.s;
                    if (!shallow) {
                        mpt = new MiniPropTween(pt, "s", p, mpt, pt.r);
                        pt.c = 0;
                    }
                    if (pt.type === 1) {
                        i = pt.l;
                        while (--i > 0) {
                            xp = "xn" + i;
                            p = pt.p + "_" + xp;
                            end[p] = pt.data[xp];
                            start[p] = pt[xp];
                            if (!shallow) {
                                mpt = new MiniPropTween(pt, xp, p, mpt, pt.rxp[xp]);
                            }
                        }
                    }
                }
                pt = pt._next;
            }
            return {proxy: start,end: end,firstMPT: mpt,pt: firstPT};
        }, CSSPropTween = _internals.CSSPropTween = function(t, p, s, c, next, type, n, r, pr, b, e) {
            this.t = t;
            this.p = p;
            this.s = s;
            this.c = c;
            this.n = n || p;
            if (!(t instanceof CSSPropTween)) {
                _overwriteProps.push(this.n);
            }
            this.r = r;
            this.type = type || 0;
            if (pr) {
                this.pr = pr;
                _hasPriority = true;
            }
            this.b = (b === undefined) ? s : b;
            this.e = (e === undefined) ? s + c : e;
            if (next) {
                this._next = next;
                next._prev = this;
            }
        }, _parseComplex = CSSPlugin.parseComplex = function(t, p, b, e, clrs, dflt, pt, pr, plugin, setRatio) {
            b = b || dflt || "";
            pt = new CSSPropTween(t, p, 0, 0, pt, (setRatio ? 2 : 1), null, false, pr, b, e);
            e += "";
            var ba = b.split(", ").join(",").split(" "), ea = e.split(", ").join(",").split(" "), l = ba.length, autoRound = (_autoRound !== false), i, xi, ni, bv, ev, bnums, enums, bn, rgba, temp, cv, str;
            if (e.indexOf(",") !== -1 || b.indexOf(",") !== -1) {
                ba = ba.join(" ").replace(_commasOutsideParenExp, ", ").split(" ");
                ea = ea.join(" ").replace(_commasOutsideParenExp, ", ").split(" ");
                l = ba.length;
            }
            if (l !== ea.length) {
                ba = (dflt || "").split(" ");
                l = ba.length;
            }
            pt.plugin = plugin;
            pt.setRatio = setRatio;
            for (i = 0; i < l; i++) {
                bv = ba[i];
                ev = ea[i];
                bn = parseFloat(bv);
                if (bn || bn === 0) {
                    pt.appendXtra("", bn, _parseChange(ev, bn), ev.replace(_relNumExp, ""), (autoRound && ev.indexOf("px") !== -1), true);
                } else if (clrs && (bv.charAt(0) === "#" || _colorLookup[bv] || _rgbhslExp.test(bv))) {
                    str = ev.charAt(ev.length - 1) === "," ? ")," : ")";
                    bv = _parseColor(bv);
                    ev = _parseColor(ev);
                    rgba = (bv.length + ev.length > 6);
                    if (rgba && !_supportsOpacity && ev[3] === 0) {
                        pt["xs" + pt.l] += pt.l ? " transparent" : "transparent";
                        pt.e = pt.e.split(ea[i]).join("transparent");
                    } else {
                        if (!_supportsOpacity) {
                            rgba = false;
                        }
                        pt.appendXtra((rgba ? "rgba(" : "rgb("), bv[0], ev[0] - bv[0], ",", true, true).appendXtra("", bv[1], ev[1] - bv[1], ",", true).appendXtra("", bv[2], ev[2] - bv[2], (rgba ? "," : str), true);
                        if (rgba) {
                            bv = (bv.length < 4) ? 1 : bv[3];
                            pt.appendXtra("", bv, ((ev.length < 4) ? 1 : ev[3]) - bv, str, false);
                        }
                    }
                } else {
                    bnums = bv.match(_numExp);
                    if (!bnums) {
                        pt["xs" + pt.l] += pt.l ? " " + bv : bv;
                    } else {
                        enums = ev.match(_relNumExp);
                        if (!enums || enums.length !== bnums.length) {
                            return pt;
                        }
                        ni = 0;
                        for (xi = 0; xi < bnums.length; xi++) {
                            cv = bnums[xi];
                            temp = bv.indexOf(cv, ni);
                            pt.appendXtra(bv.substr(ni, temp - ni), Number(cv), _parseChange(enums[xi], cv), "", (autoRound && bv.substr(temp + cv.length, 2) === "px"), (xi === 0));
                            ni = temp + cv.length;
                        }
                        pt["xs" + pt.l] += bv.substr(ni);
                    }
                }
            }
            if (e.indexOf("=") !== -1)
                if (pt.data) {
                    str = pt.xs0 + pt.data.s;
                    for (i = 1; i < pt.l; i++) {
                        str += pt["xs" + i] + pt.data["xn" + i];
                    }
                    pt.e = str + pt["xs" + i];
                }
            if (!pt.l) {
                pt.type = -1;
                pt.xs0 = pt.e;
            }
            return pt.xfirst || pt;
        }, i = 9;
        p = CSSPropTween.prototype;
        p.l = p.pr = 0;
        while (--i > 0) {
            p["xn" + i] = 0;
            p["xs" + i] = "";
        }
        p.xs0 = "";
        p._next = p._prev = p.xfirst = p.data = p.plugin = p.setRatio = p.rxp = null;
        p.appendXtra = function(pfx, s, c, sfx, r, pad) {
            var pt = this, l = pt.l;
            pt["xs" + l] += (pad && l) ? " " + pfx : pfx || "";
            if (!c)
                if (l !== 0 && !pt.plugin) {
                    pt["xs" + l] += s + (sfx || "");
                    return pt;
                }
            pt.l++;
            pt.type = pt.setRatio ? 2 : 1;
            pt["xs" + pt.l] = sfx || "";
            if (l > 0) {
                pt.data["xn" + l] = s + c;
                pt.rxp["xn" + l] = r;
                pt["xn" + l] = s;
                if (!pt.plugin) {
                    pt.xfirst = new CSSPropTween(pt, "xn" + l, s, c, pt.xfirst || pt, 0, pt.n, r, pt.pr);
                    pt.xfirst.xs0 = 0;
                }
                return pt;
            }
            pt.data = {s: s + c};
            pt.rxp = {};
            pt.s = s;
            pt.c = c;
            pt.r = r;
            return pt;
        };
        var SpecialProp = function(p, options) {
            options = options || {};
            this.p = options.prefix ? _checkPropPrefix(p) || p : p;
            _specialProps[p] = _specialProps[this.p] = this;
            this.format = options.formatter || _getFormatter(options.defaultValue, options.color, options.collapsible, options.multi);
            if (options.parser) {
                this.parse = options.parser;
            }
            this.clrs = options.color;
            this.multi = options.multi;
            this.keyword = options.keyword;
            this.dflt = options.defaultValue;
            this.pr = options.priority || 0;
        }, _registerComplexSpecialProp = _internals._registerComplexSpecialProp = function(p, options, defaults) {
            if (typeof (options) !== "object") {
                options = {parser: defaults};
            }
            var a = p.split(","), d = options.defaultValue, i, temp;
            defaults = defaults || [d];
            for (i = 0; i < a.length; i++) {
                options.prefix = (i === 0 && options.prefix);
                options.defaultValue = defaults[i] || d;
                temp = new SpecialProp(a[i], options);
            }
        }, _registerPluginProp = function(p) {
            if (!_specialProps[p]) {
                var pluginName = p.charAt(0).toUpperCase() + p.substr(1) + "Plugin";
                _registerComplexSpecialProp(p, {parser: function(t, e, p, cssp, pt, plugin, vars) {
                        var pluginClass = (window.GreenSockGlobals || window).com.greensock.plugins[pluginName];
                        if (!pluginClass) {
                            _log("Error: " + pluginName + " js file not loaded.");
                            return pt;
                        }
                        pluginClass._cssRegister();
                        return _specialProps[p].parse(t, e, p, cssp, pt, plugin, vars);
                    }});
            }
        };
        p = SpecialProp.prototype;
        p.parseComplex = function(t, b, e, pt, plugin, setRatio) {
            var kwd = this.keyword, i, ba, ea, l, bi, ei;
            if (this.multi)
                if (_commasOutsideParenExp.test(e) || _commasOutsideParenExp.test(b)) {
                    ba = b.replace(_commasOutsideParenExp, "|").split("|");
                    ea = e.replace(_commasOutsideParenExp, "|").split("|");
                } else if (kwd) {
                    ba = [b];
                    ea = [e];
                }
            if (ea) {
                l = (ea.length > ba.length) ? ea.length : ba.length;
                for (i = 0; i < l; i++) {
                    b = ba[i] = ba[i] || this.dflt;
                    e = ea[i] = ea[i] || this.dflt;
                    if (kwd) {
                        bi = b.indexOf(kwd);
                        ei = e.indexOf(kwd);
                        if (bi !== ei) {
                            e = (ei === -1) ? ea : ba;
                            e[i] += " " + kwd;
                        }
                    }
                }
                b = ba.join(", ");
                e = ea.join(", ");
            }
            return _parseComplex(t, this.p, b, e, this.clrs, this.dflt, pt, this.pr, plugin, setRatio);
        };
        p.parse = function(t, e, p, cssp, pt, plugin, vars) {
            return this.parseComplex(t.style, this.format(_getStyle(t, this.p, _cs, false, this.dflt)), this.format(e), pt, plugin);
        };
        CSSPlugin.registerSpecialProp = function(name, onInitTween, priority) {
            _registerComplexSpecialProp(name, {parser: function(t, e, p, cssp, pt, plugin, vars) {
                    var rv = new CSSPropTween(t, p, 0, 0, pt, 2, p, false, priority);
                    rv.plugin = plugin;
                    rv.setRatio = onInitTween(t, e, cssp._tween, p);
                    return rv;
                },priority: priority});
        };
        var _transformProps = ("scaleX,scaleY,scaleZ,x,y,z,skewX,rotation,rotationX,rotationY,perspective").split(","), _transformProp = _checkPropPrefix("transform"), _transformPropCSS = _prefixCSS + "transform", _transformOriginProp = _checkPropPrefix("transformOrigin"), _supports3D = (_checkPropPrefix("perspective") !== null), _getTransform = function(t, cs, rec, parse) {
            if (t._gsTransform && rec && !parse) {
                return t._gsTransform;
            }
            var tm = rec ? t._gsTransform || {skewY: 0} : {skewY: 0}, invX = (tm.scaleX < 0), min = 0.00002, rnd = 100000, minPI = -Math.PI + 0.0001, maxPI = Math.PI - 0.0001, zOrigin = _supports3D ? parseFloat(_getStyle(t, _transformOriginProp, cs, false, "0 0 0").split(" ")[2]) || tm.zOrigin || 0 : 0, s, m, i, n, dec, scaleX, scaleY, rotation, skewX, difX, difY, difR, difS;
            if (_transformProp) {
                s = _getStyle(t, _transformPropCSS, cs, true);
            } else if (t.currentStyle) {
                s = t.currentStyle.filter.match(_ieGetMatrixExp);
                s = (s && s.length === 4) ? [s[0].substr(4), Number(s[2].substr(4)), Number(s[1].substr(4)), s[3].substr(4), (tm.x || 0), (tm.y || 0)].join(",") : "";
            }
            m = (s || "").match(/(?:\-|\b)[\d\-\.e]+\b/gi) || [];
            i = m.length;
            while (--i > -1) {
                n = Number(m[i]);
                m[i] = (dec = n - (n |= 0)) ? ((dec * rnd + (dec < 0 ? -0.5 : 0.5)) | 0) / rnd + n : n;
            }
            if (m.length === 16) {
                var a13 = m[8], a23 = m[9], a33 = m[10], a14 = m[12], a24 = m[13], a34 = m[14];
                if (tm.zOrigin) {
                    a34 = -tm.zOrigin;
                    a14 = a13 * a34 - m[12];
                    a24 = a23 * a34 - m[13];
                    a34 = a33 * a34 + tm.zOrigin - m[14];
                }
                if (!rec || parse || tm.rotationX == null) {
                    var a11 = m[0], a21 = m[1], a31 = m[2], a41 = m[3], a12 = m[4], a22 = m[5], a32 = m[6], a42 = m[7], a43 = m[11], angle = tm.rotationX = Math.atan2(a32, a33), xFlip = (angle < minPI || angle > maxPI), t1, t2, t3, cos, sin, yFlip, zFlip;
                    if (angle) {
                        cos = Math.cos(-angle);
                        sin = Math.sin(-angle);
                        t1 = a12 * cos + a13 * sin;
                        t2 = a22 * cos + a23 * sin;
                        t3 = a32 * cos + a33 * sin;
                        a13 = a12 * -sin + a13 * cos;
                        a23 = a22 * -sin + a23 * cos;
                        a33 = a32 * -sin + a33 * cos;
                        a43 = a42 * -sin + a43 * cos;
                        a12 = t1;
                        a22 = t2;
                        a32 = t3;
                    }
                    angle = tm.rotationY = Math.atan2(a13, a11);
                    if (angle) {
                        yFlip = (angle < minPI || angle > maxPI);
                        cos = Math.cos(-angle);
                        sin = Math.sin(-angle);
                        t1 = a11 * cos - a13 * sin;
                        t2 = a21 * cos - a23 * sin;
                        t3 = a31 * cos - a33 * sin;
                        a23 = a21 * sin + a23 * cos;
                        a33 = a31 * sin + a33 * cos;
                        a43 = a41 * sin + a43 * cos;
                        a11 = t1;
                        a21 = t2;
                        a31 = t3;
                    }
                    angle = tm.rotation = Math.atan2(a21, a22);
                    if (angle) {
                        zFlip = (angle < minPI || angle > maxPI);
                        cos = Math.cos(-angle);
                        sin = Math.sin(-angle);
                        a11 = a11 * cos + a12 * sin;
                        t2 = a21 * cos + a22 * sin;
                        a22 = a21 * -sin + a22 * cos;
                        a32 = a31 * -sin + a32 * cos;
                        a21 = t2;
                    }
                    if (zFlip && xFlip) {
                        tm.rotation = tm.rotationX = 0;
                    } else if (zFlip && yFlip) {
                        tm.rotation = tm.rotationY = 0;
                    } else if (yFlip && xFlip) {
                        tm.rotationY = tm.rotationX = 0;
                    }
                    tm.scaleX = ((Math.sqrt(a11 * a11 + a21 * a21) * rnd + 0.5) | 0) / rnd;
                    tm.scaleY = ((Math.sqrt(a22 * a22 + a23 * a23) * rnd + 0.5) | 0) / rnd;
                    tm.scaleZ = ((Math.sqrt(a32 * a32 + a33 * a33) * rnd + 0.5) | 0) / rnd;
                    tm.skewX = 0;
                    tm.perspective = a43 ? 1 / ((a43 < 0) ? -a43 : a43) : 0;
                    tm.x = a14;
                    tm.y = a24;
                    tm.z = a34;
                }
            } else if ((!_supports3D || parse || !m.length || tm.x !== m[4] || tm.y !== m[5] || (!tm.rotationX && !tm.rotationY)) && !(tm.x !== undefined && _getStyle(t, "display", cs) === "none")) {
                var k = (m.length >= 6), a = k ? m[0] : 1, b = m[1] || 0, c = m[2] || 0, d = k ? m[3] : 1;
                tm.x = m[4] || 0;
                tm.y = m[5] || 0;
                scaleX = Math.sqrt(a * a + b * b);
                scaleY = Math.sqrt(d * d + c * c);
                rotation = (a || b) ? Math.atan2(b, a) : tm.rotation || 0;
                skewX = (c || d) ? Math.atan2(c, d) + rotation : tm.skewX || 0;
                difX = scaleX - Math.abs(tm.scaleX || 0);
                difY = scaleY - Math.abs(tm.scaleY || 0);
                if (Math.abs(skewX) > Math.PI / 2 && Math.abs(skewX) < Math.PI * 1.5) {
                    if (invX) {
                        scaleX *= -1;
                        skewX += (rotation <= 0) ? Math.PI : -Math.PI;
                        rotation += (rotation <= 0) ? Math.PI : -Math.PI;
                    } else {
                        scaleY *= -1;
                        skewX += (skewX <= 0) ? Math.PI : -Math.PI;
                    }
                }
                difR = (rotation - tm.rotation) % Math.PI;
                difS = (skewX - tm.skewX) % Math.PI;
                if (tm.skewX === undefined || difX > min || difX < -min || difY > min || difY < -min || (difR > minPI && difR < maxPI && (difR * rnd) | 0 !== 0) || (difS > minPI && difS < maxPI && (difS * rnd) | 0 !== 0)) {
                    tm.scaleX = scaleX;
                    tm.scaleY = scaleY;
                    tm.rotation = rotation;
                    tm.skewX = skewX;
                }
                if (_supports3D) {
                    tm.rotationX = tm.rotationY = tm.z = 0;
                    tm.perspective = parseFloat(CSSPlugin.defaultTransformPerspective) || 0;
                    tm.scaleZ = 1;
                }
            }
            tm.zOrigin = zOrigin;
            for (i in tm) {
                if (tm[i] < min)
                    if (tm[i] > -min) {
                        tm[i] = 0;
                    }
            }
            if (rec) {
                t._gsTransform = tm;
            }
            return tm;
        }, _setIETransformRatio = function(v) {
            var t = this.data, ang = -t.rotation, skew = ang + t.skewX, rnd = 100000, a = ((Math.cos(ang) * t.scaleX * rnd) | 0) / rnd, b = ((Math.sin(ang) * t.scaleX * rnd) | 0) / rnd, c = ((Math.sin(skew) * -t.scaleY * rnd) | 0) / rnd, d = ((Math.cos(skew) * t.scaleY * rnd) | 0) / rnd, style = this.t.style, cs = this.t.currentStyle, filters, val;
            if (!cs) {
                return;
            }
            val = b;
            b = -c;
            c = -val;
            filters = cs.filter;
            style.filter = "";
            var w = this.t.offsetWidth, h = this.t.offsetHeight, clip = (cs.position !== "absolute"), m = "progid:DXImageTransform.Microsoft.Matrix(M11=" + a + ", M12=" + b + ", M21=" + c + ", M22=" + d, ox = t.x, oy = t.y, dx, dy;
            if (t.ox != null) {
                dx = ((t.oxp) ? w * t.ox * 0.01 : t.ox) - w / 2;
                dy = ((t.oyp) ? h * t.oy * 0.01 : t.oy) - h / 2;
                ox += dx - (dx * a + dy * b);
                oy += dy - (dx * c + dy * d);
            }
            if (!clip) {
                m += ", sizingMethod='auto expand')";
            } else {
                dx = (w / 2);
                dy = (h / 2);
                m += ", Dx=" + (dx - (dx * a + dy * b) + ox) + ", Dy=" + (dy - (dx * c + dy * d) + oy) + ")";
            }
            if (filters.indexOf("DXImageTransform.Microsoft.Matrix(") !== -1) {
                style.filter = filters.replace(_ieSetMatrixExp, m);
            } else {
                style.filter = m + " " + filters;
            }
            if (v === 0 || v === 1)
                if (a === 1)
                    if (b === 0)
                        if (c === 0)
                            if (d === 1)
                                if (!clip || m.indexOf("Dx=0, Dy=0") !== -1)
                                    if (!_opacityExp.test(filters) || parseFloat(RegExp.$1) === 100)
                                        if (filters.indexOf("gradient(" && filters.indexOf("Alpha")) === -1) {
                                            style.removeAttribute("filter");
                                        }
            if (!clip) {
                var mult = (_ieVers < 8) ? 1 : -1, marg, prop, dif;
                dx = t.ieOffsetX || 0;
                dy = t.ieOffsetY || 0;
                t.ieOffsetX = Math.round((w - ((a < 0 ? -a : a) * w + (b < 0 ? -b : b) * h)) / 2 + ox);
                t.ieOffsetY = Math.round((h - ((d < 0 ? -d : d) * h + (c < 0 ? -c : c) * w)) / 2 + oy);
                for (i = 0; i < 4; i++) {
                    prop = _margins[i];
                    marg = cs[prop];
                    val = (marg.indexOf("px") !== -1) ? parseFloat(marg) : _convertToPixels(this.t, prop, parseFloat(marg), marg.replace(_suffixExp, "")) || 0;
                    if (val !== t[prop]) {
                        dif = (i < 2) ? -t.ieOffsetX : -t.ieOffsetY;
                    } else {
                        dif = (i < 2) ? dx - t.ieOffsetX : dy - t.ieOffsetY;
                    }
                    style[prop] = (t[prop] = Math.round(val - dif * ((i === 0 || i === 2) ? 1 : mult))) + "px";
                }
            }
        }, _set3DTransformRatio = function(v) {
            var t = this.data, style = this.t.style, angle = t.rotation, sx = t.scaleX, sy = t.scaleY, sz = t.scaleZ, perspective = t.perspective, a11, a12, a13, a14, a21, a22, a23, a24, a31, a32, a33, a34, a41, a42, a43, zOrigin, rnd, cos, sin, t1, t2, t3, t4, ffProp, n, sfx;
            if (_isFirefox) {
                ffProp = style.top ? "top" : style.bottom ? "bottom" : parseFloat(_getStyle(this.t, "top", null, false)) ? "bottom" : "top";
                t1 = _getStyle(this.t, ffProp, null, false);
                n = parseFloat(t1) || 0;
                sfx = t1.substr((n + "").length) || "px";
                t._ffFix = !t._ffFix;
                style[ffProp] = (t._ffFix ? n + 0.05 : n - 0.05) + sfx;
            }
            if (angle || t.skewX) {
                cos = Math.cos(angle);
                sin = Math.sin(angle);
                a11 = cos;
                a21 = sin;
                if (t.skewX) {
                    angle -= t.skewX;
                    cos = Math.cos(angle);
                    sin = Math.sin(angle);
                }
                a12 = -sin;
                a22 = cos;
            } else if (!t.rotationY && !t.rotationX && sz === 1 && !perspective) {
                style[_transformProp] = "translate3d(" + t.x + "px," + t.y + "px," + t.z + "px)" + ((sx !== 1 || sy !== 1) ? " scale(" + sx + "," + sy + ")" : "");
                return;
            } else {
                a11 = a22 = 1;
                a12 = a21 = 0;
            }
            a33 = 1;
            a13 = a14 = a23 = a24 = a31 = a32 = a34 = a41 = a42 = 0;
            a43 = (perspective) ? -1 / perspective : 0;
            zOrigin = t.zOrigin;
            rnd = 100000;
            angle = t.rotationY;
            if (angle) {
                cos = Math.cos(angle);
                sin = Math.sin(angle);
                a31 = a33 * -sin;
                a41 = a43 * -sin;
                a13 = a11 * sin;
                a23 = a21 * sin;
                a33 *= cos;
                a43 *= cos;
                a11 *= cos;
                a21 *= cos;
            }
            angle = t.rotationX;
            if (angle) {
                cos = Math.cos(angle);
                sin = Math.sin(angle);
                t1 = a12 * cos + a13 * sin;
                t2 = a22 * cos + a23 * sin;
                t3 = a32 * cos + a33 * sin;
                t4 = a42 * cos + a43 * sin;
                a13 = a12 * -sin + a13 * cos;
                a23 = a22 * -sin + a23 * cos;
                a33 = a32 * -sin + a33 * cos;
                a43 = a42 * -sin + a43 * cos;
                a12 = t1;
                a22 = t2;
                a32 = t3;
                a42 = t4;
            }
            if (sz !== 1) {
                a13 *= sz;
                a23 *= sz;
                a33 *= sz;
                a43 *= sz;
            }
            if (sy !== 1) {
                a12 *= sy;
                a22 *= sy;
                a32 *= sy;
                a42 *= sy;
            }
            if (sx !== 1) {
                a11 *= sx;
                a21 *= sx;
                a31 *= sx;
                a41 *= sx;
            }
            if (zOrigin) {
                a34 -= zOrigin;
                a14 = a13 * a34;
                a24 = a23 * a34;
                a34 = a33 * a34 + zOrigin;
            }
            a14 = (t1 = (a14 += t.x) - (a14 |= 0)) ? ((t1 * rnd + (t1 < 0 ? -0.5 : 0.5)) | 0) / rnd + a14 : a14;
            a24 = (t1 = (a24 += t.y) - (a24 |= 0)) ? ((t1 * rnd + (t1 < 0 ? -0.5 : 0.5)) | 0) / rnd + a24 : a24;
            a34 = (t1 = (a34 += t.z) - (a34 |= 0)) ? ((t1 * rnd + (t1 < 0 ? -0.5 : 0.5)) | 0) / rnd + a34 : a34;
            style[_transformProp] = "matrix3d(" + [(((a11 * rnd) | 0) / rnd), (((a21 * rnd) | 0) / rnd), (((a31 * rnd) | 0) / rnd), (((a41 * rnd) | 0) / rnd), (((a12 * rnd) | 0) / rnd), (((a22 * rnd) | 0) / rnd), (((a32 * rnd) | 0) / rnd), (((a42 * rnd) | 0) / rnd), (((a13 * rnd) | 0) / rnd), (((a23 * rnd) | 0) / rnd), (((a33 * rnd) | 0) / rnd), (((a43 * rnd) | 0) / rnd), a14, a24, a34, (perspective ? (1 + (-a34 / perspective)) : 1)].join(",") + ")";
        }, _set2DTransformRatio = function(v) {
            var t = this.data, targ = this.t, style = targ.style, ffProp, t1, n, sfx, ang, skew, rnd, sx, sy;
            if (_isFirefox) {
                ffProp = style.top ? "top" : style.bottom ? "bottom" : parseFloat(_getStyle(targ, "top", null, false)) ? "bottom" : "top";
                t1 = _getStyle(targ, ffProp, null, false);
                n = parseFloat(t1) || 0;
                sfx = t1.substr((n + "").length) || "px";
                t._ffFix = !t._ffFix;
                style[ffProp] = (t._ffFix ? n + 0.05 : n - 0.05) + sfx;
            }
            if (!t.rotation && !t.skewX) {
                style[_transformProp] = "matrix(" + t.scaleX + ",0,0," + t.scaleY + "," + t.x + "," + t.y + ")";
            } else {
                ang = t.rotation;
                skew = ang - t.skewX;
                rnd = 100000;
                sx = t.scaleX * rnd;
                sy = t.scaleY * rnd;
                style[_transformProp] = "matrix(" + (((Math.cos(ang) * sx) | 0) / rnd) + "," + (((Math.sin(ang) * sx) | 0) / rnd) + "," + (((Math.sin(skew) * -sy) | 0) / rnd) + "," + (((Math.cos(skew) * sy) | 0) / rnd) + "," + t.x + "," + t.y + ")";
            }
        };
        _registerComplexSpecialProp("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D", {parser: function(t, e, p, cssp, pt, plugin, vars) {
                if (cssp._transform) {
                    return pt;
                }
                var m1 = cssp._transform = _getTransform(t, _cs, true, vars.parseTransform), style = t.style, min = 0.000001, i = _transformProps.length, v = vars, endRotations = {}, m2, skewY, copy, orig, has3D, hasChange, dr;
                if (typeof (v.transform) === "string" && _transformProp) {
                    copy = style.cssText;
                    style[_transformProp] = v.transform;
                    style.display = "block";
                    m2 = _getTransform(t, null, false);
                    style.cssText = copy;
                } else if (typeof (v) === "object") {
                    m2 = {scaleX: _parseVal((v.scaleX != null) ? v.scaleX : v.scale, m1.scaleX),scaleY: _parseVal((v.scaleY != null) ? v.scaleY : v.scale, m1.scaleY),scaleZ: _parseVal((v.scaleZ != null) ? v.scaleZ : v.scale, m1.scaleZ),x: _parseVal(v.x, m1.x),y: _parseVal(v.y, m1.y),z: _parseVal(v.z, m1.z),perspective: _parseVal(v.transformPerspective, m1.perspective)};
                    dr = v.directionalRotation;
                    if (dr != null) {
                        if (typeof (dr) === "object") {
                            for (copy in dr) {
                                v[copy] = dr[copy];
                            }
                        } else {
                            v.rotation = dr;
                        }
                    }
                    m2.rotation = _parseAngle(("rotation" in v) ? v.rotation : ("shortRotation" in v) ? v.shortRotation + "_short" : ("rotationZ" in v) ? v.rotationZ : (m1.rotation * _RAD2DEG), m1.rotation, "rotation", endRotations);
                    if (_supports3D) {
                        m2.rotationX = _parseAngle(("rotationX" in v) ? v.rotationX : ("shortRotationX" in v) ? v.shortRotationX + "_short" : (m1.rotationX * _RAD2DEG) || 0, m1.rotationX, "rotationX", endRotations);
                        m2.rotationY = _parseAngle(("rotationY" in v) ? v.rotationY : ("shortRotationY" in v) ? v.shortRotationY + "_short" : (m1.rotationY * _RAD2DEG) || 0, m1.rotationY, "rotationY", endRotations);
                    }
                    m2.skewX = (v.skewX == null) ? m1.skewX : _parseAngle(v.skewX, m1.skewX);
                    m2.skewY = (v.skewY == null) ? m1.skewY : _parseAngle(v.skewY, m1.skewY);
                    if ((skewY = m2.skewY - m1.skewY)) {
                        m2.skewX += skewY;
                        m2.rotation += skewY;
                    }
                }
                if (v.force3D != null) {
                    m1.force3D = v.force3D;
                    hasChange = true;
                }
                has3D = (m1.force3D || m1.z || m1.rotationX || m1.rotationY || m2.z || m2.rotationX || m2.rotationY || m2.perspective);
                if (!has3D && v.scale != null) {
                    m2.scaleZ = 1;
                }
                while (--i > -1) {
                    p = _transformProps[i];
                    orig = m2[p] - m1[p];
                    if (orig > min || orig < -min || _forcePT[p] != null) {
                        hasChange = true;
                        pt = new CSSPropTween(m1, p, m1[p], orig, pt);
                        if (p in endRotations) {
                            pt.e = endRotations[p];
                        }
                        pt.xs0 = 0;
                        pt.plugin = plugin;
                        cssp._overwriteProps.push(pt.n);
                    }
                }
                orig = v.transformOrigin;
                if (orig || (_supports3D && has3D && m1.zOrigin)) {
                    if (_transformProp) {
                        hasChange = true;
                        p = _transformOriginProp;
                        orig = (orig || _getStyle(t, p, _cs, false, "50% 50%")) + "";
                        pt = new CSSPropTween(style, p, 0, 0, pt, -1, "transformOrigin");
                        pt.b = style[p];
                        pt.plugin = plugin;
                        if (_supports3D) {
                            copy = m1.zOrigin;
                            orig = orig.split(" ");
                            m1.zOrigin = ((orig.length > 2 && !(copy !== 0 && orig[2] === "0px")) ? parseFloat(orig[2]) : copy) || 0;
                            pt.xs0 = pt.e = style[p] = orig[0] + " " + (orig[1] || "50%") + " 0px";
                            pt = new CSSPropTween(m1, "zOrigin", 0, 0, pt, -1, pt.n);
                            pt.b = copy;
                            pt.xs0 = pt.e = m1.zOrigin;
                        } else {
                            pt.xs0 = pt.e = style[p] = orig;
                        }
                    } else {
                        _parsePosition(orig + "", m1);
                    }
                }
                if (hasChange) {
                    cssp._transformType = (has3D || this._transformType === 3) ? 3 : 2;
                }
                return pt;
            },prefix: true});
        _registerComplexSpecialProp("boxShadow", {defaultValue: "0px 0px 0px 0px #999",prefix: true,color: true,multi: true,keyword: "inset"});
        _registerComplexSpecialProp("borderRadius", {defaultValue: "0px",parser: function(t, e, p, cssp, pt, plugin) {
                e = this.format(e);
                var props = ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomRightRadius", "borderBottomLeftRadius"], style = t.style, ea1, i, es2, bs2, bs, es, bn, en, w, h, esfx, bsfx, rel, hn, vn, em;
                w = parseFloat(t.offsetWidth);
                h = parseFloat(t.offsetHeight);
                ea1 = e.split(" ");
                for (i = 0; i < props.length; i++) {
                    if (this.p.indexOf("border")) {
                        props[i] = _checkPropPrefix(props[i]);
                    }
                    bs = bs2 = _getStyle(t, props[i], _cs, false, "0px");
                    if (bs.indexOf(" ") !== -1) {
                        bs2 = bs.split(" ");
                        bs = bs2[0];
                        bs2 = bs2[1];
                    }
                    es = es2 = ea1[i];
                    bn = parseFloat(bs);
                    bsfx = bs.substr((bn + "").length);
                    rel = (es.charAt(1) === "=");
                    if (rel) {
                        en = parseInt(es.charAt(0) + "1", 10);
                        es = es.substr(2);
                        en *= parseFloat(es);
                        esfx = es.substr((en + "").length - (en < 0 ? 1 : 0)) || "";
                    } else {
                        en = parseFloat(es);
                        esfx = es.substr((en + "").length);
                    }
                    if (esfx === "") {
                        esfx = _suffixMap[p] || bsfx;
                    }
                    if (esfx !== bsfx) {
                        hn = _convertToPixels(t, "borderLeft", bn, bsfx);
                        vn = _convertToPixels(t, "borderTop", bn, bsfx);
                        if (esfx === "%") {
                            bs = (hn / w * 100) + "%";
                            bs2 = (vn / h * 100) + "%";
                        } else if (esfx === "em") {
                            em = _convertToPixels(t, "borderLeft", 1, "em");
                            bs = (hn / em) + "em";
                            bs2 = (vn / em) + "em";
                        } else {
                            bs = hn + "px";
                            bs2 = vn + "px";
                        }
                        if (rel) {
                            es = (parseFloat(bs) + en) + esfx;
                            es2 = (parseFloat(bs2) + en) + esfx;
                        }
                    }
                    pt = _parseComplex(style, props[i], bs + " " + bs2, es + " " + es2, false, "0px", pt);
                }
                return pt;
            },prefix: true,formatter: _getFormatter("0px 0px 0px 0px", false, true)});
        _registerComplexSpecialProp("backgroundPosition", {defaultValue: "0 0",parser: function(t, e, p, cssp, pt, plugin) {
                var bp = "background-position", cs = (_cs || _getComputedStyle(t, null)), bs = this.format(((cs) ? _ieVers ? cs.getPropertyValue(bp + "-x") + " " + cs.getPropertyValue(bp + "-y") : cs.getPropertyValue(bp) : t.currentStyle.backgroundPositionX + " " + t.currentStyle.backgroundPositionY) || "0 0"), es = this.format(e), ba, ea, i, pct, overlap, src;
                if ((bs.indexOf("%") !== -1) !== (es.indexOf("%") !== -1)) {
                    src = _getStyle(t, "backgroundImage").replace(_urlExp, "");
                    if (src && src !== "none") {
                        ba = bs.split(" ");
                        ea = es.split(" ");
                        _tempImg.setAttribute("src", src);
                        i = 2;
                        while (--i > -1) {
                            bs = ba[i];
                            pct = (bs.indexOf("%") !== -1);
                            if (pct !== (ea[i].indexOf("%") !== -1)) {
                                overlap = (i === 0) ? t.offsetWidth - _tempImg.width : t.offsetHeight - _tempImg.height;
                                ba[i] = pct ? (parseFloat(bs) / 100 * overlap) + "px" : (parseFloat(bs) / overlap * 100) + "%";
                            }
                        }
                        bs = ba.join(" ");
                    }
                }
                return this.parseComplex(t.style, bs, es, pt, plugin);
            },formatter: _parsePosition});
        _registerComplexSpecialProp("backgroundSize", {defaultValue: "0 0",formatter: _parsePosition});
        _registerComplexSpecialProp("perspective", {defaultValue: "0px",prefix: true});
        _registerComplexSpecialProp("perspectiveOrigin", {defaultValue: "50% 50%",prefix: true});
        _registerComplexSpecialProp("transformStyle", {prefix: true});
        _registerComplexSpecialProp("backfaceVisibility", {prefix: true});
        _registerComplexSpecialProp("margin", {parser: _getEdgeParser("marginTop,marginRight,marginBottom,marginLeft")});
        _registerComplexSpecialProp("padding", {parser: _getEdgeParser("paddingTop,paddingRight,paddingBottom,paddingLeft")});
        _registerComplexSpecialProp("clip", {defaultValue: "rect(0px,0px,0px,0px)",parser: function(t, e, p, cssp, pt, plugin) {
                var b, cs, delim;
                if (_ieVers < 9) {
                    cs = t.currentStyle;
                    delim = _ieVers < 8 ? " " : ",";
                    b = "rect(" + cs.clipTop + delim + cs.clipRight + delim + cs.clipBottom + delim + cs.clipLeft + ")";
                    e = this.format(e).split(",").join(delim);
                } else {
                    b = this.format(_getStyle(t, this.p, _cs, false, this.dflt));
                    e = this.format(e);
                }
                return this.parseComplex(t.style, b, e, pt, plugin);
            }});
        _registerComplexSpecialProp("textShadow", {defaultValue: "0px 0px 0px #999",color: true,multi: true});
        _registerComplexSpecialProp("autoRound,strictUnits", {parser: function(t, e, p, cssp, pt) {
                return pt;
            }});
        _registerComplexSpecialProp("border", {defaultValue: "0px solid #000",parser: function(t, e, p, cssp, pt, plugin) {
                return this.parseComplex(t.style, this.format(_getStyle(t, "borderTopWidth", _cs, false, "0px") + " " + _getStyle(t, "borderTopStyle", _cs, false, "solid") + " " + _getStyle(t, "borderTopColor", _cs, false, "#000")), this.format(e), pt, plugin);
            },color: true,formatter: function(v) {
                var a = v.split(" ");
                return a[0] + " " + (a[1] || "solid") + " " + (v.match(_colorExp) || ["#000"])[0];
            }});
        _registerComplexSpecialProp("float,cssFloat,styleFloat", {parser: function(t, e, p, cssp, pt, plugin) {
                var s = t.style, prop = ("cssFloat" in s) ? "cssFloat" : "styleFloat";
                return new CSSPropTween(s, prop, 0, 0, pt, -1, p, false, 0, s[prop], e);
            }});
        var _setIEOpacityRatio = function(v) {
            var t = this.t, filters = t.filter || _getStyle(this.data, "filter"), val = (this.s + this.c * v) | 0, skip;
            if (val === 100) {
                if (filters.indexOf("atrix(") === -1 && filters.indexOf("radient(") === -1 && filters.indexOf("oader(") === -1) {
                    t.removeAttribute("filter");
                    skip = (!_getStyle(this.data, "filter"));
                } else {
                    t.filter = filters.replace(_alphaFilterExp, "");
                    skip = true;
                }
            }
            if (!skip) {
                if (this.xn1) {
                    t.filter = filters = filters || ("alpha(opacity=" + val + ")");
                }
                if (filters.indexOf("opacity") === -1) {
                    if (val !== 0 || !this.xn1) {
                        t.filter = filters + " alpha(opacity=" + val + ")";
                    }
                } else {
                    t.filter = filters.replace(_opacityExp, "opacity=" + val);
                }
            }
        };
        _registerComplexSpecialProp("opacity,alpha,autoAlpha", {defaultValue: "1",parser: function(t, e, p, cssp, pt, plugin) {
                var b = parseFloat(_getStyle(t, "opacity", _cs, false, "1")), style = t.style, isAutoAlpha = (p === "autoAlpha");
                e = parseFloat(e);
                if (isAutoAlpha && b === 1 && _getStyle(t, "visibility", _cs) === "hidden" && e !== 0) {
                    b = 0;
                }
                if (_supportsOpacity) {
                    pt = new CSSPropTween(style, "opacity", b, e - b, pt);
                } else {
                    pt = new CSSPropTween(style, "opacity", b * 100, (e - b) * 100, pt);
                    pt.xn1 = isAutoAlpha ? 1 : 0;
                    style.zoom = 1;
                    pt.type = 2;
                    pt.b = "alpha(opacity=" + pt.s + ")";
                    pt.e = "alpha(opacity=" + (pt.s + pt.c) + ")";
                    pt.data = t;
                    pt.plugin = plugin;
                    pt.setRatio = _setIEOpacityRatio;
                }
                if (isAutoAlpha) {
                    pt = new CSSPropTween(style, "visibility", 0, 0, pt, -1, null, false, 0, ((b !== 0) ? "inherit" : "hidden"), ((e === 0) ? "hidden" : "inherit"));
                    pt.xs0 = "inherit";
                    cssp._overwriteProps.push(pt.n);
                    cssp._overwriteProps.push(p);
                }
                return pt;
            }});
        var _removeProp = function(s, p) {
            if (p) {
                if (s.removeProperty) {
                    s.removeProperty(p.replace(_capsExp, "-$1").toLowerCase());
                } else {
                    s.removeAttribute(p);
                }
            }
        }, _setClassNameRatio = function(v) {
            this.t._gsClassPT = this;
            if (v === 1 || v === 0) {
                this.t.className = (v === 0) ? this.b : this.e;
                var mpt = this.data, s = this.t.style;
                while (mpt) {
                    if (!mpt.v) {
                        _removeProp(s, mpt.p);
                    } else {
                        s[mpt.p] = mpt.v;
                    }
                    mpt = mpt._next;
                }
                if (v === 1 && this.t._gsClassPT === this) {
                    this.t._gsClassPT = null;
                }
            } else if (this.t.className !== this.e) {
                this.t.className = this.e;
            }
        };
        _registerComplexSpecialProp("className", {parser: function(t, e, p, cssp, pt, plugin, vars) {
                var b = t.className, cssText = t.style.cssText, difData, bs, cnpt, cnptLookup, mpt;
                pt = cssp._classNamePT = new CSSPropTween(t, p, 0, 0, pt, 2);
                pt.setRatio = _setClassNameRatio;
                pt.pr = -11;
                _hasPriority = true;
                pt.b = b;
                bs = _getAllStyles(t, _cs);
                cnpt = t._gsClassPT;
                if (cnpt) {
                    cnptLookup = {};
                    mpt = cnpt.data;
                    while (mpt) {
                        cnptLookup[mpt.p] = 1;
                        mpt = mpt._next;
                    }
                    cnpt.setRatio(1);
                }
                t._gsClassPT = pt;
                pt.e = (e.charAt(1) !== "=") ? e : b.replace(new RegExp("\\s*\\b" + e.substr(2) + "\\b"), "") + ((e.charAt(0) === "+") ? " " + e.substr(2) : "");
                if (cssp._tween._duration) {
                    t.className = pt.e;
                    difData = _cssDif(t, bs, _getAllStyles(t), vars, cnptLookup);
                    t.className = b;
                    pt.data = difData.firstMPT;
                    t.style.cssText = cssText;
                    pt = pt.xfirst = cssp.parse(t, difData.difs, pt, plugin);
                }
                return pt;
            }});
        var _setClearPropsRatio = function(v) {
            if (v === 1 || v === 0)
                if (this.data._totalTime === this.data._totalDuration) {
                    var s = this.t.style, transformParse = _specialProps.transform.parse, a, p, i, clearTransform;
                    if (this.e === "all") {
                        s.cssText = "";
                        clearTransform = true;
                    } else {
                        a = this.e.split(",");
                        i = a.length;
                        while (--i > -1) {
                            p = a[i];
                            if (_specialProps[p]) {
                                if (_specialProps[p].parse === transformParse) {
                                    clearTransform = true;
                                } else {
                                    p = (p === "transformOrigin") ? _transformOriginProp : _specialProps[p].p;
                                }
                            }
                            _removeProp(s, p);
                        }
                    }
                    if (clearTransform) {
                        _removeProp(s, _transformProp);
                        if (this.t._gsTransform) {
                            delete this.t._gsTransform;
                        }
                    }
                }
        };
        _registerComplexSpecialProp("clearProps", {parser: function(t, e, p, cssp, pt) {
                pt = new CSSPropTween(t, p, 0, 0, pt, 2);
                pt.setRatio = _setClearPropsRatio;
                pt.e = e;
                pt.pr = -10;
                pt.data = cssp._tween;
                _hasPriority = true;
                return pt;
            }});
        p = "bezier,throwProps,physicsProps,physics2D".split(",");
        i = p.length;
        while (i--) {
            _registerPluginProp(p[i]);
        }
        p = CSSPlugin.prototype;
        p._firstPT = null;
        p._onInitTween = function(target, vars, tween) {
            if (!target.nodeType) {
                return false;
            }
            this._target = target;
            this._tween = tween;
            this._vars = vars;
            _autoRound = vars.autoRound;
            _hasPriority = false;
            _suffixMap = vars.suffixMap || CSSPlugin.suffixMap;
            _cs = _getComputedStyle(target, "");
            _overwriteProps = this._overwriteProps;
            var style = target.style, v, pt, pt2, first, last, next, zIndex, tpt, threeD;
            if (_reqSafariFix)
                if (style.zIndex === "") {
                    v = _getStyle(target, "zIndex", _cs);
                    if (v === "auto" || v === "") {
                        style.zIndex = 0;
                    }
                }
            if (typeof (vars) === "string") {
                first = style.cssText;
                v = _getAllStyles(target, _cs);
                style.cssText = first + ";" + vars;
                v = _cssDif(target, v, _getAllStyles(target)).difs;
                if (!_supportsOpacity && _opacityValExp.test(vars)) {
                    v.opacity = parseFloat(RegExp.$1);
                }
                vars = v;
                style.cssText = first;
            }
            this._firstPT = pt = this.parse(target, vars, null);
            if (this._transformType) {
                threeD = (this._transformType === 3);
                if (!_transformProp) {
                    style.zoom = 1;
                } else if (_isSafari) {
                    _reqSafariFix = true;
                    if (style.zIndex === "") {
                        zIndex = _getStyle(target, "zIndex", _cs);
                        if (zIndex === "auto" || zIndex === "") {
                            style.zIndex = 0;
                        }
                    }
                    if (_isSafariLT6) {
                        style.WebkitBackfaceVisibility = this._vars.WebkitBackfaceVisibility || (threeD ? "visible" : "hidden");
                    }
                }
                pt2 = pt;
                while (pt2 && pt2._next) {
                    pt2 = pt2._next;
                }
                tpt = new CSSPropTween(target, "transform", 0, 0, null, 2);
                this._linkCSSP(tpt, null, pt2);
                tpt.setRatio = (threeD && _supports3D) ? _set3DTransformRatio : _transformProp ? _set2DTransformRatio : _setIETransformRatio;
                tpt.data = this._transform || _getTransform(target, _cs, true);
                _overwriteProps.pop();
            }
            if (_hasPriority) {
                while (pt) {
                    next = pt._next;
                    pt2 = first;
                    while (pt2 && pt2.pr > pt.pr) {
                        pt2 = pt2._next;
                    }
                    if ((pt._prev = pt2 ? pt2._prev : last)) {
                        pt._prev._next = pt;
                    } else {
                        first = pt;
                    }
                    if ((pt._next = pt2)) {
                        pt2._prev = pt;
                    } else {
                        last = pt;
                    }
                    pt = next;
                }
                this._firstPT = first;
            }
            return true;
        };
        p.parse = function(target, vars, pt, plugin) {
            var style = target.style, p, sp, bn, en, bs, es, bsfx, esfx, isStr, rel;
            for (p in vars) {
                es = vars[p];
                sp = _specialProps[p];
                if (sp) {
                    pt = sp.parse(target, es, p, this, pt, plugin, vars);
                } else {
                    bs = _getStyle(target, p, _cs) + "";
                    isStr = (typeof (es) === "string");
                    if (p === "color" || p === "fill" || p === "stroke" || p.indexOf("Color") !== -1 || (isStr && _rgbhslExp.test(es))) {
                        if (!isStr) {
                            es = _parseColor(es);
                            es = ((es.length > 3) ? "rgba(" : "rgb(") + es.join(",") + ")";
                        }
                        pt = _parseComplex(style, p, bs, es, true, "transparent", pt, 0, plugin);
                    } else if (isStr && (es.indexOf(" ") !== -1 || es.indexOf(",") !== -1)) {
                        pt = _parseComplex(style, p, bs, es, true, null, pt, 0, plugin);
                    } else {
                        bn = parseFloat(bs);
                        bsfx = (bn || bn === 0) ? bs.substr((bn + "").length) : "";
                        if (bs === "" || bs === "auto") {
                            if (p === "width" || p === "height") {
                                bn = _getDimension(target, p, _cs);
                                bsfx = "px";
                            } else if (p === "left" || p === "top") {
                                bn = _calculateOffset(target, p, _cs);
                                bsfx = "px";
                            } else {
                                bn = (p !== "opacity") ? 0 : 1;
                                bsfx = "";
                            }
                        }
                        rel = (isStr && es.charAt(1) === "=");
                        if (rel) {
                            en = parseInt(es.charAt(0) + "1", 10);
                            es = es.substr(2);
                            en *= parseFloat(es);
                            esfx = es.replace(_suffixExp, "");
                        } else {
                            en = parseFloat(es);
                            esfx = isStr ? es.substr((en + "").length) || "" : "";
                        }
                        if (esfx === "") {
                            esfx = _suffixMap[p] || bsfx;
                        }
                        es = (en || en === 0) ? (rel ? en + bn : en) + esfx : vars[p];
                        if (bsfx !== esfx)
                            if (esfx !== "")
                                if (en || en === 0)
                                    if (bn || bn === 0) {
                                        bn = _convertToPixels(target, p, bn, bsfx);
                                        if (esfx === "%") {
                                            bn /= _convertToPixels(target, p, 100, "%") / 100;
                                            if (bn > 100) {
                                                bn = 100;
                                            }
                                            if (vars.strictUnits !== true) {
                                                bs = bn + "%";
                                            }
                                        } else if (esfx === "em") {
                                            bn /= _convertToPixels(target, p, 1, "em");
                                        } else {
                                            en = _convertToPixels(target, p, en, esfx);
                                            esfx = "px";
                                        }
                                        if (rel)
                                            if (en || en === 0) {
                                                es = (en + bn) + esfx;
                                            }
                                    }
                        if (rel) {
                            en += bn;
                        }
                        if ((bn || bn === 0) && (en || en === 0)) {
                            pt = new CSSPropTween(style, p, bn, en - bn, pt, 0, p, (_autoRound !== false && (esfx === "px" || p === "zIndex")), 0, bs, es);
                            pt.xs0 = esfx;
                        } else if (style[p] === undefined || !es && (es + "" === "NaN" || es == null)) {
                            _log("invalid " + p + " tween value: " + vars[p]);
                        } else {
                            pt = new CSSPropTween(style, p, en || bn || 0, 0, pt, -1, p, false, 0, bs, es);
                            pt.xs0 = (es === "none" && (p === "display" || p.indexOf("Style") !== -1)) ? bs : es;
                        }
                    }
                }
                if (plugin)
                    if (pt && !pt.plugin) {
                        pt.plugin = plugin;
                    }
            }
            return pt;
        };
        p.setRatio = function(v) {
            var pt = this._firstPT, min = 0.000001, val, str, i;
            if (v === 1 && (this._tween._time === this._tween._duration || this._tween._time === 0)) {
                while (pt) {
                    if (pt.type !== 2) {
                        pt.t[pt.p] = pt.e;
                    } else {
                        pt.setRatio(v);
                    }
                    pt = pt._next;
                }
            } else if (v || !(this._tween._time === this._tween._duration || this._tween._time === 0) || this._tween._rawPrevTime === -0.000001) {
                while (pt) {
                    val = pt.c * v + pt.s;
                    if (pt.r) {
                        val = (val > 0) ? (val + 0.5) | 0 : (val - 0.5) | 0;
                    } else if (val < min)
                        if (val > -min) {
                            val = 0;
                        }
                    if (!pt.type) {
                        pt.t[pt.p] = val + pt.xs0;
                    } else if (pt.type === 1) {
                        i = pt.l;
                        if (i === 2) {
                            pt.t[pt.p] = pt.xs0 + val + pt.xs1 + pt.xn1 + pt.xs2;
                        } else if (i === 3) {
                            pt.t[pt.p] = pt.xs0 + val + pt.xs1 + pt.xn1 + pt.xs2 + pt.xn2 + pt.xs3;
                        } else if (i === 4) {
                            pt.t[pt.p] = pt.xs0 + val + pt.xs1 + pt.xn1 + pt.xs2 + pt.xn2 + pt.xs3 + pt.xn3 + pt.xs4;
                        } else if (i === 5) {
                            pt.t[pt.p] = pt.xs0 + val + pt.xs1 + pt.xn1 + pt.xs2 + pt.xn2 + pt.xs3 + pt.xn3 + pt.xs4 + pt.xn4 + pt.xs5;
                        } else {
                            str = pt.xs0 + val + pt.xs1;
                            for (i = 1; i < pt.l; i++) {
                                str += pt["xn" + i] + pt["xs" + (i + 1)];
                            }
                            pt.t[pt.p] = str;
                        }
                    } else if (pt.type === -1) {
                        pt.t[pt.p] = pt.xs0;
                    } else if (pt.setRatio) {
                        pt.setRatio(v);
                    }
                    pt = pt._next;
                }
            } else {
                while (pt) {
                    if (pt.type !== 2) {
                        pt.t[pt.p] = pt.b;
                    } else {
                        pt.setRatio(v);
                    }
                    pt = pt._next;
                }
            }
        };
        p._enableTransforms = function(threeD) {
            this._transformType = (threeD || this._transformType === 3) ? 3 : 2;
            this._transform = this._transform || _getTransform(this._target, _cs, true);
        };
        p._linkCSSP = function(pt, next, prev, remove) {
            if (pt) {
                if (next) {
                    next._prev = pt;
                }
                if (pt._next) {
                    pt._next._prev = pt._prev;
                }
                if (pt._prev) {
                    pt._prev._next = pt._next;
                } else if (this._firstPT === pt) {
                    this._firstPT = pt._next;
                    remove = true;
                }
                if (prev) {
                    prev._next = pt;
                } else if (!remove && this._firstPT === null) {
                    this._firstPT = pt;
                }
                pt._next = next;
                pt._prev = prev;
            }
            return pt;
        };
        p._kill = function(lookup) {
            var copy = lookup, pt, p, xfirst;
            if (lookup.autoAlpha || lookup.alpha) {
                copy = {};
                for (p in lookup) {
                    copy[p] = lookup[p];
                }
                copy.opacity = 1;
                if (copy.autoAlpha) {
                    copy.visibility = 1;
                }
            }
            if (lookup.className && (pt = this._classNamePT)) {
                xfirst = pt.xfirst;
                if (xfirst && xfirst._prev) {
                    this._linkCSSP(xfirst._prev, pt._next, xfirst._prev._prev);
                } else if (xfirst === this._firstPT) {
                    this._firstPT = pt._next;
                }
                if (pt._next) {
                    this._linkCSSP(pt._next, pt._next._next, xfirst._prev);
                }
                this._classNamePT = null;
            }
            return TweenPlugin.prototype._kill.call(this, copy);
        };
        var _getChildStyles = function(e, props, targets) {
            var children, i, child, type;
            if (e.slice) {
                i = e.length;
                while (--i > -1) {
                    _getChildStyles(e[i], props, targets);
                }
                return;
            }
            children = e.childNodes;
            i = children.length;
            while (--i > -1) {
                child = children[i];
                type = child.type;
                if (child.style) {
                    props.push(_getAllStyles(child));
                    if (targets) {
                        targets.push(child);
                    }
                }
                if ((type === 1 || type === 9 || type === 11) && child.childNodes.length) {
                    _getChildStyles(child, props, targets);
                }
            }
        };
        CSSPlugin.cascadeTo = function(target, duration, vars) {
            var tween = TweenLite.to(target, duration, vars), results = [tween], b = [], e = [], targets = [], _reservedProps = TweenLite._internals.reservedProps, i, difs, p;
            target = tween._targets || tween.target;
            _getChildStyles(target, b, targets);
            tween.render(duration, true);
            _getChildStyles(target, e);
            tween.render(0, true);
            tween._enabled(true);
            i = targets.length;
            while (--i > -1) {
                difs = _cssDif(targets[i], b[i], e[i]);
                if (difs.firstMPT) {
                    difs = difs.difs;
                    for (p in vars) {
                        if (_reservedProps[p]) {
                            difs[p] = vars[p];
                        }
                    }
                    results.push(TweenLite.to(targets[i], duration, difs));
                }
            }
            return results;
        };
        TweenPlugin.activate([CSSPlugin]);
        return CSSPlugin;
    }, true);
    (function() {
        var RoundPropsPlugin = window._gsDefine.plugin({propName: "roundProps",priority: -1,API: 2,init: function(target, value, tween) {
                this._tween = tween;
                return true;
            }}), p = RoundPropsPlugin.prototype;
        p._onInitAllProps = function() {
            var tween = this._tween, rp = (tween.vars.roundProps instanceof Array) ? tween.vars.roundProps : tween.vars.roundProps.split(","), i = rp.length, lookup = {}, rpt = tween._propLookup.roundProps, prop, pt, next;
            while (--i > -1) {
                lookup[rp[i]] = 1;
            }
            i = rp.length;
            while (--i > -1) {
                prop = rp[i];
                pt = tween._firstPT;
                while (pt) {
                    next = pt._next;
                    if (pt.pg) {
                        pt.t._roundProps(lookup, true);
                    } else if (pt.n === prop) {
                        this._add(pt.t, prop, pt.s, pt.c);
                        if (next) {
                            next._prev = pt._prev;
                        }
                        if (pt._prev) {
                            pt._prev._next = next;
                        } else if (tween._firstPT === pt) {
                            tween._firstPT = next;
                        }
                        pt._next = pt._prev = null;
                        tween._propLookup[prop] = rpt;
                    }
                    pt = next;
                }
            }
            return false;
        };
        p._add = function(target, p, s, c) {
            this._addTween(target, p, s, s + c, p, true);
            this._overwriteProps.push(p);
        };
    }());
    window._gsDefine.plugin({propName: "attr",API: 2,init: function(target, value, tween) {
            var p;
            if (typeof (target.setAttribute) !== "function") {
                return false;
            }
            this._target = target;
            this._proxy = {};
            for (p in value) {
                if (this._addTween(this._proxy, p, parseFloat(target.getAttribute(p)), value[p], p)) {
                    this._overwriteProps.push(p);
                }
            }
            return true;
        },set: function(ratio) {
            this._super.setRatio.call(this, ratio);
            var props = this._overwriteProps, i = props.length, p;
            while (--i > -1) {
                p = props[i];
                this._target.setAttribute(p, this._proxy[p] + "");
            }
        }});
    window._gsDefine.plugin({propName: "directionalRotation",API: 2,init: function(target, value, tween) {
            if (typeof (value) !== "object") {
                value = {rotation: value};
            }
            this.finals = {};
            var cap = (value.useRadians === true) ? Math.PI * 2 : 360, min = 0.000001, p, v, start, end, dif, split;
            for (p in value) {
                if (p !== "useRadians") {
                    split = (value[p] + "").split("_");
                    v = split[0];
                    start = parseFloat((typeof (target[p]) !== "function") ? target[p] : target[((p.indexOf("set") || typeof (target["get" + p.substr(3)]) !== "function") ? p : "get" + p.substr(3))]());
                    end = this.finals[p] = (typeof (v) === "string" && v.charAt(1) === "=") ? start + parseInt(v.charAt(0) + "1", 10) * Number(v.substr(2)) : Number(v) || 0;
                    dif = end - start;
                    if (split.length) {
                        v = split.join("_");
                        if (v.indexOf("short") !== -1) {
                            dif = dif % cap;
                            if (dif !== dif % (cap / 2)) {
                                dif = (dif < 0) ? dif + cap : dif - cap;
                            }
                        }
                        if (v.indexOf("_cw") !== -1 && dif < 0) {
                            dif = ((dif + cap * 9999999999) % cap) - ((dif / cap) | 0) * cap;
                        } else if (v.indexOf("ccw") !== -1 && dif > 0) {
                            dif = ((dif - cap * 9999999999) % cap) - ((dif / cap) | 0) * cap;
                        }
                    }
                    if (dif > min || dif < -min) {
                        this._addTween(target, p, start, start + dif, p);
                        this._overwriteProps.push(p);
                    }
                }
            }
            return true;
        },set: function(ratio) {
            var pt;
            if (ratio !== 1) {
                this._super.setRatio.call(this, ratio);
            } else {
                pt = this._firstPT;
                while (pt) {
                    if (pt.f) {
                        pt.t[pt.p](this.finals[pt.p]);
                    } else {
                        pt.t[pt.p] = this.finals[pt.p];
                    }
                    pt = pt._next;
                }
            }
        }})._autoCSS = true;
    window._gsDefine("easing.Back", ["easing.Ease"], function(Ease) {
        var w = (window.GreenSockGlobals || window), gs = w.com.greensock, _2PI = Math.PI * 2, _HALF_PI = Math.PI / 2, _class = gs._class, _create = function(n, f) {
            var C = _class("easing." + n, function() {
            }, true), p = C.prototype = new Ease();
            p.constructor = C;
            p.getRatio = f;
            return C;
        }, _easeReg = Ease.register || function() {
        }, _wrap = function(name, EaseOut, EaseIn, EaseInOut, aliases) {
            var C = _class("easing." + name, {easeOut: new EaseOut(),easeIn: new EaseIn(),easeInOut: new EaseInOut()}, true);
            _easeReg(C, name);
            return C;
        }, EasePoint = function(time, value, next) {
            this.t = time;
            this.v = value;
            if (next) {
                this.next = next;
                next.prev = this;
                this.c = next.v - value;
                this.gap = next.t - time;
            }
        }, _createBack = function(n, f) {
            var C = _class("easing." + n, function(overshoot) {
                this._p1 = (overshoot || overshoot === 0) ? overshoot : 1.70158;
                this._p2 = this._p1 * 1.525;
            }, true), p = C.prototype = new Ease();
            p.constructor = C;
            p.getRatio = f;
            p.config = function(overshoot) {
                return new C(overshoot);
            };
            return C;
        }, Back = _wrap("Back", _createBack("BackOut", function(p) {
            return ((p = p - 1) * p * ((this._p1 + 1) * p + this._p1) + 1);
        }), _createBack("BackIn", function(p) {
            return p * p * ((this._p1 + 1) * p - this._p1);
        }), _createBack("BackInOut", function(p) {
            return ((p *= 2) < 1) ? 0.5 * p * p * ((this._p2 + 1) * p - this._p2) : 0.5 * ((p -= 2) * p * ((this._p2 + 1) * p + this._p2) + 2);
        })), SlowMo = _class("easing.SlowMo", function(linearRatio, power, yoyoMode) {
            power = (power || power === 0) ? power : 0.7;
            if (linearRatio == null) {
                linearRatio = 0.7;
            } else if (linearRatio > 1) {
                linearRatio = 1;
            }
            this._p = (linearRatio !== 1) ? power : 0;
            this._p1 = (1 - linearRatio) / 2;
            this._p2 = linearRatio;
            this._p3 = this._p1 + this._p2;
            this._calcEnd = (yoyoMode === true);
        }, true), p = SlowMo.prototype = new Ease(), SteppedEase, RoughEase, _createElastic;
        p.constructor = SlowMo;
        p.getRatio = function(p) {
            var r = p + (0.5 - p) * this._p;
            if (p < this._p1) {
                return this._calcEnd ? 1 - ((p = 1 - (p / this._p1)) * p) : r - ((p = 1 - (p / this._p1)) * p * p * p * r);
            } else if (p > this._p3) {
                return this._calcEnd ? 1 - (p = (p - this._p3) / this._p1) * p : r + ((p - r) * (p = (p - this._p3) / this._p1) * p * p * p);
            }
            return this._calcEnd ? 1 : r;
        };
        SlowMo.ease = new SlowMo(0.7, 0.7);
        p.config = SlowMo.config = function(linearRatio, power, yoyoMode) {
            return new SlowMo(linearRatio, power, yoyoMode);
        };
        SteppedEase = _class("easing.SteppedEase", function(steps) {
            steps = steps || 1;
            this._p1 = 1 / steps;
            this._p2 = steps + 1;
        }, true);
        p = SteppedEase.prototype = new Ease();
        p.constructor = SteppedEase;
        p.getRatio = function(p) {
            if (p < 0) {
                p = 0;
            } else if (p >= 1) {
                p = 0.999999999;
            }
            return ((this._p2 * p) >> 0) * this._p1;
        };
        p.config = SteppedEase.config = function(steps) {
            return new SteppedEase(steps);
        };
        RoughEase = _class("easing.RoughEase", function(vars) {
            vars = vars || {};
            var taper = vars.taper || "none", a = [], cnt = 0, points = (vars.points || 20) | 0, i = points, randomize = (vars.randomize !== false), clamp = (vars.clamp === true), template = (vars.template instanceof Ease) ? vars.template : null, strength = (typeof (vars.strength) === "number") ? vars.strength * 0.4 : 0.4, x, y, bump, invX, obj, pnt;
            while (--i > -1) {
                x = randomize ? Math.random() : (1 / points) * i;
                y = template ? template.getRatio(x) : x;
                if (taper === "none") {
                    bump = strength;
                } else if (taper === "out") {
                    invX = 1 - x;
                    bump = invX * invX * strength;
                } else if (taper === "in") {
                    bump = x * x * strength;
                } else if (x < 0.5) {
                    invX = x * 2;
                    bump = invX * invX * 0.5 * strength;
                } else {
                    invX = (1 - x) * 2;
                    bump = invX * invX * 0.5 * strength;
                }
                if (randomize) {
                    y += (Math.random() * bump) - (bump * 0.5);
                } else if (i % 2) {
                    y += bump * 0.5;
                } else {
                    y -= bump * 0.5;
                }
                if (clamp) {
                    if (y > 1) {
                        y = 1;
                    } else if (y < 0) {
                        y = 0;
                    }
                }
                a[cnt++] = {x: x,y: y};
            }
            a.sort(function(a, b) {
                return a.x - b.x;
            });
            pnt = new EasePoint(1, 1, null);
            i = points;
            while (--i > -1) {
                obj = a[i];
                pnt = new EasePoint(obj.x, obj.y, pnt);
            }
            this._prev = new EasePoint(0, 0, (pnt.t !== 0) ? pnt : pnt.next);
        }, true);
        p = RoughEase.prototype = new Ease();
        p.constructor = RoughEase;
        p.getRatio = function(p) {
            var pnt = this._prev;
            if (p > pnt.t) {
                while (pnt.next && p >= pnt.t) {
                    pnt = pnt.next;
                }
                pnt = pnt.prev;
            } else {
                while (pnt.prev && p <= pnt.t) {
                    pnt = pnt.prev;
                }
            }
            this._prev = pnt;
            return (pnt.v + ((p - pnt.t) / pnt.gap) * pnt.c);
        };
        p.config = function(vars) {
            return new RoughEase(vars);
        };
        RoughEase.ease = new RoughEase();
        _wrap("Bounce", _create("BounceOut", function(p) {
            if (p < 1 / 2.75) {
                return 7.5625 * p * p;
            } else if (p < 2 / 2.75) {
                return 7.5625 * (p -= 1.5 / 2.75) * p + 0.75;
            } else if (p < 2.5 / 2.75) {
                return 7.5625 * (p -= 2.25 / 2.75) * p + 0.9375;
            }
            return 7.5625 * (p -= 2.625 / 2.75) * p + 0.984375;
        }), _create("BounceIn", function(p) {
            if ((p = 1 - p) < 1 / 2.75) {
                return 1 - (7.5625 * p * p);
            } else if (p < 2 / 2.75) {
                return 1 - (7.5625 * (p -= 1.5 / 2.75) * p + 0.75);
            } else if (p < 2.5 / 2.75) {
                return 1 - (7.5625 * (p -= 2.25 / 2.75) * p + 0.9375);
            }
            return 1 - (7.5625 * (p -= 2.625 / 2.75) * p + 0.984375);
        }), _create("BounceInOut", function(p) {
            var invert = (p < 0.5);
            if (invert) {
                p = 1 - (p * 2);
            } else {
                p = (p * 2) - 1;
            }
            if (p < 1 / 2.75) {
                p = 7.5625 * p * p;
            } else if (p < 2 / 2.75) {
                p = 7.5625 * (p -= 1.5 / 2.75) * p + 0.75;
            } else if (p < 2.5 / 2.75) {
                p = 7.5625 * (p -= 2.25 / 2.75) * p + 0.9375;
            } else {
                p = 7.5625 * (p -= 2.625 / 2.75) * p + 0.984375;
            }
            return invert ? (1 - p) * 0.5 : p * 0.5 + 0.5;
        }));
        _wrap("Circ", _create("CircOut", function(p) {
            return Math.sqrt(1 - (p = p - 1) * p);
        }), _create("CircIn", function(p) {
            return -(Math.sqrt(1 - (p * p)) - 1);
        }), _create("CircInOut", function(p) {
            return ((p *= 2) < 1) ? -0.5 * (Math.sqrt(1 - p * p) - 1) : 0.5 * (Math.sqrt(1 - (p -= 2) * p) + 1);
        }));
        _createElastic = function(n, f, def) {
            var C = _class("easing." + n, function(amplitude, period) {
                this._p1 = amplitude || 1;
                this._p2 = period || def;
                this._p3 = this._p2 / _2PI * (Math.asin(1 / this._p1) || 0);
            }, true), p = C.prototype = new Ease();
            p.constructor = C;
            p.getRatio = f;
            p.config = function(amplitude, period) {
                return new C(amplitude, period);
            };
            return C;
        };
        _wrap("Elastic", _createElastic("ElasticOut", function(p) {
            return this._p1 * Math.pow(2, -10 * p) * Math.sin((p - this._p3) * _2PI / this._p2) + 1;
        }, 0.3), _createElastic("ElasticIn", function(p) {
            return -(this._p1 * Math.pow(2, 10 * (p -= 1)) * Math.sin((p - this._p3) * _2PI / this._p2));
        }, 0.3), _createElastic("ElasticInOut", function(p) {
            return ((p *= 2) < 1) ? -0.5 * (this._p1 * Math.pow(2, 10 * (p -= 1)) * Math.sin((p - this._p3) * _2PI / this._p2)) : this._p1 * Math.pow(2, -10 * (p -= 1)) * Math.sin((p - this._p3) * _2PI / this._p2) * 0.5 + 1;
        }, 0.45));
        _wrap("Expo", _create("ExpoOut", function(p) {
            return 1 - Math.pow(2, -10 * p);
        }), _create("ExpoIn", function(p) {
            return Math.pow(2, 10 * (p - 1)) - 0.001;
        }), _create("ExpoInOut", function(p) {
            return ((p *= 2) < 1) ? 0.5 * Math.pow(2, 10 * (p - 1)) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));
        }));
        _wrap("Sine", _create("SineOut", function(p) {
            return Math.sin(p * _HALF_PI);
        }), _create("SineIn", function(p) {
            return -Math.cos(p * _HALF_PI) + 1;
        }), _create("SineInOut", function(p) {
            return -0.5 * (Math.cos(Math.PI * p) - 1);
        }));
        _class("easing.EaseLookup", {find: function(s) {
                return Ease.map[s];
            }}, true);
        _easeReg(w.SlowMo, "SlowMo", "ease,");
        _easeReg(RoughEase, "RoughEase", "ease,");
        _easeReg(SteppedEase, "SteppedEase", "ease,");
        return Back;
    }, true);
});
(function(window) {
    "use strict";
    var _globals = window.GreenSockGlobals || window, _namespace = function(ns) {
        var a = ns.split("."), p = _globals, i;
        for (i = 0; i < a.length; i++) {
            p[a[i]] = p = p[a[i]] || {};
        }
        return p;
    }, gs = _namespace("com.greensock"), _slice = [].slice, _emptyFunc = function() {
    }, a, i, p, _ticker, _tickerActive, _defLookup = {}, Definition = function(ns, dependencies, func, global) {
        this.sc = (_defLookup[ns]) ? _defLookup[ns].sc : [];
        _defLookup[ns] = this;
        this.gsClass = null;
        this.func = func;
        var _classes = [];
        this.check = function(init) {
            var i = dependencies.length, missing = i, cur, a, n, cl;
            while (--i > -1) {
                if ((cur = _defLookup[dependencies[i]] || new Definition(dependencies[i], [])).gsClass) {
                    _classes[i] = cur.gsClass;
                    missing--;
                } else if (init) {
                    cur.sc.push(this);
                }
            }
            if (missing === 0 && func) {
                a = ("com.greensock." + ns).split(".");
                n = a.pop();
                cl = _namespace(a.join("."))[n] = this.gsClass = func.apply(func, _classes);
                if (global) {
                    _globals[n] = cl;
                    if (typeof (define) === "function" && define.amd) {
                        define((window.GreenSockAMDPath ? window.GreenSockAMDPath + "/" : "") + ns.split(".").join("/"), [], function() {
                            return cl;
                        });
                    } else if (typeof (module) !== "undefined" && module.exports) {
                        module.exports = cl;
                    }
                }
                for (i = 0; i < this.sc.length; i++) {
                    this.sc[i].check();
                }
            }
        };
        this.check(true);
    }, _gsDefine = window._gsDefine = function(ns, dependencies, func, global) {
        return new Definition(ns, dependencies, func, global);
    }, _class = gs._class = function(ns, func, global) {
        func = func || function() {
        };
        _gsDefine(ns, [], function() {
            return func;
        }, global);
        return func;
    };
    _gsDefine.globals = _globals;
    var _baseParams = [0, 0, 1, 1], _blankArray = [], Ease = _class("easing.Ease", function(func, extraParams, type, power) {
        this._func = func;
        this._type = type || 0;
        this._power = power || 0;
        this._params = extraParams ? _baseParams.concat(extraParams) : _baseParams;
    }, true), _easeMap = Ease.map = {}, _easeReg = Ease.register = function(ease, names, types, create) {
        var na = names.split(","), i = na.length, ta = (types || "easeIn,easeOut,easeInOut").split(","), e, name, j, type;
        while (--i > -1) {
            name = na[i];
            e = create ? _class("easing." + name, null, true) : gs.easing[name] || {};
            j = ta.length;
            while (--j > -1) {
                type = ta[j];
                _easeMap[name + "." + type] = _easeMap[type + name] = e[type] = ease.getRatio ? ease : ease[type] || new ease();
            }
        }
    };
    p = Ease.prototype;
    p._calcEnd = false;
    p.getRatio = function(p) {
        if (this._func) {
            this._params[0] = p;
            return this._func.apply(null, this._params);
        }
        var t = this._type, pw = this._power, r = (t === 1) ? 1 - p : (t === 2) ? p : (p < 0.5) ? p * 2 : (1 - p) * 2;
        if (pw === 1) {
            r *= r;
        } else if (pw === 2) {
            r *= r * r;
        } else if (pw === 3) {
            r *= r * r * r;
        } else if (pw === 4) {
            r *= r * r * r * r;
        }
        return (t === 1) ? 1 - r : (t === 2) ? r : (p < 0.5) ? r / 2 : 1 - (r / 2);
    };
    a = ["Linear", "Quad", "Cubic", "Quart", "Quint,Strong"];
    i = a.length;
    while (--i > -1) {
        p = a[i] + ",Power" + i;
        _easeReg(new Ease(null, null, 1, i), p, "easeOut", true);
        _easeReg(new Ease(null, null, 2, i), p, "easeIn" + ((i === 0) ? ",easeNone" : ""));
        _easeReg(new Ease(null, null, 3, i), p, "easeInOut");
    }
    _easeMap.linear = gs.easing.Linear.easeIn;
    _easeMap.swing = gs.easing.Quad.easeInOut;
    var EventDispatcher = _class("events.EventDispatcher", function(target) {
        this._listeners = {};
        this._eventTarget = target || this;
    });
    p = EventDispatcher.prototype;
    p.addEventListener = function(type, callback, scope, useParam, priority) {
        priority = priority || 0;
        var list = this._listeners[type], index = 0, listener, i;
        if (list == null) {
            this._listeners[type] = list = [];
        }
        i = list.length;
        while (--i > -1) {
            listener = list[i];
            if (listener.c === callback && listener.s === scope) {
                list.splice(i, 1);
            } else if (index === 0 && listener.pr < priority) {
                index = i + 1;
            }
        }
        list.splice(index, 0, {c: callback,s: scope,up: useParam,pr: priority});
        if (this === _ticker && !_tickerActive) {
            _ticker.wake();
        }
    };
    p.removeEventListener = function(type, callback) {
        var list = this._listeners[type], i;
        if (list) {
            i = list.length;
            while (--i > -1) {
                if (list[i].c === callback) {
                    list.splice(i, 1);
                    return;
                }
            }
        }
    };
    p.dispatchEvent = function(type) {
        var list = this._listeners[type], i, t, listener;
        if (list) {
            i = list.length;
            t = this._eventTarget;
            while (--i > -1) {
                listener = list[i];
                if (listener.up) {
                    listener.c.call(listener.s || t, {type: type,target: t});
                } else {
                    listener.c.call(listener.s || t);
                }
            }
        }
    };
    var _reqAnimFrame = window.requestAnimationFrame, _cancelAnimFrame = window.cancelAnimationFrame, _getTime = Date.now || function() {
        return new Date().getTime();
    }, _lastUpdate = _getTime();
    a = ["ms", "moz", "webkit", "o"];
    i = a.length;
    while (--i > -1 && !_reqAnimFrame) {
        _reqAnimFrame = window[a[i] + "RequestAnimationFrame"];
        _cancelAnimFrame = window[a[i] + "CancelAnimationFrame"] || window[a[i] + "CancelRequestAnimationFrame"];
    }
    _class("Ticker", function(fps, useRAF) {
        var _self = this, _startTime = _getTime(), _useRAF = (useRAF !== false && _reqAnimFrame), _fps, _req, _id, _gap, _nextTime, _tick = function(manual) {
            _lastUpdate = _getTime();
            _self.time = (_lastUpdate - _startTime) / 1000;
            var overlap = _self.time - _nextTime, dispatch;
            if (!_fps || overlap > 0 || manual === true) {
                _self.frame++;
                _nextTime += overlap + (overlap >= _gap ? 0.004 : _gap - overlap);
                dispatch = true;
            }
            if (manual !== true) {
                _id = _req(_tick);
            }
            if (dispatch) {
                _self.dispatchEvent("tick");
            }
        };
        EventDispatcher.call(_self);
        _self.time = _self.frame = 0;
        _self.tick = function() {
            _tick(true);
        };
        _self.sleep = function() {
            if (_id == null) {
                return;
            }
            if (!_useRAF || !_cancelAnimFrame) {
                clearTimeout(_id);
            } else {
                _cancelAnimFrame(_id);
            }
            _req = _emptyFunc;
            _id = null;
            if (_self === _ticker) {
                _tickerActive = false;
            }
        };
        _self.wake = function() {
            if (_id !== null) {
                _self.sleep();
            }
            _req = (_fps === 0) ? _emptyFunc : (!_useRAF || !_reqAnimFrame) ? function(f) {
                return setTimeout(f, ((_nextTime - _self.time) * 1000 + 1) | 0);
            } : _reqAnimFrame;
            if (_self === _ticker) {
                _tickerActive = true;
            }
            _tick(2);
        };
        _self.fps = function(value) {
            if (!arguments.length) {
                return _fps;
            }
            _fps = value;
            _gap = 1 / (_fps || 60);
            _nextTime = this.time + _gap;
            _self.wake();
        };
        _self.useRAF = function(value) {
            if (!arguments.length) {
                return _useRAF;
            }
            _self.sleep();
            _useRAF = value;
            _self.fps(_fps);
        };
        _self.fps(fps);
        setTimeout(function() {
            if (_useRAF && (!_id || _self.frame < 5)) {
                _self.useRAF(false);
            }
        }, 1500);
    });
    p = gs.Ticker.prototype = new gs.events.EventDispatcher();
    p.constructor = gs.Ticker;
    var Animation = _class("core.Animation", function(duration, vars) {
        this.vars = vars = vars || {};
        this._duration = this._totalDuration = duration || 0;
        this._delay = Number(vars.delay) || 0;
        this._timeScale = 1;
        this._active = (vars.immediateRender === true);
        this.data = vars.data;
        this._reversed = (vars.reversed === true);
        if (!_rootTimeline) {
            return;
        }
        if (!_tickerActive) {
            _ticker.wake();
        }
        var tl = this.vars.useFrames ? _rootFramesTimeline : _rootTimeline;
        tl.add(this, tl._time);
        if (this.vars.paused) {
            this.paused(true);
        }
    });
    _ticker = Animation.ticker = new gs.Ticker();
    p = Animation.prototype;
    p._dirty = p._gc = p._initted = p._paused = false;
    p._totalTime = p._time = 0;
    p._rawPrevTime = -1;
    p._next = p._last = p._onUpdate = p._timeline = p.timeline = null;
    p._paused = false;
    var _checkTimeout = function() {
        if (_getTime() - _lastUpdate > 2000) {
            _ticker.wake();
        }
        setTimeout(_checkTimeout, 2000);
    };
    _checkTimeout();
    p.play = function(from, suppressEvents) {
        if (arguments.length) {
            this.seek(from, suppressEvents);
        }
        return this.reversed(false).paused(false);
    };
    p.pause = function(atTime, suppressEvents) {
        if (arguments.length) {
            this.seek(atTime, suppressEvents);
        }
        return this.paused(true);
    };
    p.resume = function(from, suppressEvents) {
        if (arguments.length) {
            this.seek(from, suppressEvents);
        }
        return this.paused(false);
    };
    p.seek = function(time, suppressEvents) {
        return this.totalTime(Number(time), suppressEvents !== false);
    };
    p.restart = function(includeDelay, suppressEvents) {
        return this.reversed(false).paused(false).totalTime(includeDelay ? -this._delay : 0, (suppressEvents !== false), true);
    };
    p.reverse = function(from, suppressEvents) {
        if (arguments.length) {
            this.seek((from || this.totalDuration()), suppressEvents);
        }
        return this.reversed(true).paused(false);
    };
    p.render = function(time, suppressEvents, force) {
    };
    p.invalidate = function() {
        return this;
    };
    p._enabled = function(enabled, ignoreTimeline) {
        if (!_tickerActive) {
            _ticker.wake();
        }
        this._gc = !enabled;
        this._active = (enabled && !this._paused && this._totalTime > 0 && this._totalTime < this._totalDuration);
        if (ignoreTimeline !== true) {
            if (enabled && !this.timeline) {
                this._timeline.add(this, this._startTime - this._delay);
            } else if (!enabled && this.timeline) {
                this._timeline._remove(this, true);
            }
        }
        return false;
    };
    p._kill = function(vars, target) {
        return this._enabled(false, false);
    };
    p.kill = function(vars, target) {
        this._kill(vars, target);
        return this;
    };
    p._uncache = function(includeSelf) {
        var tween = includeSelf ? this : this.timeline;
        while (tween) {
            tween._dirty = true;
            tween = tween.timeline;
        }
        return this;
    };
    p._swapSelfInParams = function(params) {
        var i = params.length, copy = params.concat();
        while (--i > -1) {
            if (params[i] === "{self}") {
                copy[i] = this;
            }
        }
        return copy;
    };
    p.eventCallback = function(type, callback, params, scope) {
        if ((type || "").substr(0, 2) === "on") {
            var v = this.vars;
            if (arguments.length === 1) {
                return v[type];
            }
            if (callback == null) {
                delete v[type];
            } else {
                v[type] = callback;
                v[type + "Params"] = ((params instanceof Array) && params.join("").indexOf("{self}") !== -1) ? this._swapSelfInParams(params) : params;
                v[type + "Scope"] = scope;
            }
            if (type === "onUpdate") {
                this._onUpdate = callback;
            }
        }
        return this;
    };
    p.delay = function(value) {
        if (!arguments.length) {
            return this._delay;
        }
        if (this._timeline.smoothChildTiming) {
            this.startTime(this._startTime + value - this._delay);
        }
        this._delay = value;
        return this;
    };
    p.duration = function(value) {
        if (!arguments.length) {
            this._dirty = false;
            return this._duration;
        }
        this._duration = this._totalDuration = value;
        this._uncache(true);
        if (this._timeline.smoothChildTiming)
            if (this._time > 0)
                if (this._time < this._duration)
                    if (value !== 0) {
                        this.totalTime(this._totalTime * (value / this._duration), true);
                    }
        return this;
    };
    p.totalDuration = function(value) {
        this._dirty = false;
        return (!arguments.length) ? this._totalDuration : this.duration(value);
    };
    p.time = function(value, suppressEvents) {
        if (!arguments.length) {
            return this._time;
        }
        if (this._dirty) {
            this.totalDuration();
        }
        return this.totalTime((value > this._duration) ? this._duration : value, suppressEvents);
    };
    p.totalTime = function(time, suppressEvents, uncapped) {
        if (!_tickerActive) {
            _ticker.wake();
        }
        if (!arguments.length) {
            return this._totalTime;
        }
        if (this._timeline) {
            if (time < 0 && !uncapped) {
                time += this.totalDuration();
            }
            if (this._timeline.smoothChildTiming) {
                if (this._dirty) {
                    this.totalDuration();
                }
                var totalDuration = this._totalDuration, tl = this._timeline;
                if (time > totalDuration && !uncapped) {
                    time = totalDuration;
                }
                this._startTime = (this._paused ? this._pauseTime : tl._time) - ((!this._reversed ? time : totalDuration - time) / this._timeScale);
                if (!tl._dirty) {
                    this._uncache(false);
                }
                if (tl._timeline) {
                    while (tl._timeline) {
                        if (tl._timeline._time !== (tl._startTime + tl._totalTime) / tl._timeScale) {
                            tl.totalTime(tl._totalTime, true);
                        }
                        tl = tl._timeline;
                    }
                }
            }
            if (this._gc) {
                this._enabled(true, false);
            }
            if (this._totalTime !== time) {
                this.render(time, suppressEvents, false);
            }
        }
        return this;
    };
    p.startTime = function(value) {
        if (!arguments.length) {
            return this._startTime;
        }
        if (value !== this._startTime) {
            this._startTime = value;
            if (this.timeline)
                if (this.timeline._sortChildren) {
                    this.timeline.add(this, value - this._delay);
                }
        }
        return this;
    };
    p.timeScale = function(value) {
        if (!arguments.length) {
            return this._timeScale;
        }
        value = value || 0.000001;
        if (this._timeline && this._timeline.smoothChildTiming) {
            var pauseTime = this._pauseTime, t = (pauseTime || pauseTime === 0) ? pauseTime : this._timeline.totalTime();
            this._startTime = t - ((t - this._startTime) * this._timeScale / value);
        }
        this._timeScale = value;
        return this._uncache(false);
    };
    p.reversed = function(value) {
        if (!arguments.length) {
            return this._reversed;
        }
        if (value != this._reversed) {
            this._reversed = value;
            this.totalTime(this._totalTime, true);
        }
        return this;
    };
    p.paused = function(value) {
        if (!arguments.length) {
            return this._paused;
        }
        if (value != this._paused)
            if (this._timeline) {
                if (!_tickerActive && !value) {
                    _ticker.wake();
                }
                var tl = this._timeline, raw = tl.rawTime(), elapsed = raw - this._pauseTime;
                if (!value && tl.smoothChildTiming) {
                    this._startTime += elapsed;
                    this._uncache(false);
                }
                this._pauseTime = value ? raw : null;
                this._paused = value;
                this._active = (!value && this._totalTime > 0 && this._totalTime < this._totalDuration);
                if (!value && elapsed !== 0 && this._duration !== 0) {
                    this.render((tl.smoothChildTiming ? this._totalTime : (raw - this._startTime) / this._timeScale), true, true);
                }
            }
        if (this._gc && !value) {
            this._enabled(true, false);
        }
        return this;
    };
    var SimpleTimeline = _class("core.SimpleTimeline", function(vars) {
        Animation.call(this, 0, vars);
        this.autoRemoveChildren = this.smoothChildTiming = true;
    });
    p = SimpleTimeline.prototype = new Animation();
    p.constructor = SimpleTimeline;
    p.kill()._gc = false;
    p._first = p._last = null;
    p._sortChildren = false;
    p.add = p.insert = function(child, position, align, stagger) {
        var prevTween, st;
        child._startTime = Number(position || 0) + child._delay;
        if (child._paused)
            if (this !== child._timeline) {
                child._pauseTime = child._startTime + ((this.rawTime() - child._startTime) / child._timeScale);
            }
        if (child.timeline) {
            child.timeline._remove(child, true);
        }
        child.timeline = child._timeline = this;
        if (child._gc) {
            child._enabled(true, true);
        }
        prevTween = this._last;
        if (this._sortChildren) {
            st = child._startTime;
            while (prevTween && prevTween._startTime > st) {
                prevTween = prevTween._prev;
            }
        }
        if (prevTween) {
            child._next = prevTween._next;
            prevTween._next = child;
        } else {
            child._next = this._first;
            this._first = child;
        }
        if (child._next) {
            child._next._prev = child;
        } else {
            this._last = child;
        }
        child._prev = prevTween;
        if (this._timeline) {
            this._uncache(true);
        }
        return this;
    };
    p._remove = function(tween, skipDisable) {
        if (tween.timeline === this) {
            if (!skipDisable) {
                tween._enabled(false, true);
            }
            tween.timeline = null;
            if (tween._prev) {
                tween._prev._next = tween._next;
            } else if (this._first === tween) {
                this._first = tween._next;
            }
            if (tween._next) {
                tween._next._prev = tween._prev;
            } else if (this._last === tween) {
                this._last = tween._prev;
            }
            if (this._timeline) {
                this._uncache(true);
            }
        }
        return this;
    };
    p.render = function(time, suppressEvents, force) {
        var tween = this._first, next;
        this._totalTime = this._time = this._rawPrevTime = time;
        while (tween) {
            next = tween._next;
            if (tween._active || (time >= tween._startTime && !tween._paused)) {
                if (!tween._reversed) {
                    tween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force);
                } else {
                    tween.render(((!tween._dirty) ? tween._totalDuration : tween.totalDuration()) - ((time - tween._startTime) * tween._timeScale), suppressEvents, force);
                }
            }
            tween = next;
        }
    };
    p.rawTime = function() {
        if (!_tickerActive) {
            _ticker.wake();
        }
        return this._totalTime;
    };
    var TweenLite = _class("TweenLite", function(target, duration, vars) {
        Animation.call(this, duration, vars);
        this.render = TweenLite.prototype.render;
        if (target == null) {
            throw "Cannot tween a null target.";
        }
        this.target = target = (typeof (target) !== "string") ? target : TweenLite.selector(target) || target;
        var isSelector = (target.jquery || (target.length && target !== window && target[0] && (target[0] === window || (target[0].nodeType && target[0].style && !target.nodeType)))), overwrite = this.vars.overwrite, i, targ, targets;
        this._overwrite = overwrite = (overwrite == null) ? _overwriteLookup[TweenLite.defaultOverwrite] : (typeof (overwrite) === "number") ? overwrite >> 0 : _overwriteLookup[overwrite];
        if ((isSelector || target instanceof Array) && typeof (target[0]) !== "number") {
            this._targets = targets = _slice.call(target, 0);
            this._propLookup = [];
            this._siblings = [];
            for (i = 0; i < targets.length; i++) {
                targ = targets[i];
                if (!targ) {
                    targets.splice(i--, 1);
                    continue;
                } else if (typeof (targ) === "string") {
                    targ = targets[i--] = TweenLite.selector(targ);
                    if (typeof (targ) === "string") {
                        targets.splice(i + 1, 1);
                    }
                    continue;
                } else if (targ.length && targ !== window && targ[0] && (targ[0] === window || (targ[0].nodeType && targ[0].style && !targ.nodeType))) {
                    targets.splice(i--, 1);
                    this._targets = targets = targets.concat(_slice.call(targ, 0));
                    continue;
                }
                this._siblings[i] = _register(targ, this, false);
                if (overwrite === 1)
                    if (this._siblings[i].length > 1) {
                        _applyOverwrite(targ, this, null, 1, this._siblings[i]);
                    }
            }
        } else {
            this._propLookup = {};
            this._siblings = _register(target, this, false);
            if (overwrite === 1)
                if (this._siblings.length > 1) {
                    _applyOverwrite(target, this, null, 1, this._siblings);
                }
        }
        if (this.vars.immediateRender || (duration === 0 && this._delay === 0 && this.vars.immediateRender !== false)) {
            this.render(-this._delay, false, true);
        }
    }, true), _isSelector = function(v) {
        return (v.length && v !== window && v[0] && (v[0] === window || (v[0].nodeType && v[0].style && !v.nodeType)));
    }, _autoCSS = function(vars, target) {
        var css = {}, p;
        for (p in vars) {
            if (!_reservedProps[p] && (!(p in target) || p === "x" || p === "y" || p === "width" || p === "height" || p === "className" || p === "border") && (!_plugins[p] || (_plugins[p] && _plugins[p]._autoCSS))) {
                css[p] = vars[p];
                delete vars[p];
            }
        }
        vars.css = css;
    };
    p = TweenLite.prototype = new Animation();
    p.constructor = TweenLite;
    p.kill()._gc = false;
    p.ratio = 0;
    p._firstPT = p._targets = p._overwrittenProps = p._startAt = null;
    p._notifyPluginsOfEnabled = false;
    TweenLite.version = "1.10.3";
    TweenLite.defaultEase = p._ease = new Ease(null, null, 1, 1);
    TweenLite.defaultOverwrite = "auto";
    TweenLite.ticker = _ticker;
    TweenLite.autoSleep = true;
    TweenLite.selector = window.$ || window.jQuery || function(e) {
        if (window.$) {
            TweenLite.selector = window.$;
            return window.$(e);
        }
        return window.document ? window.document.getElementById((e.charAt(0) === "#") ? e.substr(1) : e) : e;
    };
    var _internals = TweenLite._internals = {}, _plugins = TweenLite._plugins = {}, _tweenLookup = TweenLite._tweenLookup = {}, _tweenLookupNum = 0, _reservedProps = _internals.reservedProps = {ease: 1,delay: 1,overwrite: 1,onComplete: 1,onCompleteParams: 1,onCompleteScope: 1,useFrames: 1,runBackwards: 1,startAt: 1,onUpdate: 1,onUpdateParams: 1,onUpdateScope: 1,onStart: 1,onStartParams: 1,onStartScope: 1,onReverseComplete: 1,onReverseCompleteParams: 1,onReverseCompleteScope: 1,onRepeat: 1,onRepeatParams: 1,onRepeatScope: 1,easeParams: 1,yoyo: 1,immediateRender: 1,repeat: 1,repeatDelay: 1,data: 1,paused: 1,reversed: 1,autoCSS: 1}, _overwriteLookup = {none: 0,all: 1,auto: 2,concurrent: 3,allOnStart: 4,preexisting: 5,"true": 1,"false": 0}, _rootFramesTimeline = Animation._rootFramesTimeline = new SimpleTimeline(), _rootTimeline = Animation._rootTimeline = new SimpleTimeline();
    _rootTimeline._startTime = _ticker.time;
    _rootFramesTimeline._startTime = _ticker.frame;
    _rootTimeline._active = _rootFramesTimeline._active = true;
    Animation._updateRoot = function() {
        _rootTimeline.render((_ticker.time - _rootTimeline._startTime) * _rootTimeline._timeScale, false, false);
        _rootFramesTimeline.render((_ticker.frame - _rootFramesTimeline._startTime) * _rootFramesTimeline._timeScale, false, false);
        if (!(_ticker.frame % 120)) {
            var i, a, p;
            for (p in _tweenLookup) {
                a = _tweenLookup[p].tweens;
                i = a.length;
                while (--i > -1) {
                    if (a[i]._gc) {
                        a.splice(i, 1);
                    }
                }
                if (a.length === 0) {
                    delete _tweenLookup[p];
                }
            }
            p = _rootTimeline._first;
            if (!p || p._paused)
                if (TweenLite.autoSleep && !_rootFramesTimeline._first && _ticker._listeners.tick.length === 1) {
                    while (p && p._paused) {
                        p = p._next;
                    }
                    if (!p) {
                        _ticker.sleep();
                    }
                }
        }
    };
    _ticker.addEventListener("tick", Animation._updateRoot);
    var _register = function(target, tween, scrub) {
        var id = target._gsTweenID, a, i;
        if (!_tweenLookup[id || (target._gsTweenID = id = "t" + (_tweenLookupNum++))]) {
            _tweenLookup[id] = {target: target,tweens: []};
        }
        if (tween) {
            a = _tweenLookup[id].tweens;
            a[(i = a.length)] = tween;
            if (scrub) {
                while (--i > -1) {
                    if (a[i] === tween) {
                        a.splice(i, 1);
                    }
                }
            }
        }
        return _tweenLookup[id].tweens;
    }, _applyOverwrite = function(target, tween, props, mode, siblings) {
        var i, changed, curTween, l;
        if (mode === 1 || mode >= 4) {
            l = siblings.length;
            for (i = 0; i < l; i++) {
                if ((curTween = siblings[i]) !== tween) {
                    if (!curTween._gc)
                        if (curTween._enabled(false, false)) {
                            changed = true;
                        }
                } else if (mode === 5) {
                    break;
                }
            }
            return changed;
        }
        var startTime = tween._startTime + 0.0000000001, overlaps = [], oCount = 0, zeroDur = (tween._duration === 0), globalStart;
        i = siblings.length;
        while (--i > -1) {
            if ((curTween = siblings[i]) === tween || curTween._gc || curTween._paused) {
            } else if (curTween._timeline !== tween._timeline) {
                globalStart = globalStart || _checkOverlap(tween, 0, zeroDur);
                if (_checkOverlap(curTween, globalStart, zeroDur) === 0) {
                    overlaps[oCount++] = curTween;
                }
            } else if (curTween._startTime <= startTime)
                if (curTween._startTime + curTween.totalDuration() / curTween._timeScale + 0.0000000001 > startTime)
                    if (!((zeroDur || !curTween._initted) && startTime - curTween._startTime <= 0.0000000002)) {
                        overlaps[oCount++] = curTween;
                    }
        }
        i = oCount;
        while (--i > -1) {
            curTween = overlaps[i];
            if (mode === 2)
                if (curTween._kill(props, target)) {
                    changed = true;
                }
            if (mode !== 2 || (!curTween._firstPT && curTween._initted)) {
                if (curTween._enabled(false, false)) {
                    changed = true;
                }
            }
        }
        return changed;
    }, _checkOverlap = function(tween, reference, zeroDur) {
        var tl = tween._timeline, ts = tl._timeScale, t = tween._startTime, min = 0.0000000001;
        while (tl._timeline) {
            t += tl._startTime;
            ts *= tl._timeScale;
            if (tl._paused) {
                return -100;
            }
            tl = tl._timeline;
        }
        t /= ts;
        return (t > reference) ? t - reference : ((zeroDur && t === reference) || (!tween._initted && t - reference < 2 * min)) ? min : ((t += tween.totalDuration() / tween._timeScale / ts) > reference + min) ? 0 : t - reference - min;
    };
    p._init = function() {
        var v = this.vars, op = this._overwrittenProps, dur = this._duration, immediate = v.immediateRender, ease = v.ease, i, initPlugins, pt, p;
        if (v.startAt) {
            if (this._startAt) {
                this._startAt.render(-1, true);
            }
            v.startAt.overwrite = 0;
            v.startAt.immediateRender = true;
            this._startAt = TweenLite.to(this.target, 0, v.startAt);
            if (immediate) {
                if (this._time > 0) {
                    this._startAt = null;
                } else if (dur !== 0) {
                    return;
                }
            }
        } else if (v.runBackwards && v.immediateRender && dur !== 0) {
            if (this._startAt) {
                this._startAt.render(-1, true);
                this._startAt = null;
            } else if (this._time === 0) {
                pt = {};
                for (p in v) {
                    if (!_reservedProps[p] || p === "autoCSS") {
                        pt[p] = v[p];
                    }
                }
                pt.overwrite = 0;
                this._startAt = TweenLite.to(this.target, 0, pt);
                return;
            }
        }
        if (!ease) {
            this._ease = TweenLite.defaultEase;
        } else if (ease instanceof Ease) {
            this._ease = (v.easeParams instanceof Array) ? ease.config.apply(ease, v.easeParams) : ease;
        } else {
            this._ease = (typeof (ease) === "function") ? new Ease(ease, v.easeParams) : _easeMap[ease] || TweenLite.defaultEase;
        }
        this._easeType = this._ease._type;
        this._easePower = this._ease._power;
        this._firstPT = null;
        if (this._targets) {
            i = this._targets.length;
            while (--i > -1) {
                if (this._initProps(this._targets[i], (this._propLookup[i] = {}), this._siblings[i], (op ? op[i] : null))) {
                    initPlugins = true;
                }
            }
        } else {
            initPlugins = this._initProps(this.target, this._propLookup, this._siblings, op);
        }
        if (initPlugins) {
            TweenLite._onPluginEvent("_onInitAllProps", this);
        }
        if (op)
            if (!this._firstPT)
                if (typeof (this.target) !== "function") {
                    this._enabled(false, false);
                }
        if (v.runBackwards) {
            pt = this._firstPT;
            while (pt) {
                pt.s += pt.c;
                pt.c = -pt.c;
                pt = pt._next;
            }
        }
        this._onUpdate = v.onUpdate;
        this._initted = true;
    };
    p._initProps = function(target, propLookup, siblings, overwrittenProps) {
        var p, i, initPlugins, plugin, a, pt, v;
        if (target == null) {
            return false;
        }
        if (!this.vars.css)
            if (target.style)
                if (target !== window && target.nodeType)
                    if (_plugins.css)
                        if (this.vars.autoCSS !== false) {
                            _autoCSS(this.vars, target);
                        }
        for (p in this.vars) {
            v = this.vars[p];
            if (_reservedProps[p]) {
                if (v instanceof Array)
                    if (v.join("").indexOf("{self}") !== -1) {
                        this.vars[p] = v = this._swapSelfInParams(v, this);
                    }
            } else if (_plugins[p] && (plugin = new _plugins[p]())._onInitTween(target, this.vars[p], this)) {
                this._firstPT = pt = {_next: this._firstPT,t: plugin,p: "setRatio",s: 0,c: 1,f: true,n: p,pg: true,pr: plugin._priority};
                i = plugin._overwriteProps.length;
                while (--i > -1) {
                    propLookup[plugin._overwriteProps[i]] = this._firstPT;
                }
                if (plugin._priority || plugin._onInitAllProps) {
                    initPlugins = true;
                }
                if (plugin._onDisable || plugin._onEnable) {
                    this._notifyPluginsOfEnabled = true;
                }
            } else {
                this._firstPT = propLookup[p] = pt = {_next: this._firstPT,t: target,p: p,f: (typeof (target[p]) === "function"),n: p,pg: false,pr: 0};
                pt.s = (!pt.f) ? parseFloat(target[p]) : target[((p.indexOf("set") || typeof (target["get" + p.substr(3)]) !== "function") ? p : "get" + p.substr(3))]();
                pt.c = (typeof (v) === "string" && v.charAt(1) === "=") ? parseInt(v.charAt(0) + "1", 10) * Number(v.substr(2)) : (Number(v) - pt.s) || 0;
            }
            if (pt)
                if (pt._next) {
                    pt._next._prev = pt;
                }
        }
        if (overwrittenProps)
            if (this._kill(overwrittenProps, target)) {
                return this._initProps(target, propLookup, siblings, overwrittenProps);
            }
        if (this._overwrite > 1)
            if (this._firstPT)
                if (siblings.length > 1)
                    if (_applyOverwrite(target, this, propLookup, this._overwrite, siblings)) {
                        this._kill(propLookup, target);
                        return this._initProps(target, propLookup, siblings, overwrittenProps);
                    }
        return initPlugins;
    };
    p.render = function(time, suppressEvents, force) {
        var prevTime = this._time, isComplete, callback, pt;
        if (time >= this._duration) {
            this._totalTime = this._time = this._duration;
            this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1;
            if (!this._reversed) {
                isComplete = true;
                callback = "onComplete";
            }
            if (this._duration === 0) {
                if (time === 0 || this._rawPrevTime < 0)
                    if (this._rawPrevTime !== time) {
                        force = true;
                        if (this._rawPrevTime > 0) {
                            callback = "onReverseComplete";
                            if (suppressEvents) {
                                time = -1;
                            }
                        }
                    }
                this._rawPrevTime = time;
            }
        } else if (time < 0.0000001) {
            this._totalTime = this._time = 0;
            this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0;
            if (prevTime !== 0 || (this._duration === 0 && this._rawPrevTime > 0)) {
                callback = "onReverseComplete";
                isComplete = this._reversed;
            }
            if (time < 0) {
                this._active = false;
                if (this._duration === 0) {
                    if (this._rawPrevTime >= 0) {
                        force = true;
                    }
                    this._rawPrevTime = time;
                }
            } else if (!this._initted) {
                force = true;
            }
        } else {
            this._totalTime = this._time = time;
            if (this._easeType) {
                var r = time / this._duration, type = this._easeType, pow = this._easePower;
                if (type === 1 || (type === 3 && r >= 0.5)) {
                    r = 1 - r;
                }
                if (type === 3) {
                    r *= 2;
                }
                if (pow === 1) {
                    r *= r;
                } else if (pow === 2) {
                    r *= r * r;
                } else if (pow === 3) {
                    r *= r * r * r;
                } else if (pow === 4) {
                    r *= r * r * r * r;
                }
                if (type === 1) {
                    this.ratio = 1 - r;
                } else if (type === 2) {
                    this.ratio = r;
                } else if (time / this._duration < 0.5) {
                    this.ratio = r / 2;
                } else {
                    this.ratio = 1 - (r / 2);
                }
            } else {
                this.ratio = this._ease.getRatio(time / this._duration);
            }
        }
        if (this._time === prevTime && !force) {
            return;
        } else if (!this._initted) {
            this._init();
            if (!this._initted) {
                return;
            }
            if (this._time && !isComplete) {
                this.ratio = this._ease.getRatio(this._time / this._duration);
            } else if (isComplete && this._ease._calcEnd) {
                this.ratio = this._ease.getRatio((this._time === 0) ? 0 : 1);
            }
        }
        if (!this._active)
            if (!this._paused && this._time !== prevTime && time >= 0) {
                this._active = true;
            }
        if (prevTime === 0) {
            if (this._startAt) {
                if (time >= 0) {
                    this._startAt.render(time, suppressEvents, force);
                } else if (!callback) {
                    callback = "_dummyGS";
                }
            }
            if (this.vars.onStart)
                if (this._time !== 0 || this._duration === 0)
                    if (!suppressEvents) {
                        this.vars.onStart.apply(this.vars.onStartScope || this, this.vars.onStartParams || _blankArray);
                    }
        }
        pt = this._firstPT;
        while (pt) {
            if (pt.f) {
                pt.t[pt.p](pt.c * this.ratio + pt.s);
            } else {
                pt.t[pt.p] = pt.c * this.ratio + pt.s;
            }
            pt = pt._next;
        }
        if (this._onUpdate) {
            if (time < 0)
                if (this._startAt) {
                    this._startAt.render(time, suppressEvents, force);
                }
            if (!suppressEvents) {
                this._onUpdate.apply(this.vars.onUpdateScope || this, this.vars.onUpdateParams || _blankArray);
            }
        }
        if (callback)
            if (!this._gc) {
                if (time < 0 && this._startAt && !this._onUpdate) {
                    this._startAt.render(time, suppressEvents, force);
                }
                if (isComplete) {
                    if (this._timeline.autoRemoveChildren) {
                        this._enabled(false, false);
                    }
                    this._active = false;
                }
                if (!suppressEvents && this.vars[callback]) {
                    this.vars[callback].apply(this.vars[callback + "Scope"] || this, this.vars[callback + "Params"] || _blankArray);
                }
            }
    };
    p._kill = function(vars, target) {
        if (vars === "all") {
            vars = null;
        }
        if (vars == null)
            if (target == null || target === this.target) {
                return this._enabled(false, false);
            }
        target = (typeof (target) !== "string") ? (target || this._targets || this.target) : TweenLite.selector(target) || target;
        var i, overwrittenProps, p, pt, propLookup, changed, killProps, record;
        if ((target instanceof Array || _isSelector(target)) && typeof (target[0]) !== "number") {
            i = target.length;
            while (--i > -1) {
                if (this._kill(vars, target[i])) {
                    changed = true;
                }
            }
        } else {
            if (this._targets) {
                i = this._targets.length;
                while (--i > -1) {
                    if (target === this._targets[i]) {
                        propLookup = this._propLookup[i] || {};
                        this._overwrittenProps = this._overwrittenProps || [];
                        overwrittenProps = this._overwrittenProps[i] = vars ? this._overwrittenProps[i] || {} : "all";
                        break;
                    }
                }
            } else if (target !== this.target) {
                return false;
            } else {
                propLookup = this._propLookup;
                overwrittenProps = this._overwrittenProps = vars ? this._overwrittenProps || {} : "all";
            }
            if (propLookup) {
                killProps = vars || propLookup;
                record = (vars !== overwrittenProps && overwrittenProps !== "all" && vars !== propLookup && (vars == null || vars._tempKill !== true));
                for (p in killProps) {
                    if ((pt = propLookup[p])) {
                        if (pt.pg && pt.t._kill(killProps)) {
                            changed = true;
                        }
                        if (!pt.pg || pt.t._overwriteProps.length === 0) {
                            if (pt._prev) {
                                pt._prev._next = pt._next;
                            } else if (pt === this._firstPT) {
                                this._firstPT = pt._next;
                            }
                            if (pt._next) {
                                pt._next._prev = pt._prev;
                            }
                            pt._next = pt._prev = null;
                        }
                        delete propLookup[p];
                    }
                    if (record) {
                        overwrittenProps[p] = 1;
                    }
                }
                if (!this._firstPT && this._initted) {
                    this._enabled(false, false);
                }
            }
        }
        return changed;
    };
    p.invalidate = function() {
        if (this._notifyPluginsOfEnabled) {
            TweenLite._onPluginEvent("_onDisable", this);
        }
        this._firstPT = null;
        this._overwrittenProps = null;
        this._onUpdate = null;
        this._startAt = null;
        this._initted = this._active = this._notifyPluginsOfEnabled = false;
        this._propLookup = (this._targets) ? {} : [];
        return this;
    };
    p._enabled = function(enabled, ignoreTimeline) {
        if (!_tickerActive) {
            _ticker.wake();
        }
        if (enabled && this._gc) {
            var targets = this._targets, i;
            if (targets) {
                i = targets.length;
                while (--i > -1) {
                    this._siblings[i] = _register(targets[i], this, true);
                }
            } else {
                this._siblings = _register(this.target, this, true);
            }
        }
        Animation.prototype._enabled.call(this, enabled, ignoreTimeline);
        if (this._notifyPluginsOfEnabled)
            if (this._firstPT) {
                return TweenLite._onPluginEvent((enabled ? "_onEnable" : "_onDisable"), this);
            }
        return false;
    };
    TweenLite.to = function(target, duration, vars) {
        return new TweenLite(target, duration, vars);
    };
    TweenLite.from = function(target, duration, vars) {
        vars.runBackwards = true;
        vars.immediateRender = (vars.immediateRender != false);
        return new TweenLite(target, duration, vars);
    };
    TweenLite.fromTo = function(target, duration, fromVars, toVars) {
        toVars.startAt = fromVars;
        toVars.immediateRender = (toVars.immediateRender != false && fromVars.immediateRender != false);
        return new TweenLite(target, duration, toVars);
    };
    TweenLite.delayedCall = function(delay, callback, params, scope, useFrames) {
        return new TweenLite(callback, 0, {delay: delay,onComplete: callback,onCompleteParams: params,onCompleteScope: scope,onReverseComplete: callback,onReverseCompleteParams: params,onReverseCompleteScope: scope,immediateRender: false,useFrames: useFrames,overwrite: 0});
    };
    TweenLite.set = function(target, vars) {
        return new TweenLite(target, 0, vars);
    };
    TweenLite.killTweensOf = TweenLite.killDelayedCallsTo = function(target, vars) {
        var a = TweenLite.getTweensOf(target), i = a.length;
        while (--i > -1) {
            a[i]._kill(vars, target);
        }
    };
    TweenLite.getTweensOf = function(target) {
        if (target == null) {
            return [];
        }
        target = (typeof (target) !== "string") ? target : TweenLite.selector(target) || target;
        var i, a, j, t;
        if ((target instanceof Array || _isSelector(target)) && typeof (target[0]) !== "number") {
            i = target.length;
            a = [];
            while (--i > -1) {
                a = a.concat(TweenLite.getTweensOf(target[i]));
            }
            i = a.length;
            while (--i > -1) {
                t = a[i];
                j = i;
                while (--j > -1) {
                    if (t === a[j]) {
                        a.splice(i, 1);
                    }
                }
            }
        } else {
            a = _register(target).concat();
            i = a.length;
            while (--i > -1) {
                if (a[i]._gc) {
                    a.splice(i, 1);
                }
            }
        }
        return a;
    };
    var TweenPlugin = _class("plugins.TweenPlugin", function(props, priority) {
        this._overwriteProps = (props || "").split(",");
        this._propName = this._overwriteProps[0];
        this._priority = priority || 0;
        this._super = TweenPlugin.prototype;
    }, true);
    p = TweenPlugin.prototype;
    TweenPlugin.version = "1.10.1";
    TweenPlugin.API = 2;
    p._firstPT = null;
    p._addTween = function(target, prop, start, end, overwriteProp, round) {
        var c, pt;
        if (end != null && (c = (typeof (end) === "number" || end.charAt(1) !== "=") ? Number(end) - start : parseInt(end.charAt(0) + "1", 10) * Number(end.substr(2)))) {
            this._firstPT = pt = {_next: this._firstPT,t: target,p: prop,s: start,c: c,f: (typeof (target[prop]) === "function"),n: overwriteProp || prop,r: round};
            if (pt._next) {
                pt._next._prev = pt;
            }
            return pt;
        }
    };
    p.setRatio = function(v) {
        var pt = this._firstPT, min = 0.000001, val;
        while (pt) {
            val = pt.c * v + pt.s;
            if (pt.r) {
                val = (val + ((val > 0) ? 0.5 : -0.5)) | 0;
            } else if (val < min)
                if (val > -min) {
                    val = 0;
                }
            if (pt.f) {
                pt.t[pt.p](val);
            } else {
                pt.t[pt.p] = val;
            }
            pt = pt._next;
        }
    };
    p._kill = function(lookup) {
        var a = this._overwriteProps, pt = this._firstPT, i;
        if (lookup[this._propName] != null) {
            this._overwriteProps = [];
        } else {
            i = a.length;
            while (--i > -1) {
                if (lookup[a[i]] != null) {
                    a.splice(i, 1);
                }
            }
        }
        while (pt) {
            if (lookup[pt.n] != null) {
                if (pt._next) {
                    pt._next._prev = pt._prev;
                }
                if (pt._prev) {
                    pt._prev._next = pt._next;
                    pt._prev = null;
                } else if (this._firstPT === pt) {
                    this._firstPT = pt._next;
                }
            }
            pt = pt._next;
        }
        return false;
    };
    p._roundProps = function(lookup, value) {
        var pt = this._firstPT;
        while (pt) {
            if (lookup[this._propName] || (pt.n != null && lookup[pt.n.split(this._propName + "_").join("")])) {
                pt.r = value;
            }
            pt = pt._next;
        }
    };
    TweenLite._onPluginEvent = function(type, tween) {
        var pt = tween._firstPT, changed, pt2, first, last, next;
        if (type === "_onInitAllProps") {
            while (pt) {
                next = pt._next;
                pt2 = first;
                while (pt2 && pt2.pr > pt.pr) {
                    pt2 = pt2._next;
                }
                if ((pt._prev = pt2 ? pt2._prev : last)) {
                    pt._prev._next = pt;
                } else {
                    first = pt;
                }
                if ((pt._next = pt2)) {
                    pt2._prev = pt;
                } else {
                    last = pt;
                }
                pt = next;
            }
            pt = tween._firstPT = first;
        }
        while (pt) {
            if (pt.pg)
                if (typeof (pt.t[type]) === "function")
                    if (pt.t[type]()) {
                        changed = true;
                    }
            pt = pt._next;
        }
        return changed;
    };
    TweenPlugin.activate = function(plugins) {
        var i = plugins.length;
        while (--i > -1) {
            if (plugins[i].API === TweenPlugin.API) {
                _plugins[(new plugins[i]())._propName] = plugins[i];
            }
        }
        return true;
    };
    _gsDefine.plugin = function(config) {
        if (!config || !config.propName || !config.init || !config.API) {
            throw "illegal plugin definition.";
        }
        var propName = config.propName, priority = config.priority || 0, overwriteProps = config.overwriteProps, map = {init: "_onInitTween",set: "setRatio",kill: "_kill",round: "_roundProps",initAll: "_onInitAllProps"}, Plugin = _class("plugins." + propName.charAt(0).toUpperCase() + propName.substr(1) + "Plugin", function() {
            TweenPlugin.call(this, propName, priority);
            this._overwriteProps = overwriteProps || [];
        }, (config.global === true)), p = Plugin.prototype = new TweenPlugin(propName), prop;
        p.constructor = Plugin;
        Plugin.API = config.API;
        for (prop in map) {
            if (typeof (config[prop]) === "function") {
                p[map[prop]] = config[prop];
            }
        }
        Plugin.version = config.version;
        TweenPlugin.activate([Plugin]);
        return Plugin;
    };
    a = window._gsQueue;
    if (a) {
        for (i = 0; i < a.length; i++) {
            a[i]();
        }
        for (p in _defLookup) {
            if (!_defLookup[p].func) {
                window.console.log("GSAP encountered missing dependency: com.greensock." + p);
            }
        }
    }
    _tickerActive = false;
})(window);
(function($) {
    "use strict";
    var _animate = $.fn.animate, _stop = $.fn.stop, _enabled = true, TweenLite, CSSPlugin, _warned, _dequeue = function(func, next) {
        if (typeof (func) === "function") {
            this.each(func);
        }
        next();
    }, _addCallback = function(type, func, obj, vars, next) {
        next = (typeof (next) === "function") ? next : null;
        func = (typeof (func) === "function") ? func : null;
        if (!func && !next) {
            return;
        }
        vars[type] = next ? _dequeue : obj.each;
        vars[type + "Scope"] = obj;
        vars[type + "Params"] = next ? [func, next] : [func];
    }, _reserved = {overwrite: 1,delay: 1,useFrames: 1,runBackwards: 1,easeParams: 1,yoyo: 1,immediateRender: 1,repeat: 1,repeatDelay: 1,autoCSS: 1}, _copyCriticalReserved = function(main, sub) {
        for (var p in _reserved) {
            if (_reserved[p] && main[p] !== undefined) {
                sub[p] = main[p];
            }
        }
    }, _createEase = function(ease) {
        return function(p) {
            return ease.getRatio(p);
        };
    }, _easeMap = {}, _init = function() {
        var globals = window.GreenSockGlobals || window, version, stale, p;
        TweenLite = globals.TweenMax || globals.TweenLite;
        if (TweenLite) {
            version = (TweenLite.version + ".0.0").split(".");
            stale = !(Number(version[0]) > 0 && Number(version[1]) > 7);
            globals = globals.com.greensock;
            CSSPlugin = globals.plugins.CSSPlugin;
            _easeMap = globals.easing.Ease.map || {};
        }
        if (!TweenLite || !CSSPlugin || stale) {
            TweenLite = null;
            if (!_warned && window.console) {
                window.console.log("The jquery.gsap.js plugin requires the TweenMax (or at least TweenLite and CSSPlugin) JavaScript file(s)." + (stale ? " Version " + version.join(".") + " is too old." : ""));
                _warned = true;
            }
            return;
        }
        if ($.easing) {
            for (p in _easeMap) {
                $.easing[p] = _createEase(_easeMap[p]);
            }
            _init = false;
        }
    };
    $.fn.animate = function(prop, speed, easing, callback) {
        prop = prop || {};
        if (_init) {
            _init();
            if (!TweenLite || !CSSPlugin) {
                return _animate.call(this, prop, speed, easing, callback);
            }
        }
        if (!_enabled || prop.skipGSAP === true || (typeof (speed) === "object" && typeof (speed.step) === "function") || prop.scrollTop != null || prop.scrollLeft != null) {
            return _animate.call(this, prop, speed, easing, callback);
        }
        var config = $.speed(speed, easing, callback), vars = {ease: (_easeMap[config.easing] || ((config.easing === false) ? _easeMap.linear : _easeMap.swing))}, obj = this, specEasing = (typeof (speed) === "object") ? speed.specialEasing : null, val, p, doAnimation, specEasingVars;
        for (p in prop) {
            val = prop[p];
            if (val instanceof Array && _easeMap[val[1]]) {
                specEasing = specEasing || {};
                specEasing[p] = val[1];
                val = val[0];
            }
            if (val === "toggle" || val === "hide" || val === "show") {
                return _animate.call(this, prop, speed, easing, callback);
            } else {
                vars[(p.indexOf("-") === -1) ? p : $.camelCase(p)] = val;
            }
        }
        if (specEasing) {
            specEasingVars = [];
            for (p in specEasing) {
                val = specEasingVars[specEasingVars.length] = {};
                _copyCriticalReserved(vars, val);
                val.ease = (_easeMap[specEasing[p]] || vars.ease);
                if (p.indexOf("-") !== -1) {
                    p = $.camelCase(p);
                }
                val[p] = vars[p];
            }
            if (specEasingVars.length === 0) {
                specEasingVars = null;
            }
        }
        doAnimation = function(next) {
            if (specEasingVars) {
                var i = specEasingVars.length;
                while (--i > -1) {
                    TweenLite.to(obj, $.fx.off ? 0 : config.duration / 1000, specEasingVars[i]);
                }
            }
            _addCallback("onComplete", config.old, obj, vars, next);
            TweenLite.to(obj, $.fx.off ? 0 : config.duration / 1000, vars);
        };
        if (config.queue !== false) {
            obj.queue(config.queue, doAnimation);
        } else {
            doAnimation();
        }
        return obj;
    };
    $.fn.stop = function(clearQueue, gotoEnd) {
        _stop.call(this, clearQueue, gotoEnd);
        if (TweenLite) {
            if (gotoEnd) {
                var tweens = TweenLite.getTweensOf(this), i = tweens.length, progress;
                while (--i > -1) {
                    progress = tweens[i].totalTime() / tweens[i].totalDuration();
                    if (progress > 0 && progress < 1) {
                        tweens[i].seek(tweens[i].totalDuration());
                    }
                }
            }
            TweenLite.killTweensOf(this);
        }
        return this;
    };
    $.gsap = {enabled: function(value) {
            _enabled = value;
        },version: "0.1.6"};
}(jQuery));
(function($) {
    if (typeof $.fn.each2 == "undefined") {
        $.fn.extend({each2: function(c) {
                var j = $([0]), i = -1, l = this.length;
                while (++i < l && (j.context = j[0] = this[i]) && c.call(j[0], i, j) !== false)
                    ;
                return this;
            }});
    }
})(jQuery);
(function($, undefined) {
    "use strict";
    if (window.Select2 !== undefined) {
        return;
    }
    var KEY, AbstractSelect2, SingleSelect2, MultiSelect2, nextUid, sizer, lastMousePosition, $document;
    KEY = {TAB: 9,ENTER: 13,ESC: 27,SPACE: 32,LEFT: 37,UP: 38,RIGHT: 39,DOWN: 40,SHIFT: 16,CTRL: 17,ALT: 18,PAGE_UP: 33,PAGE_DOWN: 34,HOME: 36,END: 35,BACKSPACE: 8,DELETE: 46,isArrow: function(k) {
            k = k.which ? k.which : k;
            switch (k) {
                case KEY.LEFT:
                case KEY.RIGHT:
                case KEY.UP:
                case KEY.DOWN:
                    return true;
            }
            return false;
        },isControl: function(e) {
            var k = e.which;
            switch (k) {
                case KEY.SHIFT:
                case KEY.CTRL:
                case KEY.ALT:
                    return true;
            }
            if (e.metaKey)
                return true;
            return false;
        },isFunctionKey: function(k) {
            k = k.which ? k.which : k;
            return k >= 112 && k <= 123;
        }};
    $document = $(document);
    nextUid = (function() {
        var counter = 1;
        return function() {
            return counter++;
        };
    }());
    function indexOf(value, array) {
        var i = 0, l = array.length;
        for (; i < l; i = i + 1) {
            if (equal(value, array[i]))
                return i;
        }
        return -1;
    }
    function equal(a, b) {
        if (a === b)
            return true;
        if (a === undefined || b === undefined)
            return false;
        if (a === null || b === null)
            return false;
        if (a.constructor === String)
            return a + '' === b + '';
        if (b.constructor === String)
            return b + '' === a + '';
        return false;
    }
    function splitVal(string, separator) {
        var val, i, l;
        if (string === null || string.length < 1)
            return [];
        val = string.split(separator);
        for (i = 0, l = val.length; i < l; i = i + 1)
            val[i] = $.trim(val[i]);
        return val;
    }
    function getSideBorderPadding(element) {
        return element.outerWidth(false) - element.width();
    }
    function installKeyUpChangeEvent(element) {
        var key = "keyup-change-value";
        element.bind("keydown", function() {
            if ($.data(element, key) === undefined) {
                $.data(element, key, element.val());
            }
        });
        element.bind("keyup", function() {
            var val = $.data(element, key);
            if (val !== undefined && element.val() !== val) {
                $.removeData(element, key);
                element.trigger("keyup-change");
            }
        });
    }
    $document.bind("mousemove", function(e) {
        lastMousePosition = {x: e.pageX,y: e.pageY};
    });
    function installFilteredMouseMove(element) {
        element.bind("mousemove", function(e) {
            var lastpos = lastMousePosition;
            if (lastpos === undefined || lastpos.x !== e.pageX || lastpos.y !== e.pageY) {
                $(e.target).trigger("mousemove-filtered", e);
            }
        });
    }
    function debounce(quietMillis, fn, ctx) {
        ctx = ctx || undefined;
        var timeout;
        return function() {
            var args = arguments;
            window.clearTimeout(timeout);
            timeout = window.setTimeout(function() {
                fn.apply(ctx, args);
            }, quietMillis);
        };
    }
    function thunk(formula) {
        var evaluated = false, value;
        return function() {
            if (evaluated === false) {
                value = formula();
                evaluated = true;
            }
            return value;
        };
    }
    ;
    function installDebouncedScroll(threshold, element) {
        var notify = debounce(threshold, function(e) {
            element.trigger("scroll-debounced", e);
        });
        element.bind("scroll", function(e) {
            if (indexOf(e.target, element.get()) >= 0)
                notify(e);
        });
    }
    function focus($el) {
        if ($el[0] === document.activeElement)
            return;
        window.setTimeout(function() {
            var el = $el[0], pos = $el.val().length, range;
            $el.focus();
            if ($el.is(":visible") && el === document.activeElement) {
                if (el.setSelectionRange) 
                {
                    el.setSelectionRange(pos, pos);
                } 
                else if (el.createTextRange) {
                    range = el.createTextRange();
                    range.collapse(false);
                    range.select();
                }
            }
        }, 0);
    }
    function killEvent(event) {
        event.preventDefault();
        event.stopPropagation();
    }
    function killEventImmediately(event) {
        event.preventDefault();
        event.stopImmediatePropagation();
    }
    function measureTextWidth(e) {
        if (!sizer) {
            var style = e[0].currentStyle || window.getComputedStyle(e[0], null);
            sizer = $(document.createElement("div")).css({position: "absolute",left: "-10000px",top: "-10000px",display: "none",fontSize: style.fontSize,fontFamily: style.fontFamily,fontStyle: style.fontStyle,fontWeight: style.fontWeight,letterSpacing: style.letterSpacing,textTransform: style.textTransform,whiteSpace: "nowrap"});
            sizer.attr("class", "select2-sizer");
            $("body").append(sizer);
        }
        sizer.text(e.val());
        return sizer.width();
    }
    function syncCssClasses(dest, src, adapter) {
        var classes, replacements = [], adapted;
        classes = dest.attr("class");
        if (classes) {
            classes = '' + classes;
            $(classes.split(" ")).each2(function() {
                if (this.indexOf("select2-") === 0) {
                    replacements.push(this);
                }
            });
        }
        classes = src.attr("class");
        if (classes) {
            classes = '' + classes;
            $(classes.split(" ")).each2(function() {
                if (this.indexOf("select2-") !== 0) {
                    adapted = adapter(this);
                    if (adapted) {
                        replacements.push(this);
                    }
                }
            });
        }
        dest.attr("class", replacements.join(" "));
    }
    function markMatch(text, term, markup, escapeMarkup) {
        var match = text.toUpperCase().indexOf(term.toUpperCase()), tl = term.length;
        if (match < 0) {
            markup.push(escapeMarkup(text));
            return;
        }
        markup.push(escapeMarkup(text.substring(0, match)));
        markup.push("<span class='select2-match'>");
        markup.push(escapeMarkup(text.substring(match, match + tl)));
        markup.push("</span>");
        markup.push(escapeMarkup(text.substring(match + tl, text.length)));
    }
    function ajax(options) {
        var timeout, requestSequence = 0, handler = null, quietMillis = options.quietMillis || 100, ajaxUrl = options.url, self = this;
        return function(query) {
            window.clearTimeout(timeout);
            timeout = window.setTimeout(function() {
                requestSequence += 1;
                var requestNumber = requestSequence, data = options.data, url = ajaxUrl, transport = options.transport || $.ajax, type = options.type || 'GET', params = {};
                data = data ? data.call(self, query.term, query.page, query.context) : null;
                url = (typeof url === 'function') ? url.call(self, query.term, query.page, query.context) : url;
                if (null !== handler) {
                    handler.abort();
                }
                if (options.params) {
                    if ($.isFunction(options.params)) {
                        $.extend(params, options.params.call(self));
                    } else {
                        $.extend(params, options.params);
                    }
                }
                $.extend(params, {url: url,dataType: options.dataType,data: data,type: type,cache: false,success: function(data) {
                        if (requestNumber < requestSequence) {
                            return;
                        }
                        var results = options.results(data, query.page);
                        query.callback(results);
                    }});
                handler = transport.call(self, params);
            }, quietMillis);
        };
    }
    function local(options) {
        var data = options, dataText, tmp, text = function(item) {
            return "" + item.text;
        };
        if ($.isArray(data)) {
            tmp = data;
            data = {results: tmp};
        }
        if ($.isFunction(data) === false) {
            tmp = data;
            data = function() {
                return tmp;
            };
        }
        var dataItem = data();
        if (dataItem.text) {
            text = dataItem.text;
            if (!$.isFunction(text)) {
                dataText = data.text;
                text = function(item) {
                    return item[dataText];
                };
            }
        }
        return function(query) {
            var t = query.term, filtered = {results: []}, process;
            if (t === "") {
                query.callback(data());
                return;
            }
            process = function(datum, collection) {
                var group, attr;
                datum = datum[0];
                if (datum.children) {
                    group = {};
                    for (attr in datum) {
                        if (datum.hasOwnProperty(attr))
                            group[attr] = datum[attr];
                    }
                    group.children = [];
                    $(datum.children).each2(function(i, childDatum) {
                        process(childDatum, group.children);
                    });
                    if (group.children.length || query.matcher(t, text(group), datum)) {
                        collection.push(group);
                    }
                } else {
                    if (query.matcher(t, text(datum), datum)) {
                        collection.push(datum);
                    }
                }
            };
            $(data().results).each2(function(i, datum) {
                process(datum, filtered.results);
            });
            query.callback(filtered);
        };
    }
    function tags(data) {
        var isFunc = $.isFunction(data);
        return function(query) {
            var t = query.term, filtered = {results: []};
            $(isFunc ? data() : data).each(function() {
                var isObject = this.text !== undefined, text = isObject ? this.text : this;
                if (t === "" || query.matcher(t, text)) {
                    filtered.results.push(isObject ? this : {id: this,text: this});
                }
            });
            query.callback(filtered);
        };
    }
    function checkFormatter(formatter, formatterName) {
        if ($.isFunction(formatter))
            return true;
        if (!formatter)
            return false;
        throw new Error("formatterName must be a function or a falsy value");
    }
    function evaluate(val) {
        return $.isFunction(val) ? val() : val;
    }
    function countResults(results) {
        var count = 0;
        $.each(results, function(i, item) {
            if (item.children) {
                count += countResults(item.children);
            } else {
                count++;
            }
        });
        return count;
    }
    function defaultTokenizer(input, selection, selectCallback, opts) {
        var original = input, dupe = false, token, index, i, l, separator;
        if (!opts.createSearchChoice || !opts.tokenSeparators || opts.tokenSeparators.length < 1)
            return undefined;
        while (true) {
            index = -1;
            for (i = 0, l = opts.tokenSeparators.length; i < l; i++) {
                separator = opts.tokenSeparators[i];
                index = input.indexOf(separator);
                if (index >= 0)
                    break;
            }
            if (index < 0)
                break;
            token = input.substring(0, index);
            input = input.substring(index + separator.length);
            if (token.length > 0) {
                token = opts.createSearchChoice(token, selection);
                if (token !== undefined && token !== null && opts.id(token) !== undefined && opts.id(token) !== null) {
                    dupe = false;
                    for (i = 0, l = selection.length; i < l; i++) {
                        if (equal(opts.id(token), opts.id(selection[i]))) {
                            dupe = true;
                            break;
                        }
                    }
                    if (!dupe)
                        selectCallback(token);
                }
            }
        }
        if (original !== input)
            return input;
    }
    function clazz(SuperClass, methods) {
        var constructor = function() {
        };
        constructor.prototype = new SuperClass;
        constructor.prototype.constructor = constructor;
        constructor.prototype.parent = SuperClass.prototype;
        constructor.prototype = $.extend(constructor.prototype, methods);
        return constructor;
    }
    AbstractSelect2 = clazz(Object, {bind: function(func) {
            var self = this;
            return function() {
                func.apply(self, arguments);
            };
        },init: function(opts) {
            var results, search, resultsSelector = ".select2-results", mask;
            this.opts = opts = this.prepareOpts(opts);
            this.id = opts.id;
            if (opts.element.data("select2") !== undefined && opts.element.data("select2") !== null) {
                this.destroy();
            }
            this.enabled = true;
            this.container = this.createContainer();
            this.containerId = "s2id_" + (opts.element.attr("id") || "autogen" + nextUid());
            this.containerSelector = "#" + this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g, '\\$1');
            this.container.attr("id", this.containerId);
            this.body = thunk(function() {
                return opts.element.closest("body");
            });
            syncCssClasses(this.container, this.opts.element, this.opts.adaptContainerCssClass);
            this.container.css(evaluate(opts.containerCss));
            this.container.addClass(evaluate(opts.containerCssClass));
            this.elementTabIndex = this.opts.element.attr("tabIndex");
            this.opts.element.data("select2", this).addClass("select2-offscreen").bind("focus.select2", function() {
                $(this).select2("focus");
            }).attr("tabIndex", "-1").before(this.container);
            this.container.data("select2", this);
            this.dropdown = this.container.find(".select2-drop");
            this.dropdown.addClass(evaluate(opts.dropdownCssClass));
            this.dropdown.data("select2", this);
            this.results = results = this.container.find(resultsSelector);
            this.search = search = this.container.find("input.select2-input");
            search.attr("tabIndex", this.elementTabIndex);
            this.resultsPage = 0;
            this.context = null;
            this.initContainer();
            installFilteredMouseMove(this.results);
            this.dropdown.delegate(resultsSelector, "mousemove-filtered touchstart touchmove touchend", this.bind(this.highlightUnderEvent));
            installDebouncedScroll(80, this.results);
            this.dropdown.delegate(resultsSelector, "scroll-debounced", this.bind(this.loadMoreIfNeeded));
            if ($.fn.mousewheel) {
                results.mousewheel(function(e, delta, deltaX, deltaY) {
                    var top = results.scrollTop(), height;
                    if (deltaY > 0 && top - deltaY <= 0) {
                        results.scrollTop(0);
                        killEvent(e);
                    } else if (deltaY < 0 && results.get(0).scrollHeight - results.scrollTop() + deltaY <= results.height()) {
                        results.scrollTop(results.get(0).scrollHeight - results.height());
                        killEvent(e);
                    }
                });
            }
            installKeyUpChangeEvent(search);
            search.bind("keyup-change input paste", this.bind(this.updateResults));
            search.bind("focus", function() {
                search.addClass("select2-focused");
            });
            search.bind("blur", function() {
                search.removeClass("select2-focused");
            });
            this.dropdown.delegate(resultsSelector, "mouseup", this.bind(function(e) {
                if ($(e.target).closest(".select2-result-selectable").length > 0) {
                    this.highlightUnderEvent(e);
                    this.selectHighlighted(e);
                }
            }));
            this.dropdown.bind("click mouseup mousedown", function(e) {
                e.stopPropagation();
            });
            if ($.isFunction(this.opts.initSelection)) {
                this.initSelection();
                this.monitorSource();
            }
            if (opts.element.is(":disabled") || opts.element.is("[readonly='readonly']"))
                this.disable();
        },destroy: function() {
            var select2 = this.opts.element.data("select2");
            if (this.propertyObserver) {
                delete this.propertyObserver;
                this.propertyObserver = null;
            }
            if (select2 !== undefined) {
                select2.container.remove();
                select2.dropdown.remove();
                select2.opts.element.removeClass("select2-offscreen").removeData("select2").unbind(".select2").attr({"tabIndex": this.elementTabIndex}).show();
            }
        },prepareOpts: function(opts) {
            var element, select, idKey, ajaxUrl;
            element = opts.element;
            if (element.get(0).tagName.toLowerCase() === "select") {
                this.select = select = opts.element;
            }
            if (select) {
                $.each(["id", "multiple", "ajax", "query", "createSearchChoice", "initSelection", "data", "tags"], function() {
                    if (this in opts) {
                        throw new Error("Option '" + this + "' is not allowed for Select2 when attached to a <select> element.");
                    }
                });
            }
            opts = $.extend({}, {populateResults: function(container, results, query) {
                    var populate, data, result, children, id = this.opts.id, self = this;
                    populate = function(results, container, depth) {
                        var i, l, result, selectable, disabled, compound, node, label, innerContainer, formatted;
                        results = opts.sortResults(results, container, query);
                        for (i = 0, l = results.length; i < l; i = i + 1) {
                            result = results[i];
                            disabled = (result.disabled === true);
                            selectable = (!disabled) && (id(result) !== undefined);
                            compound = result.children && result.children.length > 0;
                            node = $("<li></li>");
                            node.addClass("select2-results-dept-" + depth);
                            node.addClass("select2-result");
                            node.addClass(selectable ? "select2-result-selectable" : "select2-result-unselectable");
                            if (disabled) {
                                node.addClass("select2-disabled");
                            }
                            if (compound) {
                                node.addClass("select2-result-with-children");
                            }
                            node.addClass(self.opts.formatResultCssClass(result));
                            label = $(document.createElement("div"));
                            label.addClass("select2-result-label");
                            formatted = opts.formatResult(result, label, query, self.opts.escapeMarkup);
                            if (formatted !== undefined) {
                                label.html(formatted);
                            }
                            node.append(label);
                            if (compound) {
                                innerContainer = $("<ul></ul>");
                                innerContainer.addClass("select2-result-sub");
                                populate(result.children, innerContainer, depth + 1);
                                node.append(innerContainer);
                            }
                            node.data("select2-data", result);
                            container.append(node);
                        }
                    };
                    populate(results, container, 0);
                }}, $.fn.select2.defaults, opts);
            if (typeof (opts.id) !== "function") {
                idKey = opts.id;
                opts.id = function(e) {
                    return e[idKey];
                };
            }
            if ($.isArray(opts.element.data("select2Tags"))) {
                if ("tags" in opts) {
                    throw "tags specified as both an attribute 'data-select2-tags' and in options of Select2 " + opts.element.attr("id");
                }
                opts.tags = opts.element.attr("data-select2-tags");
            }
            if (select) {
                opts.query = this.bind(function(query) {
                    var data = {results: [],more: false}, term = query.term, children, firstChild, process;
                    process = function(element, collection) {
                        var group;
                        if (element.is("option")) {
                            if (query.matcher(term, element.text(), element)) {
                                collection.push({id: element.attr("value"),text: element.text(),element: element.get(),css: element.attr("class"),disabled: equal(element.attr("disabled"), "disabled")});
                            }
                        } else if (element.is("optgroup")) {
                            group = {text: element.attr("label"),children: [],element: element.get(),css: element.attr("class")};
                            element.children().each2(function(i, elm) {
                                process(elm, group.children);
                            });
                            if (group.children.length > 0) {
                                collection.push(group);
                            }
                        }
                    };
                    children = element.children();
                    if (this.getPlaceholder() !== undefined && children.length > 0) {
                        firstChild = children[0];
                        if ($(firstChild).text() === "") {
                            children = children.not(firstChild);
                        }
                    }
                    children.each2(function(i, elm) {
                        process(elm, data.results);
                    });
                    query.callback(data);
                });
                opts.id = function(e) {
                    return e.id;
                };
                opts.formatResultCssClass = function(data) {
                    return data.css;
                };
            } else {
                if (!("query" in opts)) {
                    if ("ajax" in opts) {
                        ajaxUrl = opts.element.data("ajax-url");
                        if (ajaxUrl && ajaxUrl.length > 0) {
                            opts.ajax.url = ajaxUrl;
                        }
                        opts.query = ajax.call(opts.element, opts.ajax);
                    } else if ("data" in opts) {
                        opts.query = local(opts.data);
                    } else if ("tags" in opts) {
                        opts.query = tags(opts.tags);
                        if (opts.createSearchChoice === undefined) {
                            opts.createSearchChoice = function(term) {
                                return {id: term,text: term};
                            };
                        }
                        if (opts.initSelection === undefined) {
                            opts.initSelection = function(element, callback) {
                                var data = [];
                                $(splitVal(element.val(), opts.separator)).each(function() {
                                    var id = this, text = this, tags = opts.tags;
                                    if ($.isFunction(tags))
                                        tags = tags();
                                    $(tags).each(function() {
                                        if (equal(this.id, id)) {
                                            text = this.text;
                                            return false;
                                        }
                                    });
                                    data.push({id: id,text: text});
                                });
                                callback(data);
                            };
                        }
                    }
                }
            }
            if (typeof (opts.query) !== "function") {
                throw "query function not defined for Select2 " + opts.element.attr("id");
            }
            return opts;
        },monitorSource: function() {
            var el = this.opts.element, sync;
            el.bind("change.select2", this.bind(function(e) {
                if (this.opts.element.data("select2-change-triggered") !== true) {
                    this.initSelection();
                }
            }));
            sync = this.bind(function() {
                var enabled, readonly, self = this;
                enabled = this.opts.element.attr("disabled") !== "disabled";
                readonly = this.opts.element.attr("readonly") === "readonly";
                enabled = enabled && !readonly;
                if (this.enabled !== enabled) {
                    if (enabled) {
                        this.enable();
                    } else {
                        this.disable();
                    }
                }
                syncCssClasses(this.container, this.opts.element, this.opts.adaptContainerCssClass);
                this.container.addClass(evaluate(this.opts.containerCssClass));
                syncCssClasses(this.dropdown, this.opts.element, this.opts.adaptDropdownCssClass);
                this.dropdown.addClass(evaluate(this.opts.dropdownCssClass));
            });
            el.bind("propertychange.select2 DOMAttrModified.select2", sync);
            if (typeof WebKitMutationObserver !== "undefined") {
                if (this.propertyObserver) {
                    delete this.propertyObserver;
                    this.propertyObserver = null;
                }
                this.propertyObserver = new WebKitMutationObserver(function(mutations) {
                    mutations.forEach(sync);
                });
                this.propertyObserver.observe(el.get(0), {attributes: true,subtree: false});
            }
        },triggerChange: function(details) {
            details = details || {};
            details = $.extend({}, details, {type: "change",val: this.val()});
            this.opts.element.data("select2-change-triggered", true);
            this.opts.element.trigger(details);
            this.opts.element.data("select2-change-triggered", false);
            this.opts.element.click();
            if (this.opts.blurOnChange)
                this.opts.element.blur();
        },enable: function() {
            if (this.enabled)
                return;
            this.enabled = true;
            this.container.removeClass("select2-container-disabled");
            this.opts.element.removeAttr("disabled");
        },disable: function() {
            if (!this.enabled)
                return;
            this.close();
            this.enabled = false;
            this.container.addClass("select2-container-disabled");
            this.opts.element.attr("disabled", "disabled");
        },opened: function() {
            return this.container.hasClass("select2-dropdown-open");
        },positionDropdown: function() {
            var offset = this.container.offset(), height = this.container.outerHeight(false), width = this.container.outerWidth(false), dropHeight = this.dropdown.outerHeight(false), viewPortRight = $(window).scrollLeft() + $(window).width(), viewportBottom = $(window).scrollTop() + $(window).height(), dropTop = offset.top + height, dropLeft = offset.left, enoughRoomBelow = dropTop + dropHeight <= viewportBottom, enoughRoomAbove = (offset.top - dropHeight) >= this.body().scrollTop(), dropWidth = this.dropdown.outerWidth(false), enoughRoomOnRight = dropLeft + dropWidth <= viewPortRight, aboveNow = this.dropdown.hasClass("select2-drop-above"), bodyOffset, above, css;
            if (this.body().css('position') !== 'static') {
                bodyOffset = this.body().offset();
                dropTop -= bodyOffset.top;
                dropLeft -= bodyOffset.left;
            }
            if (aboveNow) {
                above = true;
                if (!enoughRoomAbove && enoughRoomBelow)
                    above = false;
            } else {
                above = false;
                if (!enoughRoomBelow && enoughRoomAbove)
                    above = true;
            }
            if (!enoughRoomOnRight) {
                dropLeft = offset.left + width - dropWidth;
            }
            if (above) {
                dropTop = offset.top - dropHeight;
                this.container.addClass("select2-drop-above");
                this.dropdown.addClass("select2-drop-above");
            } 
            else {
                this.container.removeClass("select2-drop-above");
                this.dropdown.removeClass("select2-drop-above");
            }
            css = $.extend({top: dropTop,left: dropLeft,width: width}, evaluate(this.opts.dropdownCss));
            this.dropdown.css(css);
        },shouldOpen: function() {
            var event;
            if (this.opened())
                return false;
            event = $.Event("opening");
            this.opts.element.trigger(event);
            return !event.isDefaultPrevented();
        },clearDropdownAlignmentPreference: function() {
            this.container.removeClass("select2-drop-above");
            this.dropdown.removeClass("select2-drop-above");
        },open: function() {
            if (!this.shouldOpen())
                return false;
            window.setTimeout(this.bind(this.opening), 1);
            return true;
        },opening: function() {
            var cid = this.containerId, scroll = "scroll." + cid, resize = "resize." + cid, orient = "orientationchange." + cid, mask;
            this.clearDropdownAlignmentPreference();
            this.container.addClass("select2-dropdown-open").addClass("select2-container-active");
            if (this.dropdown[0] !== this.body().children().last()[0]) {
                this.dropdown.detach().appendTo(this.body());
            }
            this.updateResults(true);
            mask = $("#select2-drop-mask");
            if (mask.length == 0) {
                mask = $(document.createElement("div"));
                mask.attr("id", "select2-drop-mask").attr("class", "select2-drop-mask");
                mask.hide();
                mask.appendTo(this.body());
                mask.bind("mousedown touchstart", function(e) {
                    var dropdown = $("#select2-drop"), self;
                    if (dropdown.length > 0) {
                        self = dropdown.data("select2");
                        if (self.opts.selectOnBlur) {
                            self.selectHighlighted({noFocus: true});
                        }
                        self.close();
                    }
                });
            }
            if (this.dropdown.prev()[0] !== mask[0]) {
                this.dropdown.before(mask);
            }
            $("#select2-drop").removeAttr("id");
            this.dropdown.attr("id", "select2-drop");
            mask.css(_makeMaskCss());
            mask.show();
            this.dropdown.show();
            this.positionDropdown();
            this.dropdown.addClass("select2-drop-active");
            this.ensureHighlightVisible();
            var that = this;
            this.container.parents().add(window).each(function() {
                $(this).bind(resize + " " + scroll + " " + orient, function(e) {
                    $("#select2-drop-mask").css(_makeMaskCss());
                    that.positionDropdown();
                });
            });
            this.focusSearch();
            function _makeMaskCss() {
                return {width: Math.max(document.documentElement.scrollWidth, $(window).width()),height: Math.max(document.documentElement.scrollHeight, $(window).height())}
            }
        },close: function() {
            if (!this.opened())
                return;
            var cid = this.containerId, scroll = "scroll." + cid, resize = "resize." + cid, orient = "orientationchange." + cid;
            this.container.parents().add(window).each(function() {
                $(this).unbind(scroll).unbind(resize).unbind(orient);
            });
            this.clearDropdownAlignmentPreference();
            $("#select2-drop-mask").hide();
            this.dropdown.removeAttr("id");
            this.dropdown.hide();
            this.container.removeClass("select2-dropdown-open");
            this.results.empty();
            this.clearSearch();
            this.opts.element.trigger($.Event("close"));
        },clearSearch: function() {
        },getMaximumSelectionSize: function() {
            return evaluate(this.opts.maximumSelectionSize);
        },ensureHighlightVisible: function() {
            var results = this.results, children, index, child, hb, rb, y, more;
            index = this.highlight();
            if (index < 0)
                return;
            if (index == 0) {
                results.scrollTop(0);
                return;
            }
            children = this.findHighlightableChoices();
            child = $(children[index]);
            hb = child.offset().top + child.outerHeight(true);
            if (index === children.length - 1) {
                more = results.find("li.select2-more-results");
                if (more.length > 0) {
                    hb = more.offset().top + more.outerHeight(true);
                }
            }
            rb = results.offset().top + results.outerHeight(true);
            if (hb > rb) {
                results.scrollTop(results.scrollTop() + (hb - rb));
            }
            y = child.offset().top - results.offset().top;
            if (y < 0 && child.css('display') != 'none') {
                results.scrollTop(results.scrollTop() + y);
            }
        },findHighlightableChoices: function() {
            var h = this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)");
            return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)");
        },moveHighlight: function(delta) {
            var choices = this.findHighlightableChoices(), index = this.highlight();
            while (index > -1 && index < choices.length) {
                index += delta;
                var choice = $(choices[index]);
                if (choice.hasClass("select2-result-selectable") && !choice.hasClass("select2-disabled") && !choice.hasClass("select2-selected")) {
                    this.highlight(index);
                    break;
                }
            }
        },highlight: function(index) {
            var choices = this.findHighlightableChoices(), choice, data;
            if (arguments.length === 0) {
                return indexOf(choices.filter(".select2-highlighted")[0], choices.get());
            }
            if (index >= choices.length)
                index = choices.length - 1;
            if (index < 0)
                index = 0;
            this.results.find(".select2-highlighted").removeClass("select2-highlighted");
            choice = $(choices[index]);
            choice.addClass("select2-highlighted");
            this.ensureHighlightVisible();
            data = choice.data("select2-data");
            if (data) {
                this.opts.element.trigger({type: "highlight",val: this.id(data),choice: data});
            }
        },countSelectableResults: function() {
            return this.findHighlightableChoices().length;
        },highlightUnderEvent: function(event) {
            var el = $(event.target).closest(".select2-result-selectable");
            if (el.length > 0 && !el.is(".select2-highlighted")) {
                var choices = this.findHighlightableChoices();
                this.highlight(choices.index(el));
            } else if (el.length == 0) {
                this.results.find(".select2-highlighted").removeClass("select2-highlighted");
            }
        },loadMoreIfNeeded: function() {
            var results = this.results, more = results.find("li.select2-more-results"), below, offset = -1, page = this.resultsPage + 1, self = this, term = this.search.val(), context = this.context;
            if (more.length === 0)
                return;
            below = more.offset().top - results.offset().top - results.height();
            if (below <= this.opts.loadMorePadding) {
                more.addClass("select2-active");
                this.opts.query({element: this.opts.element,term: term,page: page,context: context,matcher: this.opts.matcher,callback: this.bind(function(data) {
                        if (!self.opened())
                            return;
                        self.opts.populateResults.call(this, results, data.results, {term: term,page: page,context: context});
                        self.postprocessResults(data, false, false);
                        if (data.more === true) {
                            more.detach().appendTo(results).text(self.opts.formatLoadMore(page + 1));
                            window.setTimeout(function() {
                                self.loadMoreIfNeeded();
                            }, 10);
                        } else {
                            more.remove();
                        }
                        self.positionDropdown();
                        self.resultsPage = page;
                        self.context = data.context;
                    })});
            }
        },tokenize: function() {
        },updateResults: function(initial) {
            var search = this.search, results = this.results, opts = this.opts, data, self = this, input, term = search.val(), lastTerm = $.data(this.container, "select2-last-term");
            if (initial !== true && lastTerm && equal(term, lastTerm))
                return;
            if (initial !== true && (this.showSearchInput === false || !this.opened())) {
                return;
            }
            function postRender() {
                results.scrollTop(0);
                search.removeClass("select2-active");
                self.positionDropdown();
            }
            function render(html) {
                results.html(html);
                postRender();
            }
            var maxSelSize = this.getMaximumSelectionSize();
            if (maxSelSize >= 1) {
                data = this.data();
                if ($.isArray(data) && data.length >= maxSelSize && checkFormatter(opts.formatSelectionTooBig, "formatSelectionTooBig")) {
                    render("<li class='select2-selection-limit'>" + opts.formatSelectionTooBig(maxSelSize) + "</li>");
                    return;
                }
            }
            if (search.val().length < opts.minimumInputLength) {
                if (checkFormatter(opts.formatInputTooShort, "formatInputTooShort")) {
                    render("<li class='select2-no-results'>" + opts.formatInputTooShort(search.val(), opts.minimumInputLength) + "</li>");
                } else {
                    render("");
                }
                return;
            }
            if (opts.maximumInputLength && search.val().length > opts.maximumInputLength) {
                if (checkFormatter(opts.formatInputTooLong, "formatInputTooLong")) {
                    render("<li class='select2-no-results'>" + opts.formatInputTooLong(search.val(), opts.maximumInputLength) + "</li>");
                } else {
                    render("");
                }
                return;
            }
            if (opts.formatSearching && this.findHighlightableChoices().length === 0) {
                render("<li class='select2-searching'>" + opts.formatSearching() + "</li>");
            }
            search.addClass("select2-active");
            input = this.tokenize();
            if (input != undefined && input != null) {
                search.val(input);
            }
            this.resultsPage = 1;
            $.data(this.container, "select2-last-term", term);
            opts.query({element: opts.element,term: search.val(),page: this.resultsPage,context: null,matcher: opts.matcher,callback: this.bind(function(data) {
                    var def;
                    if (!this.opened()) {
                        this.search.removeClass("select2-active");
                        return;
                    }
                    this.context = (data.context === undefined) ? null : data.context;
                    if (this.opts.createSearchChoice && search.val() !== "") {
                        def = this.opts.createSearchChoice.call(null, search.val(), data.results);
                        if (def !== undefined && def !== null && self.id(def) !== undefined && self.id(def) !== null) {
                            if ($(data.results).filter(function() {
                                return equal(self.id(this), self.id(def));
                            }).length === 0) {
                                data.results.unshift(def);
                            }
                        }
                    }
                    if (data.results.length === 0 && checkFormatter(opts.formatNoMatches, "formatNoMatches")) {
                        render("<li class='select2-no-results'>" + opts.formatNoMatches(search.val()) + "</li>");
                        return;
                    }
                    results.empty();
                    self.opts.populateResults.call(this, results, data.results, {term: search.val(),page: this.resultsPage,context: null});
                    if (data.more === true && checkFormatter(opts.formatLoadMore, "formatLoadMore")) {
                        results.append("<li class='select2-more-results'>" + self.opts.escapeMarkup(opts.formatLoadMore(this.resultsPage)) + "</li>");
                        window.setTimeout(function() {
                            self.loadMoreIfNeeded();
                        }, 10);
                    }
                    this.postprocessResults(data, initial);
                    postRender();
                    this.opts.element.trigger({type: "loaded",data: data});
                })});
        },cancel: function() {
            this.close();
        },blur: function() {
            if (this.opts.selectOnBlur)
                this.selectHighlighted({noFocus: true});
            this.close();
            this.container.removeClass("select2-container-active");
            if (this.search[0] === document.activeElement) {
                this.search.blur();
            }
            this.clearSearch();
            this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");
        },focusSearch: function() {
            focus(this.search);
        },selectHighlighted: function(options) {
            var index = this.highlight(), highlighted = this.results.find(".select2-highlighted"), data = highlighted.closest('.select2-result').data("select2-data");
            if (data) {
                this.highlight(index);
                this.onSelect(data, options);
            }
        },getPlaceholder: function() {
            return this.opts.element.attr("placeholder") || this.opts.element.attr("data-placeholder") || this.opts.element.data("placeholder") || this.opts.placeholder;
        },initContainerWidth: function() {
            function resolveContainerWidth() {
                var style, attrs, matches, i, l;
                if (this.opts.width === "off") {
                    return null;
                } else if (this.opts.width === "element") {
                    return this.opts.element.outerWidth(false) === 0 ? 'auto' : this.opts.element.outerWidth(false) + 'px';
                } else if (this.opts.width === "copy" || this.opts.width === "resolve") {
                    style = this.opts.element.attr('style');
                    if (style !== undefined) {
                        attrs = style.split(';');
                        for (i = 0, l = attrs.length; i < l; i = i + 1) {
                            matches = attrs[i].replace(/\s/g, '').match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/);
                            if (matches !== null && matches.length >= 1)
                                return matches[1];
                        }
                    }
                    if (this.opts.width === "resolve") {
                        style = this.opts.element.css('width');
                        if (style.indexOf("%") > 0)
                            return style;
                        return (this.opts.element.outerWidth(false) === 0 ? 'auto' : this.opts.element.outerWidth(false) + 'px');
                    }
                    return null;
                } else if ($.isFunction(this.opts.width)) {
                    return this.opts.width();
                } else {
                    return this.opts.width;
                }
            }
            ;
            var width = resolveContainerWidth.call(this);
            if (width !== null) {
                this.container.css("width", width);
            }
        }});
    SingleSelect2 = clazz(AbstractSelect2, {createContainer: function() {
            var container = $(document.createElement("div")).attr({"class": "select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>", "   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>", "   <div><b></b></div>", "</a>", "<input class='select2-focusser select2-offscreen' type='text'/>", "<div class='select2-drop' style='display:none'>", "   <div class='select2-search'>", "       <input type='text' autocomplete='off' class='select2-input'/>", "   </div>", "   <ul class='select2-results'>", "   </ul>", "</div>"].join(""));
            return container;
        },disable: function() {
            if (!this.enabled)
                return;
            this.parent.disable.apply(this, arguments);
            this.focusser.attr("disabled", "disabled");
        },enable: function() {
            if (this.enabled)
                return;
            this.parent.enable.apply(this, arguments);
            this.focusser.removeAttr("disabled");
        },opening: function() {
            this.parent.opening.apply(this, arguments);
            this.focusser.attr("disabled", "disabled");
            this.opts.element.trigger($.Event("open"));
        },close: function() {
            if (!this.opened())
                return;
            this.parent.close.apply(this, arguments);
            this.focusser.removeAttr("disabled");
            focus(this.focusser);
        },focus: function() {
            if (this.opened()) {
                this.close();
            } else {
                this.focusser.removeAttr("disabled");
                this.focusser.focus();
            }
        },isFocused: function() {
            return this.container.hasClass("select2-container-active");
        },cancel: function() {
            this.parent.cancel.apply(this, arguments);
            this.focusser.removeAttr("disabled");
            this.focusser.focus();
        },initContainer: function() {
            var selection, container = this.container, dropdown = this.dropdown, clickingInside = false;
            this.showSearch(this.opts.minimumResultsForSearch >= 0);
            this.selection = selection = container.find(".select2-choice");
            this.focusser = container.find(".select2-focusser");
            this.search.bind("keydown", this.bind(function(e) {
                if (!this.enabled)
                    return;
                if (e.which === KEY.PAGE_UP || e.which === KEY.PAGE_DOWN) {
                    killEvent(e);
                    return;
                }
                switch (e.which) {
                    case KEY.UP:
                    case KEY.DOWN:
                        this.moveHighlight((e.which === KEY.UP) ? -1 : 1);
                        killEvent(e);
                        return;
                    case KEY.TAB:
                    case KEY.ENTER:
                        this.selectHighlighted();
                        killEvent(e);
                        return;
                    case KEY.ESC:
                        this.cancel(e);
                        killEvent(e);
                        return;
                }
            }));
            this.search.bind("blur", this.bind(function(e) {
                if (document.activeElement === this.body().get(0)) {
                    window.setTimeout(this.bind(function() {
                        this.search.focus();
                    }), 0);
                }
            }));
            this.focusser.bind("keydown", this.bind(function(e) {
                if (!this.enabled)
                    return;
                if (e.which === KEY.TAB || KEY.isControl(e) || KEY.isFunctionKey(e) || e.which === KEY.ESC) {
                    return;
                }
                if (this.opts.openOnEnter === false && e.which === KEY.ENTER) {
                    killEvent(e);
                    return;
                }
                if (e.which == KEY.DOWN || e.which == KEY.UP || (e.which == KEY.ENTER && this.opts.openOnEnter)) {
                    this.open();
                    killEvent(e);
                    return;
                }
                if (e.which == KEY.DELETE || e.which == KEY.BACKSPACE) {
                    if (this.opts.allowClear) {
                        this.clear();
                    }
                    killEvent(e);
                    return;
                }
            }));
            installKeyUpChangeEvent(this.focusser);
            this.focusser.bind("keyup-change input", this.bind(function(e) {
                if (this.opened())
                    return;
                this.open();
                if (this.showSearchInput !== false) {
                    this.search.val(this.focusser.val());
                }
                this.focusser.val("");
                killEvent(e);
            }));
            selection.delegate("abbr", "mousedown", this.bind(function(e) {
                if (!this.enabled)
                    return;
                this.clear();
                killEventImmediately(e);
                this.close();
                this.selection.focus();
            }));
            selection.bind("mousedown", this.bind(function(e) {
                clickingInside = true;
                if (this.opened()) {
                    this.close();
                } else if (this.enabled) {
                    this.open();
                }
                killEvent(e);
                clickingInside = false;
            }));
            dropdown.bind("mousedown", this.bind(function() {
                this.search.focus();
            }));
            selection.bind("focus", this.bind(function(e) {
                killEvent(e);
            }));
            this.focusser.bind("focus", this.bind(function() {
                this.container.addClass("select2-container-active");
            })).bind("blur", this.bind(function() {
                if (!this.opened()) {
                    this.container.removeClass("select2-container-active");
                }
            }));
            this.search.bind("focus", this.bind(function() {
                this.container.addClass("select2-container-active");
            }))
            this.initContainerWidth();
            this.setPlaceholder();
        },clear: function(triggerChange) {
            var data = this.selection.data("select2-data");
            if (data) {
                this.opts.element.val("");
                this.selection.find("span").empty();
                this.selection.removeData("select2-data");
                this.setPlaceholder();
                if (triggerChange !== false) {
                    this.opts.element.trigger({type: "removed",val: this.id(data),choice: data});
                    this.triggerChange({removed: data});
                }
            }
        },initSelection: function() {
            var selected;
            if (this.opts.element.val() === "" && this.opts.element.text() === "") {
                this.close();
                this.setPlaceholder();
            } else {
                var self = this;
                this.opts.initSelection.call(null, this.opts.element, function(selected) {
                    if (selected !== undefined && selected !== null) {
                        self.updateSelection(selected);
                        self.close();
                        self.setPlaceholder();
                    }
                });
            }
        },prepareOpts: function() {
            var opts = this.parent.prepareOpts.apply(this, arguments);
            if (opts.element.get(0).tagName.toLowerCase() === "select") {
                opts.initSelection = function(element, callback) {
                    var selected = element.find(":selected");
                    if ($.isFunction(callback))
                        callback({id: selected.attr("value"),text: selected.text(),element: selected});
                };
            } else if ("data" in opts) {
                opts.initSelection = opts.initSelection || function(element, callback) {
                    var id = element.val();
                    var match = null;
                    opts.query({matcher: function(term, text, el) {
                            var is_match = equal(id, opts.id(el));
                            if (is_match) {
                                match = el;
                            }
                            return is_match;
                        },callback: !$.isFunction(callback) ? $.noop : function() {
                            callback(match);
                        }});
                };
            }
            return opts;
        },getPlaceholder: function() {
            if (this.select) {
                if (this.select.find("option").first().text() !== "") {
                    return undefined;
                }
            }
            return this.parent.getPlaceholder.apply(this, arguments);
        },setPlaceholder: function() {
            var placeholder = this.getPlaceholder();
            if (this.opts.element.val() === "" && placeholder !== undefined) {
                if (this.select && this.select.find("option:first").text() !== "")
                    return;
                this.selection.find("span").html(this.opts.escapeMarkup(placeholder));
                this.selection.addClass("select2-default");
                this.selection.find("abbr").hide();
            }
        },postprocessResults: function(data, initial, noHighlightUpdate) {
            var selected = 0, self = this, showSearchInput = true;
            this.findHighlightableChoices().each2(function(i, elm) {
                if (equal(self.id(elm.data("select2-data")), self.opts.element.val())) {
                    selected = i;
                    return false;
                }
            });
            if (noHighlightUpdate !== false) {
                this.highlight(selected);
            }
            if (initial === true) {
                var min = this.opts.minimumResultsForSearch;
                showSearchInput = min < 0 ? false : countResults(data.results) >= min;
                this.showSearch(showSearchInput);
            }
        },showSearch: function(showSearchInput) {
            this.showSearchInput = showSearchInput;
            this.dropdown.find(".select2-search")[showSearchInput ? "removeClass" : "addClass"]("select2-search-hidden");
            $(this.dropdown, this.container)[showSearchInput ? "addClass" : "removeClass"]("select2-with-searchbox");
        },onSelect: function(data, options) {
            var old = this.opts.element.val();
            this.opts.element.val(this.id(data));
            this.updateSelection(data);
            this.opts.element.trigger({type: "selected",val: this.id(data),choice: data});
            this.close();
            if (!options || !options.noFocus)
                this.selection.focus();
            if (!equal(old, this.id(data))) {
                this.triggerChange();
            }
        },updateSelection: function(data) {
            var container = this.selection.find("span"), formatted;
            this.selection.data("select2-data", data);
            container.empty();
            formatted = this.opts.formatSelection(data, container);
            if (formatted !== undefined) {
                container.append(this.opts.escapeMarkup(formatted));
            }
            this.selection.removeClass("select2-default");
            if (this.opts.allowClear && this.getPlaceholder() !== undefined) {
                this.selection.find("abbr").show();
            }
        },val: function() {
            var val, triggerChange = false, data = null, self = this;
            if (arguments.length === 0) {
                return this.opts.element.val();
            }
            val = arguments[0];
            if (arguments.length > 1) {
                triggerChange = arguments[1];
            }
            if (this.select) {
                this.select.val(val).find(":selected").each2(function(i, elm) {
                    data = {id: elm.attr("value"),text: elm.text(),element: elm.get(0)};
                    return false;
                });
                this.updateSelection(data);
                this.setPlaceholder();
                if (triggerChange) {
                    this.triggerChange();
                }
            } else {
                if (this.opts.initSelection === undefined) {
                    throw new Error("cannot call val() if initSelection() is not defined");
                }
                if (!val && val !== 0) {
                    this.clear(triggerChange);
                    if (triggerChange) {
                        this.triggerChange();
                    }
                    return;
                }
                this.opts.element.val(val);
                this.opts.initSelection(this.opts.element, function(data) {
                    self.opts.element.val(!data ? "" : self.id(data));
                    self.updateSelection(data);
                    self.setPlaceholder();
                    if (triggerChange) {
                        self.triggerChange();
                    }
                });
            }
        },clearSearch: function() {
            this.search.val("");
            this.focusser.val("");
        },data: function(value) {
            var data;
            if (arguments.length === 0) {
                data = this.selection.data("select2-data");
                if (data == undefined)
                    data = null;
                return data;
            } else {
                if (!value || value === "") {
                    this.clear();
                } else {
                    this.opts.element.val(!value ? "" : this.id(value));
                    this.updateSelection(value);
                }
            }
        }});
    MultiSelect2 = clazz(AbstractSelect2, {createContainer: function() {
            var container = $(document.createElement("div")).attr({"class": "select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>", "  <li class='select2-search-field'>", "    <input type='text' autocomplete='off' class='select2-input'>", "  </li>", "</ul>", "<div class='select2-drop select2-drop-multi' style='display:none;'>", "   <ul class='select2-results'>", "   </ul>", "</div>"].join(""));
            return container;
        },prepareOpts: function() {
            var opts = this.parent.prepareOpts.apply(this, arguments);
            if (opts.element.get(0).tagName.toLowerCase() === "select") {
                opts.initSelection = function(element, callback) {
                    var data = [];
                    element.find(":selected").each2(function(i, elm) {
                        data.push({id: elm.attr("value"),text: elm.text(),element: elm[0]});
                    });
                    callback(data);
                };
            } else if ("data" in opts) {
                opts.initSelection = opts.initSelection || function(element, callback) {
                    var ids = splitVal(element.val(), opts.separator);
                    var matches = [];
                    opts.query({matcher: function(term, text, el) {
                            var is_match = $.grep(ids, function(id) {
                                return equal(id, opts.id(el));
                            }).length;
                            if (is_match) {
                                matches.push(el);
                            }
                            return is_match;
                        },callback: !$.isFunction(callback) ? $.noop : function() {
                            callback(matches);
                        }});
                };
            }
            return opts;
        },initContainer: function() {
            var selector = ".select2-choices", selection;
            this.searchContainer = this.container.find(".select2-search-field");
            this.selection = selection = this.container.find(selector);
            this.search.bind("input paste", this.bind(function() {
                if (!this.enabled)
                    return;
                if (!this.opened()) {
                    this.open();
                }
            }));
            this.search.bind("keydown", this.bind(function(e) {
                if (!this.enabled)
                    return;
                if (e.which === KEY.BACKSPACE && this.search.val() === "") {
                    this.close();
                    var choices, selected = selection.find(".select2-search-choice-focus");
                    if (selected.length > 0) {
                        this.unselect(selected.first());
                        this.search.width(10);
                        killEvent(e);
                        return;
                    }
                    choices = selection.find(".select2-search-choice:not(.select2-locked)");
                    if (choices.length > 0) {
                        choices.last().addClass("select2-search-choice-focus");
                    }
                } else {
                    selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");
                }
                if (this.opened()) {
                    switch (e.which) {
                        case KEY.UP:
                        case KEY.DOWN:
                            this.moveHighlight((e.which === KEY.UP) ? -1 : 1);
                            killEvent(e);
                            return;
                        case KEY.ENTER:
                        case KEY.TAB:
                            this.selectHighlighted();
                            killEvent(e);
                            return;
                        case KEY.ESC:
                            this.cancel(e);
                            killEvent(e);
                            return;
                    }
                }
                if (e.which === KEY.TAB || KEY.isControl(e) || KEY.isFunctionKey(e) || e.which === KEY.BACKSPACE || e.which === KEY.ESC) {
                    return;
                }
                if (e.which === KEY.ENTER) {
                    if (this.opts.openOnEnter === false) {
                        return;
                    } else if (e.altKey || e.ctrlKey || e.shiftKey || e.metaKey) {
                        return;
                    }
                }
                this.open();
                if (e.which === KEY.PAGE_UP || e.which === KEY.PAGE_DOWN) {
                    killEvent(e);
                }
                if (e.which === KEY.ENTER) {
                    killEvent(e);
                }
            }));
            this.search.bind("keyup", this.bind(this.resizeSearch));
            this.search.bind("blur", this.bind(function(e) {
                this.container.removeClass("select2-container-active");
                this.search.removeClass("select2-focused");
                if (!this.opened())
                    this.clearSearch();
                e.stopImmediatePropagation();
            }));
            this.container.delegate(selector, "mousedown", this.bind(function(e) {
                if (!this.enabled)
                    return;
                if ($(e.target).closest(".select2-search-choice").length > 0) {
                    return;
                }
                this.clearPlaceholder();
                this.open();
                this.focusSearch();
                e.preventDefault();
            }));
            this.container.delegate(selector, "focus", this.bind(function() {
                if (!this.enabled)
                    return;
                this.container.addClass("select2-container-active");
                this.dropdown.addClass("select2-drop-active");
                this.clearPlaceholder();
            }));
            this.initContainerWidth();
            this.clearSearch();
        },enable: function() {
            if (this.enabled)
                return;
            this.parent.enable.apply(this, arguments);
            this.search.removeAttr("disabled");
        },disable: function() {
            if (!this.enabled)
                return;
            this.parent.disable.apply(this, arguments);
            this.search.attr("disabled", true);
        },initSelection: function() {
            var data;
            if (this.opts.element.val() === "" && this.opts.element.text() === "") {
                this.updateSelection([]);
                this.close();
                this.clearSearch();
            }
            if (this.select || this.opts.element.val() !== "") {
                var self = this;
                this.opts.initSelection.call(null, this.opts.element, function(data) {
                    if (data !== undefined && data !== null) {
                        self.updateSelection(data);
                        self.close();
                        self.clearSearch();
                    }
                });
            }
        },clearSearch: function() {
            var placeholder = this.getPlaceholder();
            if (placeholder !== undefined && this.getVal().length === 0 && this.search.hasClass("select2-focused") === false) {
                this.search.val(placeholder).addClass("select2-default");
                this.search.width(this.getMaxSearchWidth());
            } else {
                this.search.val("").width(10);
            }
        },clearPlaceholder: function() {
            if (this.search.hasClass("select2-default")) {
                this.search.val("").removeClass("select2-default");
            }
        },opening: function() {
            this.clearPlaceholder();
            this.resizeSearch();
            this.parent.opening.apply(this, arguments);
            this.focusSearch();
            this.opts.element.trigger($.Event("open"));
        },close: function() {
            if (!this.opened())
                return;
            this.parent.close.apply(this, arguments);
        },focus: function() {
            this.close();
            this.search.focus();
        },isFocused: function() {
            return this.search.hasClass("select2-focused");
        },updateSelection: function(data) {
            var ids = [], filtered = [], self = this;
            $(data).each(function() {
                if (indexOf(self.id(this), ids) < 0) {
                    ids.push(self.id(this));
                    filtered.push(this);
                }
            });
            data = filtered;
            this.selection.find(".select2-search-choice").remove();
            $(data).each(function() {
                self.addSelectedChoice(this);
            });
            self.postprocessResults();
        },tokenize: function() {
            var input = this.search.val();
            input = this.opts.tokenizer(input, this.data(), this.bind(this.onSelect), this.opts);
            if (input != null && input != undefined) {
                this.search.val(input);
                if (input.length > 0) {
                    this.open();
                }
            }
        },onSelect: function(data, options) {
            this.addSelectedChoice(data);
            this.opts.element.trigger({type: "selected",val: this.id(data),choice: data});
            if (this.select || !this.opts.closeOnSelect)
                this.postprocessResults();
            if (this.opts.closeOnSelect) {
                this.close();
                this.search.width(10);
            } else {
                if (this.countSelectableResults() > 0) {
                    this.search.width(10);
                    this.resizeSearch();
                    if (this.getMaximumSelectionSize() > 0 && this.val().length >= this.getMaximumSelectionSize()) {
                        this.updateResults(true);
                    }
                    this.positionDropdown();
                } else {
                    this.close();
                    this.search.width(10);
                }
            }
            this.triggerChange({added: data});
            if (!options || !options.noFocus)
                this.focusSearch();
        },cancel: function() {
            this.close();
            this.focusSearch();
        },addSelectedChoice: function(data) {
            var enableChoice = !data.locked, enabledItem = $("<li class='select2-search-choice'>" + "    <div></div>" + "    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a>" + "</li>"), disabledItem = $("<li class='select2-search-choice select2-locked'>" + "<div></div>" + "</li>");
            var choice = enableChoice ? enabledItem : disabledItem, id = this.id(data), val = this.getVal(), formatted;
            formatted = this.opts.formatSelection(data, choice.find("div"));
            if (formatted != undefined) {
                choice.find("div").replaceWith("<div>" + this.opts.escapeMarkup(formatted) + "</div>");
            }
            if (enableChoice) {
                choice.find(".select2-search-choice-close").bind("mousedown", killEvent).bind("click dblclick", this.bind(function(e) {
                    if (!this.enabled)
                        return;
                    $(e.target).closest(".select2-search-choice").fadeOut('fast', this.bind(function() {
                        this.unselect($(e.target));
                        this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");
                        this.close();
                        this.focusSearch();
                    })).dequeue();
                    killEvent(e);
                })).bind("focus", this.bind(function() {
                    if (!this.enabled)
                        return;
                    this.container.addClass("select2-container-active");
                    this.dropdown.addClass("select2-drop-active");
                }));
            }
            choice.data("select2-data", data);
            choice.insertBefore(this.searchContainer);
            val.push(id);
            this.setVal(val);
        },unselect: function(selected) {
            var val = this.getVal(), data, index;
            selected = selected.closest(".select2-search-choice");
            if (selected.length === 0) {
                throw "Invalid argument: " + selected + ". Must be .select2-search-choice";
            }
            data = selected.data("select2-data");
            if (!data) {
                return;
            }
            index = indexOf(this.id(data), val);
            if (index >= 0) {
                val.splice(index, 1);
                this.setVal(val);
                if (this.select)
                    this.postprocessResults();
            }
            selected.remove();
            this.opts.element.trigger({type: "removed",val: this.id(data),choice: data});
            this.triggerChange({removed: data});
        },postprocessResults: function() {
            var val = this.getVal(), choices = this.results.find(".select2-result"), compound = this.results.find(".select2-result-with-children"), self = this;
            choices.each2(function(i, choice) {
                var id = self.id(choice.data("select2-data"));
                if (indexOf(id, val) >= 0) {
                    choice.addClass("select2-selected");
                    choice.find(".select2-result-selectable").addClass("select2-selected");
                }
            });
            compound.each2(function(i, choice) {
                if (!choice.is('.select2-result-selectable') && choice.find(".select2-result-selectable:not(.select2-selected)").length === 0) {
                    choice.addClass("select2-selected");
                }
            });
            if (this.highlight() == -1) {
                self.highlight(0);
            }
        },getMaxSearchWidth: function() {
            return this.selection.width() - getSideBorderPadding(this.search);
        },resizeSearch: function() {
            var minimumWidth, left, maxWidth, containerLeft, searchWidth, sideBorderPadding = getSideBorderPadding(this.search);
            minimumWidth = measureTextWidth(this.search) + 10;
            left = this.search.offset().left;
            maxWidth = this.selection.width();
            containerLeft = this.selection.offset().left;
            searchWidth = maxWidth - (left - containerLeft) - sideBorderPadding;
            if (searchWidth < minimumWidth) {
                searchWidth = maxWidth - sideBorderPadding;
            }
            if (searchWidth < 40) {
                searchWidth = maxWidth - sideBorderPadding;
            }
            if (searchWidth <= 0) {
                searchWidth = minimumWidth;
            }
            this.search.width(searchWidth);
        },getVal: function() {
            var val;
            if (this.select) {
                val = this.select.val();
                return val === null ? [] : val;
            } else {
                val = this.opts.element.val();
                return splitVal(val, this.opts.separator);
            }
        },setVal: function(val) {
            var unique;
            if (this.select) {
                this.select.val(val);
            } else {
                unique = [];
                $(val).each(function() {
                    if (indexOf(this, unique) < 0)
                        unique.push(this);
                });
                this.opts.element.val(unique.length === 0 ? "" : unique.join(this.opts.separator));
            }
        },val: function() {
            var val, triggerChange = false, data = [], self = this;
            if (arguments.length === 0) {
                return this.getVal();
            }
            val = arguments[0];
            if (arguments.length > 1) {
                triggerChange = arguments[1];
            }
            if (!val && val !== 0) {
                this.opts.element.val("");
                this.updateSelection([]);
                this.clearSearch();
                if (triggerChange) {
                    this.triggerChange();
                }
                return;
            }
            this.setVal(val);
            if (this.select) {
                this.opts.initSelection(this.select, this.bind(this.updateSelection));
                if (triggerChange) {
                    this.triggerChange();
                }
            } else {
                if (this.opts.initSelection === undefined) {
                    throw new Error("val() cannot be called if initSelection() is not defined");
                }
                this.opts.initSelection(this.opts.element, function(data) {
                    var ids = $(data).map(self.id);
                    self.setVal(ids);
                    self.updateSelection(data);
                    self.clearSearch();
                    if (triggerChange) {
                        self.triggerChange();
                    }
                });
            }
            this.clearSearch();
        },onSortStart: function() {
            if (this.select) {
                throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");
            }
            this.search.width(0);
            this.searchContainer.hide();
        },onSortEnd: function() {
            var val = [], self = this;
            this.searchContainer.show();
            this.searchContainer.appendTo(this.searchContainer.parent());
            this.resizeSearch();
            this.selection.find(".select2-search-choice").each(function() {
                val.push(self.opts.id($(this).data("select2-data")));
            });
            this.setVal(val);
            this.triggerChange();
        },data: function(values) {
            var self = this, ids;
            if (arguments.length === 0) {
                return this.selection.find(".select2-search-choice").map(function() {
                    return $(this).data("select2-data");
                }).get();
            } else {
                if (!values) {
                    values = [];
                }
                ids = $.map(values, function(e) {
                    return self.opts.id(e);
                });
                this.setVal(ids);
                this.updateSelection(values);
                this.clearSearch();
            }
        }});
    $.fn.select2 = function() {
        var args = Array.prototype.slice.call(arguments, 0), opts, select2, value, multiple, allowedMethods = ["val", "destroy", "opened", "open", "close", "focus", "isFocused", "container", "onSortStart", "onSortEnd", "enable", "disable", "positionDropdown", "data"];
        this.each(function() {
            if (args.length === 0 || typeof (args[0]) === "object") {
                opts = args.length === 0 ? {} : $.extend({}, args[0]);
                opts.element = $(this);
                if (opts.element.get(0).tagName.toLowerCase() === "select") {
                    multiple = opts.element.attr("multiple");
                } else {
                    multiple = opts.multiple || false;
                    if ("tags" in opts) {
                        opts.multiple = multiple = true;
                    }
                }
                select2 = multiple ? new MultiSelect2() : new SingleSelect2();
                select2.init(opts);
            } else if (typeof (args[0]) === "string") {
                if (indexOf(args[0], allowedMethods) < 0) {
                    throw "Unknown method: " + args[0];
                }
                value = undefined;
                select2 = $(this).data("select2");
                if (select2 === undefined)
                    return;
                if (args[0] === "container") {
                    value = select2.container;
                } else {
                    value = select2[args[0]].apply(select2, args.slice(1));
                }
                if (value !== undefined) {
                    return false;
                }
            } else {
                throw "Invalid arguments to select2 plugin: " + args;
            }
        });
        return (value === undefined) ? this : value;
    };
    $.fn.select2.defaults = {width: "copy",loadMorePadding: 0,closeOnSelect: true,openOnEnter: true,containerCss: {},dropdownCss: {},containerCssClass: "",dropdownCssClass: "",formatResult: function(result, container, query, escapeMarkup) {
            var markup = [];
            markMatch(result.text, query.term, markup, escapeMarkup);
            return markup.join("");
        },formatSelection: function(data, container) {
            return data ? data.text : undefined;
        },sortResults: function(results, container, query) {
            return results;
        },formatResultCssClass: function(data) {
            return undefined;
        },formatNoMatches: function() {
            return "No matches found";
        },formatInputTooShort: function(input, min) {
            var n = min - input.length;
            return "Please enter " + n + " more character" + (n == 1 ? "" : "s");
        },formatInputTooLong: function(input, max) {
            var n = input.length - max;
            return "Please delete " + n + " character" + (n == 1 ? "" : "s");
        },formatSelectionTooBig: function(limit) {
            return "You can only select " + limit + " item" + (limit == 1 ? "" : "s");
        },formatLoadMore: function(pageNumber) {
            return "Loading more results...";
        },formatSearching: function() {
            return "Searching...";
        },minimumResultsForSearch: 0,minimumInputLength: 0,maximumInputLength: null,maximumSelectionSize: 0,id: function(e) {
            return e.id;
        },matcher: function(term, text) {
            return ('' + text).toUpperCase().indexOf(('' + term).toUpperCase()) >= 0;
        },separator: ",",tokenSeparators: [],tokenizer: defaultTokenizer,escapeMarkup: function(markup) {
            var replace_map = {'\\': '&#92;','&': '&amp;','<': '&lt;','>': '&gt;','"': '&quot;',"'": '&apos;',"/": '&#47;'};
            return String(markup).replace(/[&<>"'\/\\]/g, function(match) {
                return replace_map[match[0]];
            });
        },blurOnChange: false,selectOnBlur: false,adaptContainerCssClass: function(c) {
            return c;
        },adaptDropdownCssClass: function(c) {
            return null;
        }};
    window.Select2 = {query: {ajax: ajax,local: local,tags: tags},util: {debounce: debounce,markMatch: markMatch},"class": {"abstract": AbstractSelect2,"single": SingleSelect2,"multi": MultiSelect2}};
}(jQuery));
;
(function(f, h, $) {
    var a = 'placeholder' in h.createElement('input'), d = 'placeholder' in h.createElement('textarea'), i = $.fn, c = $.valHooks, k, j;
    if (a && d) {
        j = i.placeholder = function() {
            return this
        };
        j.input = j.textarea = true
    } else {
        j = i.placeholder = function() {
            var l = this;
            l.filter((a ? 'textarea' : ':input') + '[placeholder]').not('.placeholder').bind({'focus.placeholder': b,'blur.placeholder': e}).data('placeholder-enabled', true).trigger('blur.placeholder');
            return l
        };
        j.input = a;
        j.textarea = d;
        k = {get: function(m) {
                var l = $(m);
                return l.data('placeholder-enabled') && l.hasClass('placeholder') ? '' : m.value
            },set: function(m, n) {
                var l = $(m);
                if (!l.data('placeholder-enabled')) {
                    return m.value = n
                }
                if (n == '') {
                    m.value = n;
                    if (m != h.activeElement) {
                        e.call(m)
                    }
                } else {
                    if (l.hasClass('placeholder')) {
                        b.call(m, true, n) || (m.value = n)
                    } else {
                        m.value = n
                    }
                }
                return l
            }};
        a || (c.input = k);
        d || (c.textarea = k);
        $(function() {
            $(h).delegate('form', 'submit.placeholder', function() {
                var l = $('.placeholder', this).each(b);
                setTimeout(function() {
                    l.each(e)
                }, 10)
            })
        });
        $(f).bind('beforeunload.placeholder', function() {
            $('.placeholder').each(function() {
                this.value = ''
            })
        })
    }
    function g(m) {
        var l = {}, n = /^jQuery\d+$/;
        $.each(m.attributes, function(p, o) {
            if (o.specified && !n.test(o.name)) {
                l[o.name] = o.value
            }
        });
        return l
    }
    function b(m, n) {
        var l = this, o = $(l);
        if (l.value == o.attr('placeholder') && o.hasClass('placeholder')) {
            if (o.data('placeholder-password')) {
                o = o.hide().next().show().attr('id', o.removeAttr('id').data('placeholder-id'));
                if (m === true) {
                    return o[0].value = n
                }
                o.focus()
            } else {
                l.value = '';
                o.removeClass('placeholder');
                l == h.activeElement && l.select()
            }
        }
    }
    function e() {
        var q, l = this, p = $(l), m = p, o = this.id;
        if (l.value == '') {
            if (l.type == 'password') {
                if (!p.data('placeholder-textinput')) {
                    try {
                        q = p.clone().attr({type: 'text'})
                    } catch (n) {
                        q = $('<input>').attr($.extend(g(this), {type: 'text'}))
                    }
                    q.removeAttr('name').data({'placeholder-password': true,'placeholder-id': o}).bind('focus.placeholder', b);
                    p.data({'placeholder-textinput': q,'placeholder-id': o}).before(q)
                }
                p = p.removeAttr('id').hide().prev().attr('id', o).show()
            }
            p.addClass('placeholder');
            p[0].value = p.attr('placeholder')
        } else {
            p.removeClass('placeholder')
        }
    }
}(this, document, jQuery));
(function($) {
    $.fn.lightbox_me = function(options) {
        return this.each(function() {
            var 
            opts = $.extend({}, $.fn.lightbox_me.defaults, options), $overlay = $(), $self = $(this), $iframe = $('<iframe id="foo" style="z-index: ' + (opts.zIndex + 1) + ';border: none; margin: 0; padding: 0; position: absolute; width: 100%; height: 100%; top: 0; left: 0; filter: mask();"/>'), ie6 = ($.browser.msie && $.browser.version < 7);
            if (opts.showOverlay) {
                var $currentOverlays = $(".js_lb_overlay:visible");
                if ($currentOverlays.length > 0) {
                    $overlay = $('<div class="lb_overlay_clear js_lb_overlay"/>');
                } else {
                    $overlay = $('<div class="' + opts.classPrefix + '_overlay js_lb_overlay"/>');
                }
            }
            if (ie6) {
                var src = /^https/i.test(window.location.href || '') ? 'javascript:false' : 'about:blank';
                $iframe.attr('src', src);
                $('body').append($iframe);
            }
            $('body').append($self.hide()).append($overlay);
            if (opts.showOverlay) {
                setOverlayHeight();
                $overlay.css({position: 'absolute',width: '100%',top: 0,left: 0,right: 0,bottom: 0,zIndex: (opts.zIndex + 2),display: 'none'});
                if (!$overlay.hasClass('lb_overlay_clear')) {
                    $overlay.css(opts.overlayCSS);
                }
            }
            if (opts.showOverlay) {
                $overlay.fadeIn(opts.overlaySpeed, function() {
                    setSelfPosition();
                    $self[opts.appearEffect](opts.lightboxSpeed, function() {
                        setOverlayHeight();
                        setSelfPosition();
                        opts.onLoad()
                    });
                });
            } else {
                setSelfPosition();
                $self[opts.appearEffect](opts.lightboxSpeed, function() {
                    opts.onLoad()
                });
            }
            if (opts.parentLightbox) {
                opts.parentLightbox.fadeOut(200);
            }
            $(window).resize(setOverlayHeight).resize(setSelfPosition).scroll(setSelfPosition);
            $(window).bind('keyup.lightbox_me', observeKeyPress);
            if (opts.closeClick) {
                $overlay.click(function(e) {
                    closeLightbox();
                    e.preventDefault;
                });
            }
            $self.delegate(opts.closeSelector, "click", function(e) {
                closeLightbox();
                e.preventDefault();
            });
            $self.bind('close_me', closeLightbox);
            $self.bind('reposition', setSelfPosition);
            function closeLightbox() {
                var s = $self[0].style;
                if (opts.destroyOnClose) {
                    $self.add($overlay).remove();
                } else {
                    $self.add($overlay).hide();
                }
                if (opts.parentLightbox) {
                    opts.parentLightbox.fadeIn(200);
                }
                $iframe.remove();
                $self.undelegate(opts.closeSelector, "click");
                $(window).unbind('reposition', setOverlayHeight);
                $(window).unbind('reposition', setSelfPosition);
                $(window).unbind('scroll', setSelfPosition);
                $(window).unbind('keyup.lightbox_me');
                if (ie6)
                    s.removeExpression('top');
                opts.onClose();
            }
            function observeKeyPress(e) {
                if ((e.keyCode == 27 || (e.DOM_VK_ESCAPE == 27 && e.which == 0)) && opts.closeEsc)
                    closeLightbox();
            }
            function setOverlayHeight() {
                if ($(window).height() < $(document).height()) {
                    $overlay.css({height: $(document).height() + 'px'});
                    $iframe.css({height: $(document).height() + 'px'});
                } else {
                    $overlay.css({height: '100%'});
                    if (ie6) {
                        $('html,body').css('height', '100%');
                        $iframe.css('height', '100%');
                    }
                }
            }
            function setSelfPosition() {
                var s = $self[0].style;
                $self.css({left: '50%',marginLeft: ($self.outerWidth() / 2) * -1,zIndex: (opts.zIndex + 3)});
                if (($self.height() + 80 >= $(window).height()) && ($self.css('position') != 'absolute' || ie6)) {
                    var topOffset = $(document).scrollTop() + 40;
                    $self.css({position: 'absolute',top: topOffset + 'px',marginTop: 0})
                    if (ie6) {
                        s.removeExpression('top');
                    }
                } else if ($self.height() + 80 < $(window).height()) {
                    if (ie6) {
                        s.position = 'absolute';
                        if (opts.centered) {
                            s.setExpression('top', '(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')
                            s.marginTop = 0;
                        } else {
                            var top = (opts.modalCSS && opts.modalCSS.top) ? parseInt(opts.modalCSS.top) : 0;
                            s.setExpression('top', '((blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + ' + top + ') + "px"')
                        }
                    } else {
                        if (opts.centered) {
                            $self.css({position: 'fixed',top: '50%',marginTop: ($self.outerHeight() / 2) * -1})
                        } else {
                            $self.css({position: 'fixed'}).css(opts.modalCSS);
                        }
                    }
                }
            }
        });
    };
    $.fn.lightbox_me.defaults = {appearEffect: "fadeIn",appearEase: "",overlaySpeed: 250,lightboxSpeed: 300,closeSelector: ".close",closeClick: true,closeEsc: true,destroyOnClose: false,showOverlay: true,parentLightbox: false,onLoad: function() {
        },onClose: function() {
        },classPrefix: 'lb',zIndex: 999,centered: false,modalCSS: {top: '40px'},overlayCSS: {background: 'black',opacity: .3}}
})(jQuery);
(function(factory) {
    if (typeof define === 'function' && define.amd) {
        define(['jquery'], factory);
    } else {
        factory(jQuery);
    }
}(function($) {
    var pluses = /\+/g;
    function raw(s) {
        return s;
    }
    function decoded(s) {
        return decodeURIComponent(s.replace(pluses, ' '));
    }
    function converted(s) {
        if (s.indexOf('"') === 0) {
            s = s.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, '\\');
        }
        try {
            return config.json ? JSON.parse(s) : s;
        } catch (er) {
        }
    }
    var config = $.cookie = function(key, value, options) {
        if (value !== undefined) {
            options = $.extend({}, config.defaults, options);
            if (typeof options.expires === 'number') {
                var days = options.expires, t = options.expires = new Date();
                t.setDate(t.getDate() + days);
            }
            value = config.json ? JSON.stringify(value) : String(value);
            return (document.cookie = [config.raw ? key : encodeURIComponent(key), '=', config.raw ? value : encodeURIComponent(value), options.expires ? '; expires=' + options.expires.toUTCString() : '', options.path ? '; path=' + options.path : '', options.domain ? '; domain=' + options.domain : '', options.secure ? '; secure' : ''].join(''));
        }
        var decode = config.raw ? raw : decoded;
        var cookies = document.cookie.split('; ');
        var result = key ? undefined : {};
        for (var i = 0, l = cookies.length; i < l; i++) {
            var parts = cookies[i].split('=');
            var name = decode(parts.shift());
            var cookie = decode(parts.join('='));
            if (key && key === name) {
                result = converted(cookie);
                break;
            }
            if (!key) {
                result[name] = converted(cookie);
            }
        }
        return result;
    };
    config.defaults = {};
    $.removeCookie = function(key, options) {
        if ($.cookie(key) !== undefined) {
            $.cookie(key, '', $.extend({}, options, {expires: -1}));
            return true;
        }
        return false;
    };
}));
(function() {
    function F(q) {
        return function() {
            return q
        }
    }
    ;
    (function(q) {
        var w = this || (0, eval)("this"), s = w.document, H = w.navigator, t = w.jQuery, y = w.JSON;
        (function(q) {
            "function" === typeof require && "object" === typeof exports && "object" === typeof module ? q(module.exports || exports) : "function" === typeof define && define.amd ? define(["exports"], q) : q(w.ko = {})
        })(function(C) {
            function G(b, d, c, f) {
                a.d[b] = {init: function(b) {
                        a.a.f.set(b, I, {});
                        return {controlsDescendantBindings: !0}
                    },update: function(b, e, m, h, k) {
                        m = a.a.f.get(b, I);
                        e = a.a.c(e());
                        h = !c !== !e;
                        var l = !m.fb;
                        if (l || d || h !== m.vb)
                            l && (m.fb = a.a.Oa(a.e.childNodes(b), !0)), h ? (l || a.e.P(b, a.a.Oa(m.fb)), a.Ja(f ? f(k, e) : k, b)) : a.e.ba(b), m.vb = h
                    }};
                a.g.S[b] = !1;
                a.e.L[b] = !0
            }
            function J(b, d, c) {
                c && d !== a.h.n(b) && a.h.W(b, d);
                d !== a.h.n(b) && a.q.I(a.a.Ga, null, [b, "change"])
            }
            var a = "undefined" !== typeof C ? C : {};
            a.b = function(b, d) {
                for (var c = b.split("."), f = a, g = 0; g < c.length - 1; g++)
                    f = f[c[g]];
                f[c[c.length - 1]] = d
            };
            a.r = function(a, d, c) {
                a[d] = c
            };
            a.version = "2.3.0";
            a.b("version", a.version);
            a.a = function() {
                function b(a, b) {
                    for (var e in a)
                        a.hasOwnProperty(e) && b(e, a[e])
                }
                function d(b, e) {
                    if ("input" !== a.a.u(b) || !b.type || "click" != e.toLowerCase())
                        return !1;
                    var k = b.type;
                    return "checkbox" == k || "radio" == k
                }
                var c = {}, f = {};
                c[H && /Firefox\/2/i.test(H.userAgent) ? "KeyboardEvent" : "UIEvents"] = ["keyup", "keydown", "keypress"];
                c.MouseEvents = "click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");
                b(c, function(a, b) {
                    if (b.length)
                        for (var e = 0, c = b.length; e < c; e++)
                            f[b[e]] = a
                });
                var g = {propertychange: !0}, e = s && function() {
                    for (var a = 3, b = s.createElement("div"), e = b.getElementsByTagName("i"); b.innerHTML = "\x3c!--[if gt IE " + ++a + "]><i></i><![endif]--\x3e", e[0]; )
                        ;
                    return 4 < a ? a : q
                }();
                return {Ta: ["authenticity_token", /^__RequestVerificationToken(_.*)?$/],p: function(a, b) {
                        for (var e = 0, c = a.length; e < c; e++)
                            b(a[e])
                    },k: function(a, b) {
                        if ("function" == typeof Array.prototype.indexOf)
                            return Array.prototype.indexOf.call(a, b);
                        for (var e = 0, c = a.length; e < c; e++)
                            if (a[e] === b)
                                return e;
                        return -1
                    },La: function(a, b, e) {
                        for (var c = 0, d = a.length; c < d; c++)
                            if (b.call(e, a[c]))
                                return a[c];
                        return null
                    },ka: function(b, e) {
                        var c = a.a.k(b, e);
                        0 <= c && b.splice(c, 1)
                    },Ma: function(b) {
                        b = b || [];
                        for (var e = [], c = 0, d = b.length; c < d; c++)
                            0 > a.a.k(e, b[c]) && e.push(b[c]);
                        return e
                    },Z: function(a, b) {
                        a = a || [];
                        for (var e = [], c = 0, d = a.length; c < d; c++)
                            e.push(b(a[c]));
                        return e
                    },Y: function(a, b) {
                        a = a || [];
                        for (var e = [], c = 0, d = a.length; c < d; c++)
                            b(a[c]) && e.push(a[c]);
                        return e
                    },R: function(a, b) {
                        if (b instanceof Array)
                            a.push.apply(a, b);
                        else
                            for (var e = 0, c = b.length; e < c; e++)
                                a.push(b[e]);
                        return a
                    },ja: function(b, e, c) {
                        var d = b.indexOf ? b.indexOf(e) : a.a.k(b, e);
                        0 > d ? c && b.push(e) : c || b.splice(d, 1)
                    },extend: function(a, b) {
                        if (b)
                            for (var e in b)
                                b.hasOwnProperty(e) && (a[e] = b[e]);
                        return a
                    },w: b,oa: function(b) {
                        for (; b.firstChild; )
                            a.removeNode(b.firstChild)
                    },Mb: function(b) {
                        b = a.a.N(b);
                        for (var e = s.createElement("div"), c = 0, d = b.length; c < d; c++)
                            e.appendChild(a.H(b[c]));
                        return e
                    },Oa: function(b, e) {
                        for (var c = 0, d = b.length, g = []; c < d; c++) {
                            var f = b[c].cloneNode(!0);
                            g.push(e ? a.H(f) : f)
                        }
                        return g
                    },P: function(b, e) {
                        a.a.oa(b);
                        if (e)
                            for (var c = 0, d = e.length; c < d; c++)
                                b.appendChild(e[c])
                    },eb: function(b, e) {
                        var c = b.nodeType ? [b] : b;
                        if (0 < c.length) {
                            for (var d = c[0], g = d.parentNode, f = 0, r = e.length; f < r; f++)
                                g.insertBefore(e[f], d);
                            f = 0;
                            for (r = c.length; f < r; f++)
                                a.removeNode(c[f])
                        }
                    },hb: function(a, b) {
                        7 > e ? a.setAttribute("selected", b) : a.selected = b
                    },F: function(a) {
                        return null === a || a === q ? "" : a.trim ? a.trim() : a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g, "")
                    },Wb: function(b, e) {
                        for (var c = [], d = (b || "").split(e), g = 0, f = d.length; g < f; g++) {
                            var r = a.a.F(d[g]);
                            "" !== r && c.push(r)
                        }
                        return c
                    },Tb: function(a, b) {
                        a = a || "";
                        return b.length > a.length ? !1 : a.substring(0, b.length) === b
                    },yb: function(a, b) {
                        if (b.compareDocumentPosition)
                            return 16 == (b.compareDocumentPosition(a) & 16);
                        for (; null != a; ) {
                            if (a == b)
                                return !0;
                            a = a.parentNode
                        }
                        return !1
                    },aa: function(b) {
                        return a.a.yb(b, b.ownerDocument)
                    },pb: function(b) {
                        return !!a.a.La(b, a.a.aa)
                    },u: function(a) {
                        return a && a.tagName && a.tagName.toLowerCase()
                    },o: function(b, c, k) {
                        var f = e && g[c];
                        if (f || "undefined" == typeof t)
                            if (f || "function" != typeof b.addEventListener)
                                if ("undefined" != typeof b.attachEvent) {
                                    var n = function(a) {
                                        k.call(b, a)
                                    }, p = "on" + c;
                                    b.attachEvent(p, n);
                                    a.a.C.ia(b, function() {
                                        b.detachEvent(p, n)
                                    })
                                } else
                                    throw Error("Browser doesn't support addEventListener or attachEvent");
                            else
                                b.addEventListener(c, k, !1);
                        else {
                            if (d(b, c)) {
                                var r = k;
                                k = function(a, b) {
                                    var e = this.checked;
                                    b && (this.checked = !0 !== b.sb);
                                    r.call(this, a);
                                    this.checked = e
                                }
                            }
                            t(b).bind(c, k)
                        }
                    },Ga: function(a, b) {
                        if (!a || !a.nodeType)
                            throw Error("element must be a DOM node when calling triggerEvent");
                        if ("undefined" != typeof t) {
                            var e = [];
                            d(a, b) && e.push({sb: a.checked});
                            t(a).trigger(b, e)
                        } else if ("function" == typeof s.createEvent)
                            if ("function" == typeof a.dispatchEvent)
                                e = s.createEvent(f[b] || "HTMLEvents"), e.initEvent(b, !0, !0, w, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, a), a.dispatchEvent(e);
                            else
                                throw Error("The supplied element doesn't support dispatchEvent");
                        else if ("undefined" != typeof a.fireEvent)
                            d(a, b) && (a.checked = !0 !== a.checked), a.fireEvent("on" + b);
                        else
                            throw Error("Browser doesn't support triggering events");
                    },c: function(b) {
                        return a.T(b) ? b() : b
                    },ya: function(b) {
                        return a.T(b) ? b.t() : b
                    },ga: function(b, e, c) {
                        if (e) {
                            var d = /\S+/g, g = b.className.match(d) || [];
                            a.a.p(e.match(d), function(b) {
                                a.a.ja(g, b, c)
                            });
                            b.className = g.join(" ")
                        }
                    },ib: function(b, e) {
                        var c = a.a.c(e);
                        if (null === c || c === q)
                            c = "";
                        var d = a.e.firstChild(b);
                        !d || 3 != d.nodeType || a.e.nextSibling(d) ? a.e.P(b, [s.createTextNode(c)]) : d.data = c;
                        a.a.Bb(b)
                    },gb: function(a, b) {
                        a.name = b;
                        if (7 >= e)
                            try {
                                a.mergeAttributes(s.createElement("<input name='" + a.name + "'/>"), !1)
                            } catch (c) {
                            }
                    },Bb: function(a) {
                        9 <= e && (a = 1 == a.nodeType ? a : a.parentNode, a.style && (a.style.zoom = a.style.zoom))
                    },zb: function(a) {
                        if (e) {
                            var b = a.style.width;
                            a.style.width = 0;
                            a.style.width = b
                        }
                    },Qb: function(b, e) {
                        b = a.a.c(b);
                        e = a.a.c(e);
                        for (var c = [], d = b; d <= e; d++)
                            c.push(d);
                        return c
                    },N: function(a) {
                        for (var b = [], e = 0, c = a.length; e < c; e++)
                            b.push(a[e]);
                        return b
                    },Ub: 6 === e,Vb: 7 === e,ca: e,Ua: function(b, e) {
                        for (var c = a.a.N(b.getElementsByTagName("input")).concat(a.a.N(b.getElementsByTagName("textarea"))), d = "string" == typeof e ? function(a) {
                            return a.name === e
                        } : function(a) {
                            return e.test(a.name)
                        }, g = [], f = c.length - 1; 0 <= f; f--)
                            d(c[f]) && g.push(c[f]);
                        return g
                    },Nb: function(b) {
                        return "string" == typeof b && (b = a.a.F(b)) ? y && y.parse ? y.parse(b) : (new Function("return " + b))() : null
                    },Ca: function(b, e, c) {
                        if (!y || !y.stringify)
                            throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
                        return y.stringify(a.a.c(b), e, c)
                    },Ob: function(e, c, d) {
                        d = d || {};
                        var g = d.params || {}, f = d.includeFields || this.Ta, p = e;
                        if ("object" == typeof e && "form" === a.a.u(e))
                            for (var p = e.action, r = f.length - 1; 0 <= r; r--)
                                for (var z = a.a.Ua(e, f[r]), D = z.length - 1; 0 <= D; D--)
                                    g[z[D].name] = z[D].value;
                        c = a.a.c(c);
                        var q = s.createElement("form");
                        q.style.display = "none";
                        q.action = p;
                        q.method = "post";
                        for (var v in c)
                            e = s.createElement("input"), e.name = v, e.value = a.a.Ca(a.a.c(c[v])), q.appendChild(e);
                        b(g, function(a, b) {
                            var e = s.createElement("input");
                            e.name = a;
                            e.value = b;
                            q.appendChild(e)
                        });
                        s.body.appendChild(q);
                        d.submitter ? d.submitter(q) : q.submit();
                        setTimeout(function() {
                            q.parentNode.removeChild(q)
                        }, 0)
                    }}
            }();
            a.b("utils", a.a);
            a.b("utils.arrayForEach", a.a.p);
            a.b("utils.arrayFirst", a.a.La);
            a.b("utils.arrayFilter", a.a.Y);
            a.b("utils.arrayGetDistinctValues", a.a.Ma);
            a.b("utils.arrayIndexOf", a.a.k);
            a.b("utils.arrayMap", a.a.Z);
            a.b("utils.arrayPushAll", a.a.R);
            a.b("utils.arrayRemoveItem", a.a.ka);
            a.b("utils.extend", a.a.extend);
            a.b("utils.fieldsIncludedWithJsonPost", a.a.Ta);
            a.b("utils.getFormFields", a.a.Ua);
            a.b("utils.peekObservable", a.a.ya);
            a.b("utils.postJson", a.a.Ob);
            a.b("utils.parseJson", a.a.Nb);
            a.b("utils.registerEventHandler", a.a.o);
            a.b("utils.stringifyJson", a.a.Ca);
            a.b("utils.range", a.a.Qb);
            a.b("utils.toggleDomNodeCssClass", a.a.ga);
            a.b("utils.triggerEvent", a.a.Ga);
            a.b("utils.unwrapObservable", a.a.c);
            a.b("utils.objectForEach", a.a.w);
            a.b("utils.addOrRemoveItem", a.a.ja);
            a.b("unwrap", a.a.c);
            Function.prototype.bind || (Function.prototype.bind = function(a) {
                var d = this, c = Array.prototype.slice.call(arguments);
                a = c.shift();
                return function() {
                    return d.apply(a, c.concat(Array.prototype.slice.call(arguments)))
                }
            });
            a.a.f = new function() {
                var b = 0, d = "__ko__" + (new Date).getTime(), c = {};
                return {get: function(b, c) {
                        var e = a.a.f.pa(b, !1);
                        return e === q ? q : e[c]
                    },set: function(b, c, e) {
                        if (e !== q || a.a.f.pa(b, !1) !== q)
                            a.a.f.pa(b, !0)[c] = e
                    },pa: function(a, g) {
                        var e = a[d];
                        if (!e || "null" === e || !c[e]) {
                            if (!g)
                                return q;
                            e = a[d] = "ko" + b++;
                            c[e] = {}
                        }
                        return c[e]
                    },clear: function(a) {
                        var b = a[d];
                        return b ? (delete c[b], a[d] = null, !0) : !1
                    }}
            };
            a.b("utils.domData", a.a.f);
            a.b("utils.domData.clear", a.a.f.clear);
            a.a.C = new function() {
                function b(b, d) {
                    var g = a.a.f.get(b, c);
                    g === q && d && (g = [], a.a.f.set(b, c, g));
                    return g
                }
                function d(e) {
                    var c = b(e, !1);
                    if (c)
                        for (var c = c.slice(0), f = 0; f < c.length; f++)
                            c[f](e);
                    a.a.f.clear(e);
                    "function" == typeof t && "function" == typeof t.cleanData && t.cleanData([e]);
                    if (g[e.nodeType])
                        for (c = e.firstChild; e = c; )
                            c = e.nextSibling, 8 === e.nodeType && d(e)
                }
                var c = "__ko_domNodeDisposal__" + (new Date).getTime(), f = {1: !0,8: !0,9: !0}, g = {1: !0,9: !0};
                return {ia: function(a, c) {
                        if ("function" != typeof c)
                            throw Error("Callback must be a function");
                        b(a, !0).push(c)
                    },cb: function(e, d) {
                        var g = b(e, !1);
                        g && (a.a.ka(g, d), 0 == g.length && a.a.f.set(e, c, q))
                    },H: function(b) {
                        if (f[b.nodeType] && (d(b), g[b.nodeType])) {
                            var c = [];
                            a.a.R(c, b.getElementsByTagName("*"));
                            for (var h = 0, k = c.length; h < k; h++)
                                d(c[h])
                        }
                        return b
                    },removeNode: function(b) {
                        a.H(b);
                        b.parentNode && b.parentNode.removeChild(b)
                    }}
            };
            a.H = a.a.C.H;
            a.removeNode = a.a.C.removeNode;
            a.b("cleanNode", a.H);
            a.b("removeNode", a.removeNode);
            a.b("utils.domNodeDisposal", a.a.C);
            a.b("utils.domNodeDisposal.addDisposeCallback", a.a.C.ia);
            a.b("utils.domNodeDisposal.removeDisposeCallback", a.a.C.cb);
            (function() {
                var b = /jQuery\d+?="\d+?"/;
                a.a.xa = function(d) {
                    var c;
                    if ("undefined" != typeof t)
                        if (t.parseHTML)
                            c = t.parseHTML(d.replace(b, "")) || [];
                        else {
                            if ((c = t.clean([d])) && c[0]) {
                                for (d = c[0]; d.parentNode && 11 !== d.parentNode.nodeType; )
                                    d = d.parentNode;
                                d.parentNode && d.parentNode.removeChild(d)
                            }
                        }
                    else {
                        var f = a.a.F(d).toLowerCase();
                        c = s.createElement("div");
                        f = f.match(/^<(thead|tbody|tfoot)/) && [1, "<table>", "</table>"] || !f.indexOf("<tr") && [2, "<table><tbody>", "</tbody></table>"] || (!f.indexOf("<td") || !f.indexOf("<th")) && [3, "<table><tbody><tr>", "</tr></tbody></table>"] || [0, "", ""];
                        d = "ignored<div>" + f[1] + d + f[2] + "</div>";
                        for ("function" == typeof w.innerShiv ? c.appendChild(w.innerShiv(d)) : c.innerHTML = d; f[0]--; )
                            c = c.lastChild;
                        c = a.a.N(c.lastChild.childNodes)
                    }
                    return c
                };
                a.a.fa = function(b, c) {
                    a.a.oa(b);
                    c = a.a.c(c);
                    if (null !== c && c !== q)
                        if ("string" != typeof c && (c = c.toString()), "undefined" != typeof t)
                            t(b).html(c);
                        else
                            for (var f = a.a.xa(c), g = 0; g < f.length; g++)
                                b.appendChild(f[g])
                }
            })();
            a.b("utils.parseHtmlFragment", a.a.xa);
            a.b("utils.setHtml", a.a.fa);
            a.s = function() {
                function b(c, d) {
                    if (c)
                        if (8 == c.nodeType) {
                            var g = a.s.$a(c.nodeValue);
                            null != g && d.push({xb: c,Kb: g})
                        } else if (1 == c.nodeType)
                            for (var g = 0, e = c.childNodes, m = e.length; g < m; g++)
                                b(e[g], d)
                }
                var d = {};
                return {va: function(a) {
                        if ("function" != typeof a)
                            throw Error("You can only pass a function to ko.memoization.memoize()");
                        var b = (4294967296 * (1 + Math.random()) | 0).toString(16).substring(1) + (4294967296 * (1 + Math.random()) | 0).toString(16).substring(1);
                        d[b] = a;
                        return "\x3c!--[ko_memo:" + b + "]--\x3e"
                    },mb: function(a, b) {
                        var g = d[a];
                        if (g === q)
                            throw Error("Couldn't find any memo with ID " + 
                            a + ". Perhaps it's already been unmemoized.");
                        try {
                            return g.apply(null, b || []), !0
                        }finally {
                            delete d[a]
                        }
                    },nb: function(c, d) {
                        var g = [];
                        b(c, g);
                        for (var e = 0, m = g.length; e < m; e++) {
                            var h = g[e].xb, k = [h];
                            d && a.a.R(k, d);
                            a.s.mb(g[e].Kb, k);
                            h.nodeValue = "";
                            h.parentNode && h.parentNode.removeChild(h)
                        }
                    },$a: function(a) {
                        return (a = a.match(/^\[ko_memo\:(.*?)\]$/)) ? a[1] : null
                    }}
            }();
            a.b("memoization", a.s);
            a.b("memoization.memoize", a.s.va);
            a.b("memoization.unmemoize", a.s.mb);
            a.b("memoization.parseMemoText", a.s.$a);
            a.b("memoization.unmemoizeDomNodeAndDescendants", a.s.nb);
            a.Sa = {throttle: function(b, d) {
                    b.throttleEvaluation = d;
                    var c = null;
                    return a.j({read: b,write: function(a) {
                            clearTimeout(c);
                            c = setTimeout(function() {
                                b(a)
                            }, d)
                        }})
                },notify: function(b, d) {
                    b.equalityComparer = "always" == d ? F(!1) : a.m.fn.equalityComparer;
                    return b
                }};
            a.b("extenders", a.Sa);
            a.kb = function(b, d, c) {
                this.target = b;
                this.la = d;
                this.wb = c;
                a.r(this, "dispose", this.B)
            };
            a.kb.prototype.B = function() {
                this.Hb = !0;
                this.wb()
            };
            a.V = function() {
                this.G = {};
                a.a.extend(this, a.V.fn);
                a.r(this, "subscribe", this.Da);
                a.r(this, "extend", this.extend);
                a.r(this, "getSubscriptionsCount", this.Db)
            };
            a.V.fn = {Da: function(b, d, c) {
                    c = c || "change";
                    var f = new a.kb(this, d ? b.bind(d) : b, function() {
                        a.a.ka(this.G[c], f)
                    }.bind(this));
                    this.G[c] || (this.G[c] = []);
                    this.G[c].push(f);
                    return f
                },notifySubscribers: function(b, d) {
                    d = d || "change";
                    this.G[d] && a.q.I(function() {
                        a.a.p(this.G[d].slice(0), function(a) {
                            a && !0 !== a.Hb && a.la(b)
                        })
                    }, this)
                },Db: function() {
                    var b = 0;
                    a.a.w(this.G, function(a, c) {
                        b += c.length
                    });
                    return b
                },extend: function(b) {
                    var d = this;
                    b && a.a.w(b, function(b, f) {
                        var g = a.Sa[b];
                        "function" == typeof g && (d = g(d, f))
                    });
                    return d
                }};
            a.Wa = function(a) {
                return null != a && "function" == typeof a.Da && "function" == typeof a.notifySubscribers
            };
            a.b("subscribable", a.V);
            a.b("isSubscribable", a.Wa);
            a.q = function() {
                var b = [];
                return {rb: function(a) {
                        b.push({la: a,Ra: []})
                    },end: function() {
                        b.pop()
                    },bb: function(d) {
                        if (!a.Wa(d))
                            throw Error("Only subscribable things can act as dependencies");
                        if (0 < b.length) {
                            var c = b[b.length - 1];
                            !c || 0 <= a.a.k(c.Ra, d) || (c.Ra.push(d), c.la(d))
                        }
                    },I: function(a, c, f) {
                        try {
                            return b.push(null), a.apply(c, f || [])
                        }finally {
                            b.pop()
                        }
                    }}
            }();
            var L = {undefined: !0,"boolean": !0,number: !0,string: !0};
            a.m = function(b) {
                function d() {
                    if (0 < arguments.length)
                        return d.equalityComparer && d.equalityComparer(c, arguments[0]) || (d.K(), c = arguments[0], d.J()), this;
                    a.q.bb(d);
                    return c
                }
                var c = b;
                a.V.call(d);
                d.t = function() {
                    return c
                };
                d.J = function() {
                    d.notifySubscribers(c)
                };
                d.K = function() {
                    d.notifySubscribers(c, "beforeChange")
                };
                a.a.extend(d, a.m.fn);
                a.r(d, "peek", d.t);
                a.r(d, "valueHasMutated", d.J);
                a.r(d, "valueWillMutate", d.K);
                return d
            };
            a.m.fn = {equalityComparer: function(a, d) {
                    return null === a || typeof a in L ? a === d : !1
                }};
            var A = a.m.Pb = "__ko_proto__";
            a.m.fn[A] = a.m;
            a.qa = function(b, d) {
                return null === b || b === q || b[A] === q ? !1 : b[A] === d ? !0 : a.qa(b[A], d)
            };
            a.T = function(b) {
                return a.qa(b, a.m)
            };
            a.Xa = function(b) {
                return "function" == typeof b && b[A] === a.m || "function" == typeof b && b[A] === a.j && b.Eb ? !0 : !1
            };
            a.b("observable", a.m);
            a.b("isObservable", a.T);
            a.b("isWriteableObservable", a.Xa);
            a.U = function(b) {
                b = b || [];
                if ("object" != typeof b || !("length" in b))
                    throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");
                b = a.m(b);
                a.a.extend(b, a.U.fn);
                return b
            };
            a.U.fn = {remove: function(a) {
                    for (var d = this.t(), c = [], f = "function" == typeof a ? a : function(e) {
                        return e === a
                    }, g = 0; g < d.length; g++) {
                        var e = d[g];
                        f(e) && (0 === c.length && this.K(), c.push(e), d.splice(g, 1), g--)
                    }
                    c.length && this.J();
                    return c
                },removeAll: function(b) {
                    if (b === q) {
                        var d = this.t(), c = d.slice(0);
                        this.K();
                        d.splice(0, d.length);
                        this.J();
                        return c
                    }
                    return b ? this.remove(function(c) {
                        return 0 <= a.a.k(b, c)
                    }) : []
                },destroy: function(a) {
                    var d = this.t(), c = "function" == typeof a ? a : function(c) {
                        return c === a
                    };
                    this.K();
                    for (var f = d.length - 1; 0 <= f; f--)
                        c(d[f]) && (d[f]._destroy = !0);
                    this.J()
                },destroyAll: function(b) {
                    return b === q ? this.destroy(F(!0)) : b ? this.destroy(function(d) {
                        return 0 <= a.a.k(b, d)
                    }) : []
                },indexOf: function(b) {
                    var d = this();
                    return a.a.k(d, b)
                },replace: function(a, d) {
                    var c = this.indexOf(a);
                    0 <= c && (this.K(), this.t()[c] = d, this.J())
                }};
            a.a.p("pop push reverse shift sort splice unshift".split(" "), function(b) {
                a.U.fn[b] = function() {
                    var a = this.t();
                    this.K();
                    a = a[b].apply(a, arguments);
                    this.J();
                    return a
                }
            });
            a.a.p(["slice"], function(b) {
                a.U.fn[b] = function() {
                    var a = this();
                    return a[b].apply(a, arguments)
                }
            });
            a.b("observableArray", a.U);
            a.j = function(b, d, c) {
                function f() {
                    a.a.p(v, function(a) {
                        a.B()
                    });
                    v = []
                }
                function g() {
                    var a = m.throttleEvaluation;
                    a && 0 <= a ? (clearTimeout(t), t = setTimeout(e, a)) : e()
                }
                function e() {
                    if (!n)
                        if (l && D())
                            x();
                        else {
                            n = !0;
                            try {
                                var b = a.a.Z(v, function(a) {
                                    return a.target
                                });
                                a.q.rb(function(e) {
                                    var c;
                                    0 <= (c = a.a.k(b, e)) ? b[c] = q : v.push(e.Da(g))
                                });
                                for (var e = p.call(d), c = b.length - 1; 0 <= c; c--)
                                    b[c] && v.splice(c, 1)[0].B();
                                l = !0;
                                m.notifySubscribers(k, "beforeChange");
                                k = e;
                                m.notifySubscribers(k)
                            }finally {
                                a.q.end(), n = !1
                            }
                            v.length || x()
                        }
                }
                function m() {
                    if (0 < arguments.length) {
                        if ("function" === typeof r)
                            r.apply(d, arguments);
                        else
                            throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");
                        return this
                    }
                    l || e();
                    a.q.bb(m);
                    return k
                }
                function h() {
                    return !l || 0 < v.length
                }
                var k, l = !1, n = !1, p = b;
                p && "object" == typeof p ? (c = p, p = c.read) : (c = c || {}, p || (p = c.read));
                if ("function" != typeof p)
                    throw Error("Pass a function that returns the value of the ko.computed");
                var r = c.write, z = c.disposeWhenNodeIsRemoved || c.$ || null, D = c.disposeWhen || c.Qa || F(!1), x = f, v = [], t = null;
                d || (d = c.owner);
                m.t = function() {
                    l || e();
                    return k
                };
                m.Cb = function() {
                    return v.length
                };
                m.Eb = "function" === typeof c.write;
                m.B = function() {
                    x()
                };
                m.ta = h;
                a.V.call(m);
                a.a.extend(m, a.j.fn);
                a.r(m, "peek", m.t);
                a.r(m, "dispose", m.B);
                a.r(m, "isActive", m.ta);
                a.r(m, "getDependenciesCount", m.Cb);
                !0 !== c.deferEvaluation && e();
                if (z && h()) {
                    x = function() {
                        a.a.C.cb(z, x);
                        f()
                    };
                    a.a.C.ia(z, x);
                    var s = D, D = function() {
                        return !a.a.aa(z) || s()
                    }
                }
                return m
            };
            a.Gb = function(b) {
                return a.qa(b, a.j)
            };
            C = a.m.Pb;
            a.j[C] = a.m;
            a.j.fn = {};
            a.j.fn[C] = a.j;
            a.b("dependentObservable", a.j);
            a.b("computed", a.j);
            a.b("isComputed", a.Gb);
            (function() {
                function b(a, g, e) {
                    e = e || new c;
                    a = g(a);
                    if ("object" != typeof a || null === a || a === q || a instanceof Date || a instanceof String || a instanceof Number || a instanceof Boolean)
                        return a;
                    var m = a instanceof Array ? [] : {};
                    e.save(a, m);
                    d(a, function(c) {
                        var d = g(a[c]);
                        switch (typeof d) {
                            case "boolean":
                            case "number":
                            case "string":
                            case "function":
                                m[c] = d;
                                break;
                            case "object":
                            case "undefined":
                                var l = e.get(d);
                                m[c] = l !== q ? l : b(d, g, e)
                        }
                    });
                    return m
                }
                function d(a, b) {
                    if (a instanceof Array) {
                        for (var e = 0; e < a.length; e++)
                            b(e);
                        "function" == typeof a.toJSON && b("toJSON")
                    } else
                        for (e in a)
                            b(e)
                }
                function c() {
                    this.keys = [];
                    this.Ha = []
                }
                a.lb = function(c) {
                    if (0 == arguments.length)
                        throw Error("When calling ko.toJS, pass the object you want to convert.");
                    return b(c, function(b) {
                        for (var e = 0; a.T(b) && 10 > e; e++)
                            b = b();
                        return b
                    })
                };
                a.toJSON = function(b, c, e) {
                    b = a.lb(b);
                    return a.a.Ca(b, c, e)
                };
                c.prototype = {save: function(b, c) {
                        var e = a.a.k(this.keys, b);
                        0 <= e ? this.Ha[e] = c : (this.keys.push(b), this.Ha.push(c))
                    },get: function(b) {
                        b = a.a.k(this.keys, b);
                        return 0 <= b ? this.Ha[b] : q
                    }}
            })();
            a.b("toJS", a.lb);
            a.b("toJSON", a.toJSON);
            (function() {
                a.h = {n: function(b) {
                        switch (a.a.u(b)) {
                            case "option":
                                return !0 === b.__ko__hasDomDataOptionValue__ ? a.a.f.get(b, a.d.options.wa) : 7 >= a.a.ca ? b.getAttributeNode("value") && b.getAttributeNode("value").specified ? b.value : b.text : b.value;
                            case "select":
                                return 0 <= b.selectedIndex ? a.h.n(b.options[b.selectedIndex]) : q;
                            default:
                                return b.value
                        }
                    },W: function(b, d) {
                        switch (a.a.u(b)) {
                            case "option":
                                switch (typeof d) {
                                    case "string":
                                        a.a.f.set(b, a.d.options.wa, q);
                                        "__ko__hasDomDataOptionValue__" in b && delete b.__ko__hasDomDataOptionValue__;
                                        b.value = d;
                                        break;
                                    default:
                                        a.a.f.set(b, a.d.options.wa, d), b.__ko__hasDomDataOptionValue__ = !0, b.value = "number" === typeof d ? d : ""
                                }
                                break;
                            case "select":
                                "" === d && (d = q);
                                if (null === d || d === q)
                                    b.selectedIndex = -1;
                                for (var c = b.options.length - 1; 0 <= c; c--)
                                    if (a.h.n(b.options[c]) == d) {
                                        b.selectedIndex = c;
                                        break
                                    }
                                1 < b.size || -1 !== b.selectedIndex || (b.selectedIndex = 0);
                                break;
                            default:
                                if (null === d || d === q)
                                    d = "";
                                b.value = d
                        }
                    }}
            })();
            a.b("selectExtensions", a.h);
            a.b("selectExtensions.readValue", a.h.n);
            a.b("selectExtensions.writeValue", a.h.W);
            a.g = function() {
                function b(a, b) {
                    for (var c = null; a != c; )
                        c = a, a = a.replace(d, function(a, c) {
                            return b[c]
                        });
                    return a
                }
                var d = /\@ko_token_(\d+)\@/g, c = ["true", "false", "null", "undefined"], f = /^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i;
                return {S: [],da: function(c) {
                        var e = a.a.F(c);
                        if (3 > e.length)
                            return [];
                        "{" === e.charAt(0) && (e = e.substring(1, e.length - 
                        1));
                        c = [];
                        for (var d = null, f, k = 0; k < e.length; k++) {
                            var l = e.charAt(k);
                            if (null === d)
                                switch (l) {
                                    case '"':
                                    case "'":
                                    case "/":
                                        d = k, f = l
                                }
                            else if (l == f && "\\" !== e.charAt(k - 1)) {
                                l = e.substring(d, k + 1);
                                c.push(l);
                                var n = "@ko_token_" + (c.length - 1) + "@", e = e.substring(0, d) + n + e.substring(k + 1), k = k - (l.length - n.length), d = null
                            }
                        }
                        f = d = null;
                        for (var p = 0, r = null, k = 0; k < e.length; k++) {
                            l = e.charAt(k);
                            if (null === d)
                                switch (l) {
                                    case "{":
                                        d = k;
                                        r = l;
                                        f = "}";
                                        break;
                                    case "(":
                                        d = k;
                                        r = l;
                                        f = ")";
                                        break;
                                    case "[":
                                        d = k, r = l, f = "]"
                                }
                            l === r ? p++ : l === f && (p--, 0 === p && (l = e.substring(d, k + 1), c.push(l), n = "@ko_token_" + (c.length - 1) + "@", e = e.substring(0, d) + n + e.substring(k + 1), k -= l.length - n.length, d = null))
                        }
                        f = [];
                        e = e.split(",");
                        d = 0;
                        for (k = e.length; d < k; d++)
                            p = e[d], r = p.indexOf(":"), 0 < r && r < p.length - 1 ? (l = p.substring(r + 1), f.push({key: b(p.substring(0, r), c),value: b(l, c)})) : f.push({unknown: b(p, c)});
                        return f
                    },ea: function(b) {
                        var e = "string" === typeof b ? a.g.da(b) : b, d = [];
                        b = [];
                        for (var h, k = 0; h = e[k]; k++)
                            if (0 < d.length && d.push(","), h.key) {
                                var l;
                                a: {
                                    l = h.key;
                                    var n = a.a.F(l);
                                    switch (n.length && n.charAt(0)) {
                                        case "'":
                                        case '"':
                                            break a;
                                        default:
                                            l = "'" + n + "'"
                                    }
                                }
                                h = h.value;
                                d.push(l);
                                d.push(":");
                                d.push(h);
                                h = a.a.F(h);
                                0 <= a.a.k(c, a.a.F(h).toLowerCase()) ? h = !1 : (n = h.match(f), h = null === n ? !1 : n[1] ? "Object(" + n[1] + ")" + n[2] : h);
                                h && (0 < b.length && b.push(", "), b.push(l + " : function(__ko_value) { " + h + " = __ko_value; }"))
                            } else
                                h.unknown && d.push(h.unknown);
                        e = d.join("");
                        0 < b.length && (e = e + ", '_ko_property_writers' : { " + b.join("") + " } ");
                        return e
                    },Jb: function(b, c) {
                        for (var d = 0; d < b.length; d++)
                            if (a.a.F(b[d].key) == c)
                                return !0;
                        return !1
                    },ha: function(b, c, d, f, k) {
                        if (b && a.T(b))
                            !a.Xa(b) || k && b.t() === f || b(f);
                        else if ((b = c()._ko_property_writers) && b[d])
                            b[d](f)
                    }}
            }();
            a.b("expressionRewriting", a.g);
            a.b("expressionRewriting.bindingRewriteValidators", a.g.S);
            a.b("expressionRewriting.parseObjectLiteral", a.g.da);
            a.b("expressionRewriting.preProcessBindings", a.g.ea);
            a.b("jsonExpressionRewriting", a.g);
            a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson", a.g.ea);
            (function() {
                function b(a) {
                    return 8 == a.nodeType && (g ? a.text : a.nodeValue).match(e)
                }
                function d(a) {
                    return 8 == a.nodeType && (g ? a.text : a.nodeValue).match(m)
                }
                function c(a, c) {
                    for (var e = a, g = 1, f = []; e = e.nextSibling; ) {
                        if (d(e) && (g--, 0 === g))
                            return f;
                        f.push(e);
                        b(e) && g++
                    }
                    if (!c)
                        throw Error("Cannot find closing comment tag to match: " + a.nodeValue);
                    return null
                }
                function f(a, b) {
                    var e = c(a, b);
                    return e ? 0 < e.length ? e[e.length - 1].nextSibling : a.nextSibling : null
                }
                var g = s && "\x3c!--test--\x3e" === s.createComment("test").text, e = g ? /^\x3c!--\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*--\x3e$/ : /^\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*$/, m = g ? /^\x3c!--\s*\/ko\s*--\x3e$/ : /^\s*\/ko\s*$/, h = {ul: !0,ol: !0};
                a.e = {L: {},childNodes: function(a) {
                        return b(a) ? c(a) : a.childNodes
                    },ba: function(c) {
                        if (b(c)) {
                            c = a.e.childNodes(c);
                            for (var e = 0, d = c.length; e < d; e++)
                                a.removeNode(c[e])
                        } else
                            a.a.oa(c)
                    },P: function(c, e) {
                        if (b(c)) {
                            a.e.ba(c);
                            for (var d = c.nextSibling, g = 0, f = e.length; g < f; g++)
                                d.parentNode.insertBefore(e[g], d)
                        } else
                            a.a.P(c, e)
                    },ab: function(a, c) {
                        b(a) ? a.parentNode.insertBefore(c, a.nextSibling) : a.firstChild ? a.insertBefore(c, a.firstChild) : a.appendChild(c)
                    },Va: function(c, e, d) {
                        d ? b(c) ? c.parentNode.insertBefore(e, d.nextSibling) : d.nextSibling ? c.insertBefore(e, d.nextSibling) : c.appendChild(e) : a.e.ab(c, e)
                    },firstChild: function(a) {
                        return b(a) ? !a.nextSibling || d(a.nextSibling) ? null : a.nextSibling : a.firstChild
                    },nextSibling: function(a) {
                        b(a) && (a = f(a));
                        return a.nextSibling && d(a.nextSibling) ? null : a.nextSibling
                    },ob: function(a) {
                        return (a = b(a)) ? a[1] : null
                    },Za: function(c) {
                        if (h[a.a.u(c)]) {
                            var e = c.firstChild;
                            if (e) {
                                do
                                    if (1 === e.nodeType) {
                                        var g;
                                        g = e.firstChild;
                                        var m = null;
                                        if (g) {
                                            do
                                                if (m)
                                                    m.push(g);
                                                else if (b(g)) {
                                                    var r = f(g, !0);
                                                    r ? g = r : m = [g]
                                                } else
                                                    d(g) && (m = [g]);
                                            while (g = g.nextSibling)
                                        }
                                        if (g = m)
                                            for (m = e.nextSibling, r = 0; r < g.length; r++)
                                                m ? c.insertBefore(g[r], m) : c.appendChild(g[r])
                                    }
                                while (e = e.nextSibling)
                            }
                        }
                    }}
            })();
            a.b("virtualElements", a.e);
            a.b("virtualElements.allowedBindings", a.e.L);
            a.b("virtualElements.emptyNode", a.e.ba);
            a.b("virtualElements.insertAfter", a.e.Va);
            a.b("virtualElements.prepend", a.e.ab);
            a.b("virtualElements.setDomNodeChildren", a.e.P);
            (function() {
                a.M = function() {
                    this.Na = {}
                };
                a.a.extend(a.M.prototype, {nodeHasBindings: function(b) {
                        switch (b.nodeType) {
                            case 1:
                                return null != b.getAttribute("data-bind");
                            case 8:
                                return null != a.e.ob(b);
                            default:
                                return !1
                        }
                    },getBindings: function(a, d) {
                        var c = this.getBindingsString(a, d);
                        return c ? this.parseBindingsString(c, d, a) : null
                    },getBindingsString: function(b) {
                        switch (b.nodeType) {
                            case 1:
                                return b.getAttribute("data-bind");
                            case 8:
                                return a.e.ob(b);
                            default:
                                return null
                        }
                    },parseBindingsString: function(b, d, c) {
                        try {
                            var f;
                            if (!(f = this.Na[b])) {
                                var g = this.Na, e, m = "with($context){with($data||{}){return{" + a.g.ea(b) + "}}}";
                                e = new Function("$context", "$element", m);
                                f = g[b] = e
                            }
                            return f(d, c)
                        } catch (h) {
                            throw h.message = "Unable to parse bindings.\nBindings value: " + b + "\nMessage: " + h.message, h;
                        }
                    }});
                a.M.instance = new a.M
            })();
            a.b("bindingProvider", a.M);
            (function() {
                function b(b, c, f) {
                    for (var h = a.e.firstChild(c); c = h; )
                        h = a.e.nextSibling(c), d(b, c, f)
                }
                function d(d, e, f) {
                    var h = !0, k = 1 === e.nodeType;
                    k && a.e.Za(e);
                    if (k && f || a.M.instance.nodeHasBindings(e))
                        h = c(e, null, d, f).Sb;
                    h && b(d, e, !k)
                }
                function c(b, c, d, h) {
                    function k(a) {
                        return function() {
                            return p[a]
                        }
                    }
                    function l() {
                        return p
                    }
                    var n = 0, p, r, z = a.a.f.get(b, f);
                    if (!c) {
                        if (z)
                            throw Error("You cannot apply bindings multiple times to the same element.");
                        a.a.f.set(b, f, !0)
                    }
                    a.j(function() {
                        var f = d && d instanceof a.A ? d : new a.A(a.a.c(d)), x = f.$data;
                        !z && h && a.jb(b, f);
                        if (p = ("function" == typeof c ? c(f, b) : c) || a.M.instance.getBindings(b, f))
                            0 === n && (n = 1, a.a.w(p, function(c) {
                                var e = a.d[c];
                                if (e && 8 === b.nodeType && !a.e.L[c])
                                    throw Error("The binding '" + c + "' cannot be used with virtual elements");
                                if (e && "function" == typeof e.init && (e = (0, e.init)(b, k(c), l, x, f)) && e.controlsDescendantBindings) {
                                    if (r !== q)
                                        throw Error("Multiple bindings (" + r + " and " + c + ") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");
                                    r = c
                                }
                            }), n = 2), 2 === n && a.a.w(p, function(c) {
                                var e = a.d[c];
                                e && "function" == typeof e.update && (0, e.update)(b, k(c), l, x, f)
                            })
                    }, null, {$: b});
                    return {Sb: r === q}
                }
                a.d = {};
                a.A = function(b, c, d) {
                    c ? (a.a.extend(this, c), this.$parentContext = c, this.$parent = c.$data, this.$parents = (c.$parents || []).slice(0), this.$parents.unshift(this.$parent)) : (this.$parents = [], this.$root = b, this.ko = a);
                    this.$data = b;
                    d && (this[d] = b)
                };
                a.A.prototype.createChildContext = function(b, c) {
                    return new a.A(b, this, c)
                };
                a.A.prototype.extend = function(b) {
                    var c = a.a.extend(new a.A, this);
                    return a.a.extend(c, b)
                };
                var f = "__ko_boundElement";
                a.jb = function(b, c) {
                    if (2 == arguments.length)
                        a.a.f.set(b, "__ko_bindingContext__", c);
                    else
                        return a.a.f.get(b, "__ko_bindingContext__")
                };
                a.Ka = function(b, e, d) {
                    1 === b.nodeType && a.e.Za(b);
                    return c(b, e, d, !0)
                };
                a.Ja = function(a, c) {
                    1 !== c.nodeType && 8 !== c.nodeType || b(a, c, !0)
                };
                a.Ia = function(a, b) {
                    if (b && 1 !== b.nodeType && 8 !== b.nodeType)
                        throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");
                    b = b || w.document.body;
                    d(a, b, !0)
                };
                a.na = function(b) {
                    switch (b.nodeType) {
                        case 1:
                        case 8:
                            var c = a.jb(b);
                            if (c)
                                return c;
                            if (b.parentNode)
                                return a.na(b.parentNode)
                    }
                    return q
                };
                a.ub = function(b) {
                    return (b = a.na(b)) ? b.$data : q
                };
                a.b("bindingHandlers", a.d);
                a.b("applyBindings", a.Ia);
                a.b("applyBindingsToDescendants", a.Ja);
                a.b("applyBindingsToNode", a.Ka);
                a.b("contextFor", a.na);
                a.b("dataFor", a.ub)
            })();
            var K = {"class": "className","for": "htmlFor"};
            a.d.attr = {update: function(b, d) {
                    var c = a.a.c(d()) || {};
                    a.a.w(c, function(c, d) {
                        d = a.a.c(d);
                        var e = !1 === d || null === d || d === q;
                        e && b.removeAttribute(c);
                        8 >= a.a.ca && c in K ? (c = K[c], e ? b.removeAttribute(c) : b[c] = d) : e || b.setAttribute(c, d.toString());
                        "name" === c && a.a.gb(b, e ? "" : d.toString())
                    })
                }};
            a.d.checked = {init: function(b, d, c) {
                    a.a.o(b, "click", function() {
                        var f;
                        if ("checkbox" == b.type)
                            f = b.checked;
                        else if ("radio" == b.type && b.checked)
                            f = b.value;
                        else
                            return;
                        var g = d(), e = a.a.c(g);
                        "checkbox" == b.type && e instanceof Array ? a.a.ja(g, b.value, b.checked) : a.g.ha(g, c, "checked", f, !0)
                    });
                    "radio" != b.type || b.name || a.d.uniqueName.init(b, F(!0))
                },update: function(b, d) {
                    var c = a.a.c(d());
                    "checkbox" == b.type ? b.checked = c instanceof Array ? 0 <= a.a.k(c, b.value) : c : "radio" == b.type && (b.checked = b.value == c)
                }};
            a.d.css = {update: function(b, d) {
                    var c = a.a.c(d());
                    "object" == typeof c ? a.a.w(c, function(c, d) {
                        d = a.a.c(d);
                        a.a.ga(b, c, d)
                    }) : (c = String(c || ""), a.a.ga(b, b.__ko__cssValue, !1), b.__ko__cssValue = c, a.a.ga(b, c, !0))
                }};
            a.d.enable = {update: function(b, d) {
                    var c = a.a.c(d());
                    c && b.disabled ? b.removeAttribute("disabled") : c || b.disabled || (b.disabled = !0)
                }};
            a.d.disable = {update: function(b, d) {
                    a.d.enable.update(b, function() {
                        return !a.a.c(d())
                    })
                }};
            a.d.event = {init: function(b, d, c, f) {
                    var g = d() || {};
                    a.a.w(g, function(e) {
                        "string" == typeof e && a.a.o(b, e, function(b) {
                            var g, k = d()[e];
                            if (k) {
                                var l = c();
                                try {
                                    var n = a.a.N(arguments);
                                    n.unshift(f);
                                    g = k.apply(f, n)
                                }finally {
                                    !0 !== g && (b.preventDefault ? b.preventDefault() : b.returnValue = !1)
                                }
                                !1 === l[e + "Bubble"] && (b.cancelBubble = !0, b.stopPropagation && b.stopPropagation())
                            }
                        })
                    })
                }};
            a.d.foreach = {Ya: function(b) {
                    return function() {
                        var d = b(), c = a.a.ya(d);
                        if (!c || "number" == typeof c.length)
                            return {foreach: d,templateEngine: a.D.sa};
                        a.a.c(d);
                        return {foreach: c.data,as: c.as,includeDestroyed: c.includeDestroyed,afterAdd: c.afterAdd,beforeRemove: c.beforeRemove,afterRender: c.afterRender,beforeMove: c.beforeMove,afterMove: c.afterMove,templateEngine: a.D.sa}
                    }
                },init: function(b, d) {
                    return a.d.template.init(b, a.d.foreach.Ya(d))
                },update: function(b, d, c, f, g) {
                    return a.d.template.update(b, a.d.foreach.Ya(d), c, f, g)
                }};
            a.g.S.foreach = !1;
            a.e.L.foreach = !0;
            a.d.hasfocus = {init: function(b, d, c) {
                    function f(e) {
                        b.__ko_hasfocusUpdating = !0;
                        var f = b.ownerDocument;
                        if ("activeElement" in f) {
                            var g;
                            try {
                                g = f.activeElement
                            } catch (l) {
                                g = f.body
                            }
                            e = g === b
                        }
                        f = d();
                        a.g.ha(f, c, "hasfocus", e, !0);
                        b.__ko_hasfocusLastValue = e;
                        b.__ko_hasfocusUpdating = !1
                    }
                    var g = f.bind(null, !0), e = f.bind(null, !1);
                    a.a.o(b, "focus", g);
                    a.a.o(b, "focusin", g);
                    a.a.o(b, "blur", e);
                    a.a.o(b, "focusout", e)
                },update: function(b, d) {
                    var c = !!a.a.c(d());
                    b.__ko_hasfocusUpdating || b.__ko_hasfocusLastValue === c || (c ? b.focus() : b.blur(), a.q.I(a.a.Ga, null, [b, c ? "focusin" : "focusout"]))
                }};
            a.d.hasFocus = a.d.hasfocus;
            a.d.html = {init: function() {
                    return {controlsDescendantBindings: !0}
                },update: function(b, d) {
                    a.a.fa(b, d())
                }};
            var I = "__ko_withIfBindingData";
            G("if");
            G("ifnot", !1, !0);
            G("with", !0, !1, function(a, d) {
                return a.createChildContext(d)
            });
            a.d.options = {init: function(b) {
                    if ("select" !== a.a.u(b))
                        throw Error("options binding applies only to SELECT elements");
                    for (; 0 < b.length; )
                        b.remove(0);
                    return {controlsDescendantBindings: !0}
                },update: function(b, d, c) {
                    function f(a, b, c) {
                        var e = typeof b;
                        return "function" == e ? b(a) : "string" == e ? a[b] : c
                    }
                    function g(b, c) {
                        if (p) {
                            var e = 0 <= a.a.k(p, a.h.n(c[0]));
                            a.a.hb(c[0], e)
                        }
                    }
                    var e = 0 == b.length, m = !e && b.multiple ? b.scrollTop : null;
                    d = a.a.c(d());
                    var h = c(), k = h.optionsIncludeDestroyed, l = {}, n, p;
                    b.multiple ? p = a.a.Z(b.selectedOptions || a.a.Y(b.childNodes, function(b) {
                        return b.tagName && "option" === a.a.u(b) && b.selected
                    }), function(b) {
                        return a.h.n(b)
                    }) : 0 <= b.selectedIndex && (p = [a.h.n(b.options[b.selectedIndex])]);
                    if (d) {
                        "undefined" == typeof d.length && (d = [d]);
                        var r = a.a.Y(d, function(b) {
                            return k || b === q || null === b || !a.a.c(b._destroy)
                        });
                        "optionsCaption" in h && (n = a.a.c(h.optionsCaption), null !== n && n !== q && r.unshift(l))
                    } else
                        d = [];
                    c = g;
                    h.optionsAfterRender && (c = function(b, c) {
                        g(0, c);
                        a.q.I(h.optionsAfterRender, null, [c[0], b !== l ? b : q])
                    });
                    a.a.Aa(b, r, function(b, c, e) {
                        e.length && (p = e[0].selected && [a.h.n(e[0])]);
                        c = s.createElement("option");
                        b === l ? (a.a.fa(c, n), a.h.W(c, q)) : (e = f(b, h.optionsValue, b), a.h.W(c, a.a.c(e)), b = f(b, h.optionsText, e), a.a.ib(c, b));
                        return [c]
                    }, null, c);
                    p = null;
                    e && "value" in h && J(b, a.a.ya(h.value), !0);
                    a.a.zb(b);
                    m && 20 < Math.abs(m - b.scrollTop) && (b.scrollTop = m)
                }};
            a.d.options.wa = "__ko.optionValueDomData__";
            a.d.selectedOptions = {init: function(b, d, c) {
                    a.a.o(b, "change", function() {
                        var f = d(), g = [];
                        a.a.p(b.getElementsByTagName("option"), function(b) {
                            b.selected && g.push(a.h.n(b))
                        });
                        a.g.ha(f, c, "selectedOptions", g)
                    })
                },update: function(b, d) {
                    if ("select" != a.a.u(b))
                        throw Error("values binding applies only to SELECT elements");
                    var c = a.a.c(d());
                    c && "number" == typeof c.length && a.a.p(b.getElementsByTagName("option"), function(b) {
                        var d = 0 <= a.a.k(c, a.h.n(b));
                        a.a.hb(b, d)
                    })
                }};
            a.d.style = {update: function(b, d) {
                    var c = a.a.c(d() || {});
                    a.a.w(c, function(c, d) {
                        d = a.a.c(d);
                        b.style[c] = d || ""
                    })
                }};
            a.d.submit = {init: function(b, d, c, f) {
                    if ("function" != typeof d())
                        throw Error("The value for a submit binding must be a function");
                    a.a.o(b, "submit", function(a) {
                        var c, m = d();
                        try {
                            c = m.call(f, b)
                        }finally {
                            !0 !== c && (a.preventDefault ? a.preventDefault() : a.returnValue = !1)
                        }
                    })
                }};
            a.d.text = {update: function(b, d) {
                    a.a.ib(b, d())
                }};
            a.e.L.text = !0;
            a.d.uniqueName = {init: function(b, d) {
                    if (d()) {
                        var c = "ko_unique_" + ++a.d.uniqueName.tb;
                        a.a.gb(b, c)
                    }
                }};
            a.d.uniqueName.tb = 0;
            a.d.value = {init: function(b, d, c) {
                    function f() {
                        m = !1;
                        var e = d(), f = a.h.n(b);
                        a.g.ha(e, c, "value", f)
                    }
                    var g = ["change"], e = c().valueUpdate, m = !1;
                    e && ("string" == typeof e && (e = [e]), a.a.R(g, e), g = a.a.Ma(g));
                    !a.a.ca || ("input" != b.tagName.toLowerCase() || "text" != b.type || "off" == b.autocomplete || b.form && "off" == b.form.autocomplete) || -1 != a.a.k(g, "propertychange") || (a.a.o(b, "propertychange", function() {
                        m = !0
                    }), a.a.o(b, "blur", function() {
                        m && f()
                    }));
                    a.a.p(g, function(c) {
                        var e = f;
                        a.a.Tb(c, "after") && (e = function() {
                            setTimeout(f, 0)
                        }, c = c.substring(5));
                        a.a.o(b, c, e)
                    })
                },update: function(b, d) {
                    var c = "select" === a.a.u(b), f = a.a.c(d()), g = a.h.n(b);
                    f !== g && (g = function() {
                        a.h.W(b, f)
                    }, g(), c && setTimeout(g, 0));
                    c && 0 < b.length && J(b, f, !1)
                }};
            a.d.visible = {update: function(b, d) {
                    var c = a.a.c(d()), f = "none" != b.style.display;
                    c && !f ? b.style.display = "" : !c && f && (b.style.display = "none")
                }};
            (function(b) {
                a.d[b] = {init: function(d, c, f, g) {
                        return a.d.event.init.call(this, d, function() {
                            var a = {};
                            a[b] = c();
                            return a
                        }, f, g)
                    }}
            })("click");
            a.v = function() {
            };
            a.v.prototype.renderTemplateSource = function() {
                throw Error("Override renderTemplateSource");
            };
            a.v.prototype.createJavaScriptEvaluatorBlock = function() {
                throw Error("Override createJavaScriptEvaluatorBlock");
            };
            a.v.prototype.makeTemplateSource = function(b, d) {
                if ("string" == typeof b) {
                    d = d || s;
                    var c = d.getElementById(b);
                    if (!c)
                        throw Error("Cannot find template with ID " + b);
                    return new a.l.i(c)
                }
                if (1 == b.nodeType || 8 == b.nodeType)
                    return new a.l.Q(b);
                throw Error("Unknown template type: " + b);
            };
            a.v.prototype.renderTemplate = function(a, d, c, f) {
                a = this.makeTemplateSource(a, f);
                return this.renderTemplateSource(a, d, c)
            };
            a.v.prototype.isTemplateRewritten = function(a, d) {
                return !1 === this.allowTemplateRewriting ? !0 : this.makeTemplateSource(a, d).data("isRewritten")
            };
            a.v.prototype.rewriteTemplate = function(a, d, c) {
                a = this.makeTemplateSource(a, c);
                d = d(a.text());
                a.text(d);
                a.data("isRewritten", !0)
            };
            a.b("templateEngine", a.v);
            a.Ea = function() {
                function b(b, c, e, d) {
                    b = a.g.da(b);
                    for (var h = a.g.S, k = 0; k < b.length; k++) {
                        var l = b[k].key;
                        if (h.hasOwnProperty(l)) {
                            var n = h[l];
                            if ("function" === typeof n) {
                                if (l = n(b[k].value))
                                    throw Error(l);
                            } else if (!n)
                                throw Error("This template engine does not support the '" + l + "' binding within its templates");
                        }
                    }
                    e = "ko.__tr_ambtns(function($context,$element){return(function(){return{ " + a.g.ea(b) + " } })()},'" + e.toLowerCase() + "')";
                    return d.createJavaScriptEvaluatorBlock(e) + c
                }
                var d = /(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi, c = /\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;
                return {Ab: function(b, c, e) {
                        c.isTemplateRewritten(b, e) || c.rewriteTemplate(b, function(b) {
                            return a.Ea.Lb(b, c)
                        }, e)
                    },Lb: function(a, g) {
                        return a.replace(d, function(a, c, d, f, l) {
                            return b(l, c, d, g)
                        }).replace(c, function(a, c) {
                            return b(c, "\x3c!-- ko --\x3e", "#comment", g)
                        })
                    },qb: function(b, c) {
                        return a.s.va(function(e, d) {
                            var h = e.nextSibling;
                            h && h.nodeName.toLowerCase() === c && a.Ka(h, b, d)
                        })
                    }}
            }();
            a.b("__tr_ambtns", a.Ea.qb);
            (function() {
                a.l = {};
                a.l.i = function(a) {
                    this.i = a
                };
                a.l.i.prototype.text = function() {
                    var b = a.a.u(this.i), b = "script" === b ? "text" : "textarea" === b ? "value" : "innerHTML";
                    if (0 == arguments.length)
                        return this.i[b];
                    var d = arguments[0];
                    "innerHTML" === b ? a.a.fa(this.i, d) : this.i[b] = d
                };
                a.l.i.prototype.data = function(b) {
                    if (1 === arguments.length)
                        return a.a.f.get(this.i, "templateSourceData_" + b);
                    a.a.f.set(this.i, "templateSourceData_" + b, arguments[1])
                };
                a.l.Q = function(a) {
                    this.i = a
                };
                a.l.Q.prototype = new a.l.i;
                a.l.Q.prototype.text = function() {
                    if (0 == arguments.length) {
                        var b = a.a.f.get(this.i, "__ko_anon_template__") || {};
                        b.Fa === q && b.ma && (b.Fa = b.ma.innerHTML);
                        return b.Fa
                    }
                    a.a.f.set(this.i, "__ko_anon_template__", {Fa: arguments[0]})
                };
                a.l.i.prototype.nodes = function() {
                    if (0 == arguments.length)
                        return (a.a.f.get(this.i, "__ko_anon_template__") || {}).ma;
                    a.a.f.set(this.i, "__ko_anon_template__", {ma: arguments[0]})
                };
                a.b("templateSources", a.l);
                a.b("templateSources.domElement", a.l.i);
                a.b("templateSources.anonymousTemplate", a.l.Q)
            })();
            (function() {
                function b(b, c, d) {
                    var f;
                    for (c = a.e.nextSibling(c); b && (f = b) !== c; )
                        b = a.e.nextSibling(f), 1 !== f.nodeType && 8 !== f.nodeType || d(f)
                }
                function d(c, d) {
                    if (c.length) {
                        var f = c[0], g = c[c.length - 1];
                        b(f, g, function(b) {
                            a.Ia(d, b)
                        });
                        b(f, g, function(b) {
                            a.s.nb(b, [d])
                        })
                    }
                }
                function c(a) {
                    return a.nodeType ? a : 0 < a.length ? a[0] : null
                }
                function f(b, f, h, k, l) {
                    l = l || {};
                    var n = b && c(b), n = n && n.ownerDocument, p = l.templateEngine || g;
                    a.Ea.Ab(h, p, n);
                    h = p.renderTemplate(h, k, l, n);
                    if ("number" != typeof h.length || 0 < h.length && "number" != typeof h[0].nodeType)
                        throw Error("Template engine must return an array of DOM nodes");
                    n = !1;
                    switch (f) {
                        case "replaceChildren":
                            a.e.P(b, h);
                            n = !0;
                            break;
                        case "replaceNode":
                            a.a.eb(b, h);
                            n = !0;
                            break;
                        case "ignoreTargetNode":
                            break;
                        default:
                            throw Error("Unknown renderMode: " + f);
                    }
                    n && (d(h, k), l.afterRender && a.q.I(l.afterRender, null, [h, k.$data]));
                    return h
                }
                var g;
                a.Ba = function(b) {
                    if (b != q && !(b instanceof a.v))
                        throw Error("templateEngine must inherit from ko.templateEngine");
                    g = b
                };
                a.za = function(b, d, h, k, l) {
                    h = h || {};
                    if ((h.templateEngine || g) == q)
                        throw Error("Set a template engine before calling renderTemplate");
                    l = l || "replaceChildren";
                    if (k) {
                        var n = c(k);
                        return a.j(function() {
                            var g = d && d instanceof a.A ? d : new a.A(a.a.c(d)), r = "function" == typeof b ? b(g.$data, g) : b, g = f(k, l, r, g, h);
                            "replaceNode" == l && (k = g, n = c(k))
                        }, null, {Qa: function() {
                                return !n || !a.a.aa(n)
                            },$: n && "replaceNode" == l ? n.parentNode : n})
                    }
                    return a.s.va(function(c) {
                        a.za(b, d, h, c, "replaceNode")
                    })
                };
                a.Rb = function(b, c, g, k, l) {
                    function n(a, b) {
                        d(b, r);
                        g.afterRender && g.afterRender(b, a)
                    }
                    function p(c, d) {
                        r = l.createChildContext(a.a.c(c), g.as);
                        r.$index = d;
                        var k = "function" == typeof b ? b(c, r) : b;
                        return f(null, "ignoreTargetNode", k, r, g)
                    }
                    var r;
                    return a.j(function() {
                        var b = a.a.c(c) || [];
                        "undefined" == typeof b.length && (b = [b]);
                        b = a.a.Y(b, function(b) {
                            return g.includeDestroyed || b === q || null === b || !a.a.c(b._destroy)
                        });
                        a.q.I(a.a.Aa, null, [k, b, p, g, n])
                    }, null, {$: k})
                };
                a.d.template = {init: function(b, c) {
                        var d = a.a.c(c());
                        "string" == typeof d || (d.name || 1 != b.nodeType && 8 != b.nodeType) || (d = 1 == b.nodeType ? b.childNodes : a.e.childNodes(b), d = a.a.Mb(d), (new a.l.Q(b)).nodes(d));
                        return {controlsDescendantBindings: !0}
                    },update: function(b, c, d, f, g) {
                        c = a.a.c(c());
                        d = {};
                        f = !0;
                        var n, p = null;
                        "string" != typeof c && (d = c, c = a.a.c(d.name), "if" in d && (f = a.a.c(d["if"])), f && "ifnot" in d && (f = !a.a.c(d.ifnot)), n = a.a.c(d.data));
                        "foreach" in d ? p = a.Rb(c || b, f && d.foreach || [], d, b, g) : f ? (g = "data" in d ? g.createChildContext(n, d.as) : g, p = a.za(c || b, g, d, b)) : a.e.ba(b);
                        g = p;
                        (n = a.a.f.get(b, "__ko__templateComputedDomDataKey__")) && "function" == typeof n.B && n.B();
                        a.a.f.set(b, "__ko__templateComputedDomDataKey__", g && g.ta() ? g : q)
                    }};
                a.g.S.template = function(b) {
                    b = a.g.da(b);
                    return 1 == b.length && b[0].unknown || a.g.Jb(b, "name") ? null : "This template engine does not support anonymous templates nested within its templates"
                };
                a.e.L.template = !0
            })();
            a.b("setTemplateEngine", a.Ba);
            a.b("renderTemplate", a.za);
            a.a.Pa = function() {
                function a(b, c, f, g, e) {
                    var m = Math.min, h = Math.max, k = [], l, n = b.length, p, r = c.length, q = r - n || 1, t = n + r + 1, s, v, w;
                    for (l = 0; l <= n; l++)
                        for (v = s, k.push(s = []), w = m(r, l + q), p = h(0, l - 1); p <= w; p++)
                            s[p] = p ? l ? b[l - 1] === c[p - 1] ? v[p - 1] : m(v[p] || t, s[p - 1] || t) + 1 : p + 1 : l + 1;
                    m = [];
                    h = [];
                    q = [];
                    l = n;
                    for (p = r; l || p; )
                        r = k[l][p] - 1, p && r === k[l][p - 1] ? h.push(m[m.length] = {status: f,value: c[--p],index: p}) : l && r === k[l - 1][p] ? q.push(m[m.length] = {status: g,value: b[--l],index: l}) : (m.push({status: "retained",value: c[--p]}), --l);
                    if (h.length && q.length) {
                        b = 10 * n;
                        var E;
                        for (c = f = 0; (e || c < b) && (E = h[f]); f++) {
                            for (g = 0; k = q[g]; g++)
                                if (E.value === k.value) {
                                    E.moved = k.index;
                                    k.moved = E.index;
                                    q.splice(g, 1);
                                    c = g = 0;
                                    break
                                }
                            c += g
                        }
                    }
                    return m.reverse()
                }
                return function(d, c, f) {
                    d = d || [];
                    c = c || [];
                    return d.length <= c.length ? a(d, c, "added", "deleted", f) : a(c, d, "deleted", "added", f)
                }
            }();
            a.b("utils.compareArrays", a.a.Pa);
            (function() {
                function b(b) {
                    for (; b.length && !a.a.aa(b[0]); )
                        b.splice(0, 1);
                    if (1 < b.length) {
                        for (var d = b[0], g = b[b.length - 1], e = [d]; d !== g; ) {
                            d = d.nextSibling;
                            if (!d)
                                return;
                            e.push(d)
                        }
                        Array.prototype.splice.apply(b, [0, b.length].concat(e))
                    }
                    return b
                }
                function d(c, d, g, e, m) {
                    var h = [];
                    c = a.j(function() {
                        var c = d(g, m, b(h)) || [];
                        0 < h.length && (a.a.eb(h, c), e && a.q.I(e, null, [g, c, m]));
                        h.splice(0, h.length);
                        a.a.R(h, c)
                    }, null, {$: c,Qa: function() {
                            return !a.a.pb(h)
                        }});
                    return {O: h,j: c.ta() ? c : q}
                }
                a.a.Aa = function(c, f, g, e, m) {
                    function h(a, c) {
                        u = n[c];
                        x !== c && (E[a] = u);
                        u.ra(x++);
                        b(u.O);
                        t.push(u);
                        w.push(u)
                    }
                    function k(b, c) {
                        if (b)
                            for (var d = 0, e = c.length; d < e; d++)
                                c[d] && a.a.p(c[d].O, function(a) {
                                    b(a, d, c[d].X)
                                })
                    }
                    f = f || [];
                    e = e || {};
                    var l = a.a.f.get(c, "setDomNodeChildrenFromArrayMapping_lastMappingResult") === q, n = a.a.f.get(c, "setDomNodeChildrenFromArrayMapping_lastMappingResult") || [], p = a.a.Z(n, function(a) {
                        return a.X
                    }), r = a.a.Pa(p, f, e.dontLimitMoves), t = [], s = 0, x = 0, v = [], w = [];
                    f = [];
                    for (var E = [], p = [], u, B = 0, y, A; y = r[B]; B++)
                        switch (A = y.moved, y.status) {
                            case "deleted":
                                A === q && (u = n[s], u.j && u.j.B(), v.push.apply(v, b(u.O)), e.beforeRemove && (f[B] = u, w.push(u)));
                                s++;
                                break;
                            case "retained":
                                h(B, s++);
                                break;
                            case "added":
                                A !== q ? h(B, A) : (u = {X: y.value,ra: a.m(x++)}, t.push(u), w.push(u), l || (p[B] = u))
                        }
                    k(e.beforeMove, E);
                    a.a.p(v, e.beforeRemove ? a.H : a.removeNode);
                    for (var B = 0, l = a.e.firstChild(c), C; u = w[B]; B++) {
                        u.O || a.a.extend(u, d(c, g, u.X, m, u.ra));
                        for (s = 0; r = u.O[s]; l = r.nextSibling, C = r, s++)
                            r !== l && a.e.Va(c, r, C);
                        !u.Fb && m && (m(u.X, u.O, u.ra), u.Fb = !0)
                    }
                    k(e.beforeRemove, f);
                    k(e.afterMove, E);
                    k(e.afterAdd, p);
                    a.a.f.set(c, "setDomNodeChildrenFromArrayMapping_lastMappingResult", t)
                }
            })();
            a.b("utils.setDomNodeChildrenFromArrayMapping", a.a.Aa);
            a.D = function() {
                this.allowTemplateRewriting = !1
            };
            a.D.prototype = new a.v;
            a.D.prototype.renderTemplateSource = function(b) {
                var d = (9 > a.a.ca ? 0 : b.nodes) ? b.nodes() : null;
                if (d)
                    return a.a.N(d.cloneNode(!0).childNodes);
                b = b.text();
                return a.a.xa(b)
            };
            a.D.sa = new a.D;
            a.Ba(a.D.sa);
            a.b("nativeTemplateEngine", a.D);
            (function() {
                a.ua = function() {
                    var a = this.Ib = function() {
                        if ("undefined" == typeof t || !t.tmpl)
                            return 0;
                        try {
                            if (0 <= t.tmpl.tag.tmpl.open.toString().indexOf("__"))
                                return 2
                        } catch (a) {
                        }
                        return 1
                    }();
                    this.renderTemplateSource = function(b, f, g) {
                        g = g || {};
                        if (2 > a)
                            throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");
                        var e = b.data("precompiled");
                        e || (e = b.text() || "", e = t.template(null, "{{ko_with $item.koBindingContext}}" + e + "{{/ko_with}}"), b.data("precompiled", e));
                        b = [f.$data];
                        f = t.extend({koBindingContext: f}, g.templateOptions);
                        f = t.tmpl(e, b, f);
                        f.appendTo(s.createElement("div"));
                        t.fragments = {};
                        return f
                    };
                    this.createJavaScriptEvaluatorBlock = function(a) {
                        return "{{ko_code ((function() { return " + 
                        a + " })()) }}"
                    };
                    this.addTemplate = function(a, b) {
                        s.write("<script type='text/html' id='" + a + "'>" + b + "\x3c/script>")
                    };
                    0 < a && (t.tmpl.tag.ko_code = {open: "__.push($1 || '');"}, t.tmpl.tag.ko_with = {open: "with($1) {",close: "} "})
                };
                a.ua.prototype = new a.v;
                var b = new a.ua;
                0 < b.Ib && a.Ba(b);
                a.b("jqueryTmplTemplateEngine", a.ua)
            })()
        })
    })();
})();
(function(root, factory) {
    'use strict';
    if (typeof exports === 'object') {
        factory(exports, require('jquery'), require('knockout'), require('jquery-ui'));
    } else if (typeof define === 'function' && define.amd) {
        define(['exports', 'jquery', 'knockout', 'jquery-ui'], factory);
    } else {
        factory((root.kojqui = {}), root.jQuery, root.ko);
    }
}(this, function(exports, $, ko) {
    'use strict';
    var versions, bindingFactory;
    versions = (function() {
        var getMajorMinorVersion, jQuery, jQueryUI, knockout;
        getMajorMinorVersion = function(version) {
            var match = (version || '').match(/^(\d\.\d+)\.\d+$/);
            return match ? match[1] : null;
        };
        jQuery = $ && $.fn ? getMajorMinorVersion($.fn.jquery) : null;
        jQueryUI = $ && $.ui ? getMajorMinorVersion($.ui.version) : null;
        knockout = ko ? getMajorMinorVersion(ko.version) : null;
        return {jQuery: jQuery,jQueryUI: jQueryUI,knockout: knockout};
    }());
    (function() {
        if (!versions.jQuery) {
            throw new Error('jQuery must be loaded before knockout-jquery.');
        }
        if (!versions.jQueryUI) {
            throw new Error('jQuery UI must be loaded before knockout-jquery.');
        }
        if (!versions.knockout) {
            throw new Error('knockout must be loaded before knockout-jquery.');
        }
        if (versions.jQueryUI !== '1.8' && versions.jQueryUI !== '1.9' && versions.jQueryUI !== '1.10') {
            throw new Error('This version of the jQuery UI library is not supported.');
        }
    }());
    bindingFactory = (function() {
        var filterProperties, unwrapProperties, setOption, subscribeToObservableOptions, subscribeToRefreshOn, create;
        filterProperties = function(source, properties) {
            var result = {};
            ko.utils.arrayForEach(properties, function(property) {
                if (source[property] !== undefined) {
                    result[property] = source[property];
                }
            });
            return result;
        };
        unwrapProperties = function(obj) {
            var result, prop;
            result = {};
            for (prop in obj) {
                if (obj.hasOwnProperty(prop)) {
                    if (ko.isObservable(obj[prop])) {
                        result[prop] = obj[prop].peek();
                    } else {
                        result[prop] = obj[prop];
                    }
                }
            }
            return result;
        };
        setOption = function(widgetName, element, optionName, observableOrValue) {
            $(element)[widgetName]('option', optionName, ko.utils.unwrapObservable(observableOrValue));
        };
        subscribeToObservableOptions = function(widgetName, element, options) {
            var prop;
            for (prop in options) {
                if (options.hasOwnProperty(prop) && ko.isObservable(options[prop])) {
                    ko.computed({read: setOption.bind(this, widgetName, element, prop, options[prop]),disposeWhenNodeIsRemoved: element});
                }
            }
        };
        subscribeToRefreshOn = function(widgetName, element, bindingValue) {
            if (ko.isObservable(bindingValue.refreshOn)) {
                ko.computed({read: function() {
                        bindingValue.refreshOn();
                        $(element)[widgetName]('refresh');
                    },disposeWhenNodeIsRemoved: element});
            }
        };
        create = function(options) {
            var widgetName, init;
            widgetName = options.name;
            if ($.fn[widgetName]) {
                init = function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {
                    var flag, value, widgetOptions, widgetEvents, unwrappedOptions, unwrappedEvents;
                    flag = 'ko_' + widgetName + '_initialized';
                    if (!element[flag]) {
                        value = valueAccessor();
                        widgetOptions = filterProperties(value, options.options);
                        widgetEvents = filterProperties(value, options.events);
                        if (options.preInit) {
                            options.preInit.apply(this, arguments);
                        }
                        ko.applyBindingsToDescendants(bindingContext, element);
                        unwrappedEvents = unwrapProperties(widgetEvents);
                        $.each(unwrappedEvents, function(key, value) {
                            unwrappedEvents[key] = value.bind(viewModel);
                        });
                        unwrappedOptions = unwrapProperties(widgetOptions);
                        $(element)[widgetName](ko.utils.extend(unwrappedOptions, unwrappedEvents));
                        subscribeToObservableOptions(widgetName, element, widgetOptions);
                        if (options.hasRefresh) {
                            subscribeToRefreshOn(widgetName, element, value);
                        }
                        if (ko.isWriteableObservable(value.widget)) {
                            value.widget($(element)[widgetName]('widget'));
                        }
                        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {
                            $(element)[widgetName]('destroy');
                            element[flag] = null;
                        });
                        if (options.postInit) {
                            options.postInit.apply(this, arguments);
                        }
                        element[flag] = true;
                    }
                    return {controlsDescendantBindings: true};
                };
                ko.bindingHandlers[widgetName] = {init: init};
            }
        };
        return {create: create};
    }());
    (function() {
        var eventToWatch, postInit, options, events, hasRefresh;
        postInit = function(element, valueAccessor) {
            var value = valueAccessor();
            if (ko.isWriteableObservable(value.active)) {
                $(element).on(eventToWatch, function() {
                    value.active($(element).accordion('option', 'active'));
                });
            }
            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {
                $(element).off('.ko');
            });
        };
        switch (versions.jQueryUI) {
            case '1.8':
                options = ['active', 'animated', 'autoHeight', 'clearStyle', 'collapsible', 'disabled', 'event', 'fillSpace', 'header', 'icons', 'navigation', 'navigationFilter'];
                events = ['change', 'changestart', 'create'];
                hasRefresh = false;
                eventToWatch = 'accordionchange.ko';
                break;
            case '1.9':
            case '1.10':
                options = ['active', 'animate', 'collapsible', 'disabled', 'event', 'header', 'heightStyle', 'icons'];
                events = ['activate', 'beforeActivate', 'create'];
                hasRefresh = true;
                eventToWatch = 'accordionactivate.ko';
                break;
        }
        bindingFactory.create({name: 'accordion',options: options,events: events,postInit: postInit,hasRefresh: hasRefresh});
    }());
    (function() {
        var events;
        switch (versions.jQueryUI) {
            case '1.8':
                events = ['change', 'close', 'create', 'focus', 'open', 'search', 'select'];
                break;
            case '1.9':
            case '1.10':
                events = ['change', 'close', 'create', 'focus', 'open', 'response', 'search', 'select'];
                break;
        }
        bindingFactory.create({name: 'autocomplete',options: ['appendTo', 'autoFocus', 'delay', 'disabled', 'minLength', 'position', 'source'],events: events});
    }());
    (function() {
        bindingFactory.create({name: 'button',options: ['disabled', 'icons', 'label', 'text'],events: ['create'],hasRefresh: true});
    }());
    (function() {
        bindingFactory.create({name: 'buttonset',options: ['items', 'disabled'],events: ['create'],hasRefresh: true});
    }());
    (function() {
        bindingFactory.create({name: 'datepicker',options: ['altField', 'altFormat', 'appendText', 'autoSize', 'buttonImage', 'buttonImageOnly', 'buttonText', 'calculateWeek', 'changeMonth', 'changeYear', 'closeText', 'constrainInput', 'currentText', 'dateFormat', 'dayNames', 'dayNamesMin', 'dayNamesShort', 'defaultDate', 'duration', 'firstDay', 'gotoCurrent', 'hideIfNoPrevNext', 'isRTL', 'maxDate', 'minDate', 'monthNames', 'monthNamesShort', 'navigationAsDateFormat', 'nextText', 'numberOfMonths', 'prevText', 'selectOtherMonths', 'shortYearCutoff', 'showAnim', 'showButtonPanel', 'showCurrentAtPos', 'showMonthAfterYear', 'showOn', 'showOptions', 'showOtherMonths', 'showWeek', 'stepMonths', 'weekHeader', 'yearRange', 'yearSuffix', 'beforeShow', 'beforeShowDay', 'onChangeMonthYear', 'onClose', 'onSelect'],events: []});
    }());
    (function() {
        var preInit, postInit, options, events;
        preInit = function(element) {
            var marker;
            marker = document.createElement('DIV');
            marker.style.display = 'none';
            element.parentNode.insertBefore(marker, element);
            ko.utils.domNodeDisposal.addDisposeCallback(marker, function() {
                ko.removeNode(element);
            });
        };
        postInit = function(element, valueAccessor) {
            var value = valueAccessor();
            if (value.isOpen) {
                ko.computed({read: function() {
                        if (ko.utils.unwrapObservable(value.isOpen)) {
                            $(element).dialog('open');
                        } else {
                            $(element).dialog('close');
                        }
                    },disposeWhenNodeIsRemoved: element});
            }
            if (ko.isWriteableObservable(value.isOpen)) {
                $(element).on('dialogopen.ko', function() {
                    value.isOpen(true);
                });
                $(element).on('dialogclose.ko', function() {
                    value.isOpen(false);
                });
            }
            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {
                $(element).off('.ko');
            });
        };
        switch (versions.jQueryUI) {
            case '1.8':
                options = ['autoOpen', 'buttons', 'closeOnEscape', 'closeText', 'dialogClass', 'disabled', 'draggable', 'height', 'maxHeight', 'maxWidth', 'minHeight', 'minWidth', 'modal', 'position', 'resizable', 'show', 'stack', 'title', 'width', 'zIndex'];
                events = ['beforeClose', 'create', 'open', 'focus', 'dragStart', 'drag', 'dragStop', 'resizeStart', 'resize', 'resizeStop', 'close'];
                break;
            case '1.9':
                options = ['autoOpen', 'buttons', 'closeOnEscape', 'closeText', 'dialogClass', 'draggable', 'height', 'hide', 'maxHeight', 'maxWidth', 'minHeight', 'minWidth', 'modal', 'position', 'resizable', 'show', 'stack', 'title', 'width', 'zIndex'];
                events = ['beforeClose', 'create', 'open', 'focus', 'dragStart', 'drag', 'dragStop', 'resizeStart', 'resize', 'resizeStop', 'close'];
                break;
            case '1.10':
                options = ['appendTo', 'autoOpen', 'buttons', 'closeOnEscape', 'closeText', 'dialogClass', 'draggable', 'height', 'hide', 'maxHeight', 'maxWidth', 'minHeight', 'minWidth', 'modal', 'position', 'resizable', 'show', 'title', 'width'];
                events = ['beforeClose', 'create', 'open', 'focus', 'dragStart', 'drag', 'dragStop', 'resizeStart', 'resize', 'resizeStop', 'close'];
                break;
        }
        bindingFactory.create({name: 'dialog',options: options,events: events,preInit: preInit,postInit: postInit});
    }());
    (function() {
        bindingFactory.create({name: 'menu',options: ['disabled', 'icons', 'menus', 'position', 'role'],events: ['blur', 'create', 'focus', 'select'],hasRefresh: true});
    }());
    (function() {
        var options;
        switch (versions.jQueryUI) {
            case '1.8':
                options = ['disabled', 'value'];
                break;
            case '1.9':
            case '1.10':
                options = ['disabled', 'max', 'value'];
                break;
        }
        bindingFactory.create({name: 'progressbar',options: options,events: ['change', 'create', 'complete']});
    }());
    (function() {
        var postInit;
        postInit = function(element, valueAccessor) {
            var value = valueAccessor();
            if (ko.isWriteableObservable(value.value)) {
                $(element).on('slidechange.ko', function(ev, ui) {
                    var $handles = $(element).find('.ui-slider-handle');
                    if ($handles[0] === ui.handle) {
                        value.value(ui.value);
                    }
                });
            }
            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {
                $(element).off('.ko');
            });
        };
        bindingFactory.create({name: 'slider',options: ['animate', 'disabled', 'max', 'min', 'orientation', 'range', 'step', 'value', 'values'],events: ['create', 'start', 'slide', 'change', 'stop'],postInit: postInit});
    }());
    (function() {
        var postInit;
        postInit = function(element, valueAccessor) {
            var value = valueAccessor();
            if (value.value) {
                ko.computed({read: function() {
                        $(element).spinner('value', ko.utils.unwrapObservable(value.value));
                    },disposeWhenNodeIsRemoved: element});
            }
            if (ko.isWriteableObservable(value.value)) {
                $(element).on('spinchange.ko', function() {
                    value.value($(element).spinner('value'));
                });
            }
            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {
                $(element).off('.ko');
            });
        };
        bindingFactory.create({name: 'spinner',options: ['culture', 'disabled', 'icons', 'incremental', 'max', 'min', 'numberFormat', 'page', 'step'],events: ['create', 'start', 'spin', 'stop', 'change'],postInit: postInit});
    }());
    (function() {
        var postInitHandler18, postInitHandler19, options, events, hasRefresh, postInit;
        postInitHandler18 = function(element, valueAccessor) {
            var value = valueAccessor();
            if (ko.isWriteableObservable(value.active)) {
                $(element).on('tabsshow.ko', function(ev, ui) {
                    value.selected(ui.index);
                });
            }
            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {
                $(element).off('.ko');
            });
        };
        postInitHandler19 = function(element, valueAccessor) {
            var value = valueAccessor();
            if (ko.isWriteableObservable(value.active)) {
                $(element).on('tabsactivate.ko', function(ev, ui) {
                    value.active(ui.newTab.index());
                });
            }
            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {
                $(element).off('.ko');
            });
        };
        switch (versions.jQueryUI) {
            case '1.8':
                options = ['ajaxOptions', 'cache', 'collapsible', 'cookie', 'disable', 'disabled', 'event', 'fx', 'idPrefix', 'panelTemplate', 'selected', 'spinner', 'tabTemplate'];
                events = ['add', 'create', 'disable', 'enable', 'load', 'remove', 'select', 'show'];
                postInit = postInitHandler18;
                hasRefresh = false;
                break;
            case '1.9':
            case '1.10':
                options = ['active', 'collapsible', 'disabled', 'event', 'heightStyle', 'hide', 'show'];
                events = ['activate', 'beforeActivate', 'beforeLoad', 'create', 'load'];
                postInit = postInitHandler19;
                hasRefresh = true;
                break;
        }
        bindingFactory.create({name: 'tabs',options: options,events: events,postInit: postInit,hasRefresh: hasRefresh});
    }());
    (function() {
        var postInit;
        postInit = function(element, valueAccessor) {
            var value = valueAccessor();
            if (value.isOpen) {
                ko.computed({read: function() {
                        if (ko.utils.unwrapObservable(value.isOpen)) {
                            $(element).tooltip('open');
                        } else {
                            $(element).tooltip('close');
                        }
                    },disposeWhenNodeIsRemoved: element});
            }
            if (ko.isWriteableObservable(value.isOpen)) {
                $(element).on('tooltipopen.ko', function() {
                    value.isOpen(true);
                });
                $(element).on('tooltipclose.ko', function() {
                    value.isOpen(false);
                });
            }
            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {
                $(element).off('.ko');
            });
        };
        bindingFactory.create({name: 'tooltip',options: ['content', 'disabled', 'hide', 'items', 'position', 'show', 'tooltipClass', 'track'],events: ['create', 'open', 'close'],postInit: postInit});
    }());
    ko.jqui = {bindingFactory: bindingFactory};
    exports.version = '0.4.0';
}));
(function(e) {
    "function" === typeof require && "object" === typeof exports && "object" === typeof module ? e(require("knockout"), exports) : "function" === typeof define && define.amd ? define(["knockout", "exports"], e) : e(ko, ko.mapping = {})
})(function(e, f) {
    function y(b, c) {
        var a, d;
        for (d in c)
            if (c.hasOwnProperty(d) && c[d])
                if (a = f.getType(b[d]), d && b[d] && "array" !== a && "string" !== a)
                    y(b[d], c[d]);
                else if ("array" === f.getType(b[d]) && "array" === f.getType(c[d])) {
                    a = b;
                    for (var e = d, l = b[d], n = c[d], t = {}, g = l.length - 1; 0 <= g; --g)
                        t[l[g]] = l[g];
                    for (g = n.length - 1; 0 <= g; --g)
                        t[n[g]] = n[g];
                    l = [];
                    n = void 0;
                    for (n in t)
                        l.push(t[n]);
                    a[e] = l
                } else
                    b[d] = c[d]
    }
    function E(b, c) {
        var a = {};
        y(a, b);
        y(a, c);
        return a
    }
    function z(b, c) {
        for (var a = E({}, b), e = L.length - 1; 0 <= e; e--) {
            var f = L[e];
            a[f] && (a[""] instanceof Object || (a[""] = {}), a[""][f] = a[f], delete a[f])
        }
        c && (a.ignore = h(c.ignore, a.ignore), a.include = h(c.include, a.include), a.copy = h(c.copy, a.copy), a.observe = h(c.observe, a.observe));
        a.ignore = h(a.ignore, j.ignore);
        a.include = h(a.include, j.include);
        a.copy = h(a.copy, j.copy);
        a.observe = h(a.observe, j.observe);
        a.mappedProperties = a.mappedProperties || {};
        a.copiedProperties = a.copiedProperties || {};
        return a
    }
    function h(b, c) {
        "array" !== f.getType(b) && (b = "undefined" === f.getType(b) ? [] : [b]);
        "array" !== f.getType(c) && (c = "undefined" === f.getType(c) ? [] : [c]);
        return e.utils.arrayGetDistinctValues(b.concat(c))
    }
    function F(b, c, a, d, k, l, n) {
        var t = "array" === f.getType(e.utils.unwrapObservable(c));
        l = l || "";
        if (f.isMapped(b)) {
            var g = e.utils.unwrapObservable(b)[p];
            a = E(g, a)
        }
        var j = n || k, h = function() {
            return a[d] && a[d].create instanceof 
            Function
        }, x = function(b) {
            var f = G, g = e.dependentObservable;
            e.dependentObservable = function(a, b, c) {
                c = c || {};
                a && "object" == typeof a && (c = a);
                var d = c.deferEvaluation, M = !1;
                c.deferEvaluation = !0;
                a = new H(a, b, c);
                if (!d) {
                    var g = a, d = e.dependentObservable;
                    e.dependentObservable = H;
                    a = e.isWriteableObservable(g);
                    e.dependentObservable = d;
                    d = H({read: function() {
                            M || (e.utils.arrayRemoveItem(f, g), M = !0);
                            return g.apply(g, arguments)
                        },write: a && function(a) {
                            return g(a)
                        },deferEvaluation: !0});
                    d.__DO = g;
                    a = d;
                    f.push(a)
                }
                return a
            };
            e.dependentObservable.fn = H.fn;
            e.computed = e.dependentObservable;
            b = e.utils.unwrapObservable(k) instanceof Array ? a[d].create({data: b || c,parent: j,skip: N}) : a[d].create({data: b || c,parent: j});
            e.dependentObservable = g;
            e.computed = e.dependentObservable;
            return b
        }, u = function() {
            return a[d] && a[d].update instanceof Function
        }, v = function(b, f) {
            var g = {data: f || c,parent: j,target: e.utils.unwrapObservable(b)};
            e.isWriteableObservable(b) && (g.observable = b);
            return a[d].update(g)
        };
        if (n = I.get(c))
            return n;
        d = d || "";
        if (t) {
            var t = [], s = !1, m = function(a) {
                return a
            };
            a[d] && a[d].key && (m = a[d].key, s = !0);
            e.isObservable(b) || (b = e.observableArray([]), b.mappedRemove = function(a) {
                var c = "function" == typeof a ? a : function(b) {
                    return b === m(a)
                };
                return b.remove(function(a) {
                    return c(m(a))
                })
            }, b.mappedRemoveAll = function(a) {
                var c = C(a, m);
                return b.remove(function(a) {
                    return -1 != e.utils.arrayIndexOf(c, m(a))
                })
            }, b.mappedDestroy = function(a) {
                var c = "function" == typeof a ? a : function(b) {
                    return b === m(a)
                };
                return b.destroy(function(a) {
                    return c(m(a))
                })
            }, b.mappedDestroyAll = function(a) {
                var c = C(a, m);
                return b.destroy(function(a) {
                    return -1 != e.utils.arrayIndexOf(c, m(a))
                })
            }, b.mappedIndexOf = function(a) {
                var c = C(b(), m);
                a = m(a);
                return e.utils.arrayIndexOf(c, a)
            }, b.mappedGet = function(a) {
                return b()[b.mappedIndexOf(a)]
            }, b.mappedCreate = function(a) {
                if (-1 !== b.mappedIndexOf(a))
                    throw Error("There already is an object with the key that you specified.");
                var c = h() ? x(a) : a;
                u() && (a = v(c, a), e.isWriteableObservable(c) ? c(a) : c = a);
                b.push(c);
                return c
            });
            n = C(e.utils.unwrapObservable(b), m).sort();
            g = C(c, m);
            s && g.sort();
            s = e.utils.compareArrays(n, g);
            n = {};
            var J, A = e.utils.unwrapObservable(c), y = {}, z = !0, g = 0;
            for (J = A.length; g < J; g++) {
                var r = m(A[g]);
                if (void 0 === r || r instanceof Object) {
                    z = !1;
                    break
                }
                y[r] = A[g]
            }
            var A = [], B = 0, g = 0;
            for (J = s.length; g < J; g++) {
                var r = s[g], q, w = l + "[" + g + "]";
                switch (r.status) {
                    case "added":
                        var D = z ? y[r.value] : K(e.utils.unwrapObservable(c), r.value, m);
                        q = F(void 0, D, a, d, b, w, k);
                        h() || (q = e.utils.unwrapObservable(q));
                        w = O(e.utils.unwrapObservable(c), D, n);
                        q === N ? B++ : A[w - B] = q;
                        n[w] = !0;
                        break;
                    case "retained":
                        D = z ? y[r.value] : K(e.utils.unwrapObservable(c), r.value, m);
                        q = K(b, r.value, m);
                        F(q, D, a, d, b, w, k);
                        w = O(e.utils.unwrapObservable(c), D, n);
                        A[w] = q;
                        n[w] = !0;
                        break;
                    case "deleted":
                        q = K(b, r.value, m)
                }
                t.push({event: r.status,item: q})
            }
            b(A);
            a[d] && a[d].arrayChanged && e.utils.arrayForEach(t, function(b) {
                a[d].arrayChanged(b.event, b.item)
            })
        } else if (P(c)) {
            b = e.utils.unwrapObservable(b);
            if (!b) {
                if (h())
                    return s = x(), u() && (s = v(s)), s;
                if (u())
                    return v(s);
                b = {}
            }
            u() && (b = v(b));
            I.save(c, b);
            if (u())
                return b;
            Q(c, function(d) {
                var f = l.length ? l + "." + d : d;
                if (-1 == e.utils.arrayIndexOf(a.ignore, f))
                    if (-1 != e.utils.arrayIndexOf(a.copy, f))
                        b[d] = c[d];
                    else if ("object" != typeof c[d] && "array" != typeof c[d] && 0 < a.observe.length && -1 == e.utils.arrayIndexOf(a.observe, f))
                        b[d] = c[d], a.copiedProperties[f] = !0;
                    else {
                        var g = I.get(c[d]), k = F(b[d], c[d], a, d, b, f, b), g = g || k;
                        if (0 < a.observe.length && -1 == e.utils.arrayIndexOf(a.observe, f))
                            b[d] = g(), a.copiedProperties[f] = !0;
                        else {
                            if (e.isWriteableObservable(b[d])) {
                                if (g = e.utils.unwrapObservable(g), b[d]() !== g)
                                    b[d](g)
                            } else
                                g = void 0 === b[d] ? g : e.utils.unwrapObservable(g), b[d] = g;
                            a.mappedProperties[f] = !0
                        }
                    }
            })
        } else
            switch (f.getType(c)) {
                case "function":
                    u() ? e.isWriteableObservable(c) ? (c(v(c)), b = c) : b = v(c) : b = c;
                    break;
                default:
                    if (e.isWriteableObservable(b))
                        return q = u() ? v(b) : e.utils.unwrapObservable(c), b(q), q;
                    h() || u();
                    b = h() ? x() : e.observable(e.utils.unwrapObservable(c));
                    u() && b(v(b))
            }
        return b
    }
    function O(b, c, a) {
        for (var d = 0, e = b.length; d < e; d++)
            if (!0 !== a[d] && b[d] === c)
                return d;
        return null
    }
    function R(b, c) {
        var a;
        c && (a = c(b));
        "undefined" === f.getType(a) && (a = b);
        return e.utils.unwrapObservable(a)
    }
    function K(b, c, a) {
        b = e.utils.unwrapObservable(b);
        for (var d = 0, f = b.length; d < f; d++) {
            var l = b[d];
            if (R(l, a) === c)
                return l
        }
        throw Error("When calling ko.update*, the key '" + c + "' was not found!");
    }
    function C(b, c) {
        return e.utils.arrayMap(e.utils.unwrapObservable(b), function(a) {
            return c ? R(a, c) : a
        })
    }
    function Q(b, c) {
        if ("array" === f.getType(b))
            for (var a = 0; a < b.length; a++)
                c(a);
        else
            for (a in b)
                c(a)
    }
    function P(b) {
        var c = f.getType(b);
        return ("object" === c || "array" === c) && null !== b
    }
    function T() {
        var b = [], c = [];
        this.save = function(a, d) {
            var f = e.utils.arrayIndexOf(b, a);
            0 <= f ? c[f] = d : (b.push(a), c.push(d))
        };
        this.get = function(a) {
            a = e.utils.arrayIndexOf(b, a);
            return 0 <= a ? c[a] : void 0
        }
    }
    function S() {
        var b = {}, c = function(a) {
            var c;
            try {
                c = a
            } catch (e) {
                c = "$$$"
            }
            a = b[c];
            void 0 === a && (a = new T, b[c] = a);
            return a
        };
        this.save = function(a, b) {
            c(a).save(a, b)
        };
        this.get = function(a) {
            return c(a).get(a)
        }
    }
    var p = "__ko_mapping__", H = e.dependentObservable, B = 0, G, I, L = ["create", "update", "key", "arrayChanged"], N = {}, x = {include: ["_destroy"],ignore: [],copy: [],observe: []}, j = x;
    f.isMapped = function(b) {
        return (b = e.utils.unwrapObservable(b)) && b[p]
    };
    f.fromJS = function(b) {
        if (0 == arguments.length)
            throw Error("When calling ko.fromJS, pass the object you want to convert.");
        try {
            B++ || (G = [], I = new S);
            var c, a;
            2 == arguments.length && (arguments[1][p] ? a = arguments[1] : c = arguments[1]);
            3 == arguments.length && (c = arguments[1], a = arguments[2]);
            a && (c = E(c, a[p]));
            c = z(c);
            var d = F(a, b, c);
            a && (d = a);
            if (!--B)
                for (; G.length; ) {
                    var e = G.pop();
                    e && (e(), e.__DO.throttleEvaluation = e.throttleEvaluation)
                }
            d[p] = E(d[p], c);
            return d
        } catch (f) {
            throw B = 0, f;
        }
    };
    f.fromJSON = function(b) {
        var c = e.utils.parseJson(b);
        arguments[0] = c;
        return f.fromJS.apply(this, arguments)
    };
    f.updateFromJS = function() {
        throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");
    };
    f.updateFromJSON = function() {
        throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");
    };
    f.toJS = function(b, c) {
        j || f.resetDefaultOptions();
        if (0 == arguments.length)
            throw Error("When calling ko.mapping.toJS, pass the object you want to convert.");
        if ("array" !== f.getType(j.ignore))
            throw Error("ko.mapping.defaultOptions().ignore should be an array.");
        if ("array" !== f.getType(j.include))
            throw Error("ko.mapping.defaultOptions().include should be an array.");
        if ("array" !== f.getType(j.copy))
            throw Error("ko.mapping.defaultOptions().copy should be an array.");
        c = z(c, b[p]);
        return f.visitModel(b, function(a) {
            return e.utils.unwrapObservable(a)
        }, c)
    };
    f.toJSON = function(b, c) {
        var a = f.toJS(b, c);
        return e.utils.stringifyJson(a)
    };
    f.defaultOptions = function() {
        if (0 < arguments.length)
            j = arguments[0];
        else
            return j
    };
    f.resetDefaultOptions = function() {
        j = {include: x.include.slice(0),ignore: x.ignore.slice(0),copy: x.copy.slice(0)}
    };
    f.getType = function(b) {
        if (b && "object" === typeof b) {
            if (b.constructor === Date)
                return "date";
            if (b.constructor === Array)
                return "array"
        }
        return typeof b
    };
    f.visitModel = function(b, c, a) {
        a = a || {};
        a.visitedObjects = a.visitedObjects || new S;
        var d, k = e.utils.unwrapObservable(b);
        if (P(k))
            a = z(a, k[p]), c(b, a.parentName), d = "array" === f.getType(k) ? [] : {};
        else
            return c(b, a.parentName);
        a.visitedObjects.save(b, d);
        var l = a.parentName;
        Q(k, function(b) {
            if (!(a.ignore && -1 != e.utils.arrayIndexOf(a.ignore, b))) {
                var j = k[b], g = a, h = l || "";
                "array" === f.getType(k) ? l && (h += "[" + b + "]") : (l && (h += "."), h += b);
                g.parentName = h;
                if (!(-1 === e.utils.arrayIndexOf(a.copy, b) && -1 === e.utils.arrayIndexOf(a.include, b) && k[p] && k[p].mappedProperties && !k[p].mappedProperties[b] && k[p].copiedProperties && !k[p].copiedProperties[b] && "array" !== f.getType(k)))
                    switch (f.getType(e.utils.unwrapObservable(j))) {
                        case "object":
                        case "array":
                        case "undefined":
                            g = a.visitedObjects.get(j);
                            d[b] = "undefined" !== f.getType(g) ? g : f.visitModel(j, c, a);
                            break;
                        default:
                            d[b] = c(j, a.parentName)
                    }
            }
        });
        return d
    }
});
(function() {
    var n = this, t = n._, r = {}, e = Array.prototype, u = Object.prototype, i = Function.prototype, a = e.push, o = e.slice, c = e.concat, l = u.toString, f = u.hasOwnProperty, s = e.forEach, p = e.map, h = e.reduce, v = e.reduceRight, d = e.filter, g = e.every, m = e.some, y = e.indexOf, b = e.lastIndexOf, x = Array.isArray, _ = Object.keys, j = i.bind, w = function(n) {
        return n instanceof w ? n : this instanceof w ? (this._wrapped = n, void 0) : new w(n)
    };
    "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = w), exports._ = w) : n._ = w, w.VERSION = "1.4.4";
    var A = w.each = w.forEach = function(n, t, e) {
        if (null != n)
            if (s && n.forEach === s)
                n.forEach(t, e);
            else if (n.length === +n.length) {
                for (var u = 0, i = n.length; i > u; u++)
                    if (t.call(e, n[u], u, n) === r)
                        return
            } else
                for (var a in n)
                    if (w.has(n, a) && t.call(e, n[a], a, n) === r)
                        return
    };
    w.map = w.collect = function(n, t, r) {
        var e = [];
        return null == n ? e : p && n.map === p ? n.map(t, r) : (A(n, function(n, u, i) {
            e[e.length] = t.call(r, n, u, i)
        }), e)
    };
    var O = "Reduce of empty array with no initial value";
    w.reduce = w.foldl = w.inject = function(n, t, r, e) {
        var u = arguments.length > 2;
        if (null == n && (n = []), h && n.reduce === h)
            return e && (t = w.bind(t, e)), u ? n.reduce(t, r) : n.reduce(t);
        if (A(n, function(n, i, a) {
            u ? r = t.call(e, r, n, i, a) : (r = n, u = !0)
        }), !u)
            throw new TypeError(O);
        return r
    }, w.reduceRight = w.foldr = function(n, t, r, e) {
        var u = arguments.length > 2;
        if (null == n && (n = []), v && n.reduceRight === v)
            return e && (t = w.bind(t, e)), u ? n.reduceRight(t, r) : n.reduceRight(t);
        var i = n.length;
        if (i !== +i) {
            var a = w.keys(n);
            i = a.length
        }
        if (A(n, function(o, c, l) {
            c = a ? a[--i] : --i, u ? r = t.call(e, r, n[c], c, l) : (r = n[c], u = !0)
        }), !u)
            throw new TypeError(O);
        return r
    }, w.find = w.detect = function(n, t, r) {
        var e;
        return E(n, function(n, u, i) {
            return t.call(r, n, u, i) ? (e = n, !0) : void 0
        }), e
    }, w.filter = w.select = function(n, t, r) {
        var e = [];
        return null == n ? e : d && n.filter === d ? n.filter(t, r) : (A(n, function(n, u, i) {
            t.call(r, n, u, i) && (e[e.length] = n)
        }), e)
    }, w.reject = function(n, t, r) {
        return w.filter(n, function(n, e, u) {
            return !t.call(r, n, e, u)
        }, r)
    }, w.every = w.all = function(n, t, e) {
        t || (t = w.identity);
        var u = !0;
        return null == n ? u : g && n.every === g ? n.every(t, e) : (A(n, function(n, i, a) {
            return (u = u && t.call(e, n, i, a)) ? void 0 : r
        }), !!u)
    };
    var E = w.some = w.any = function(n, t, e) {
        t || (t = w.identity);
        var u = !1;
        return null == n ? u : m && n.some === m ? n.some(t, e) : (A(n, function(n, i, a) {
            return u || (u = t.call(e, n, i, a)) ? r : void 0
        }), !!u)
    };
    w.contains = w.include = function(n, t) {
        return null == n ? !1 : y && n.indexOf === y ? n.indexOf(t) != -1 : E(n, function(n) {
            return n === t
        })
    }, w.invoke = function(n, t) {
        var r = o.call(arguments, 2), e = w.isFunction(t);
        return w.map(n, function(n) {
            return (e ? t : n[t]).apply(n, r)
        })
    }, w.pluck = function(n, t) {
        return w.map(n, function(n) {
            return n[t]
        })
    }, w.where = function(n, t, r) {
        return w.isEmpty(t) ? r ? null : [] : w[r ? "find" : "filter"](n, function(n) {
            for (var r in t)
                if (t[r] !== n[r])
                    return !1;
            return !0
        })
    }, w.findWhere = function(n, t) {
        return w.where(n, t, !0)
    }, w.max = function(n, t, r) {
        if (!t && w.isArray(n) && n[0] === +n[0] && 65535 > n.length)
            return Math.max.apply(Math, n);
        if (!t && w.isEmpty(n))
            return -1 / 0;
        var e = {computed: -1 / 0,value: -1 / 0};
        return A(n, function(n, u, i) {
            var a = t ? t.call(r, n, u, i) : n;
            a >= e.computed && (e = {value: n,computed: a})
        }), e.value
    }, w.min = function(n, t, r) {
        if (!t && w.isArray(n) && n[0] === +n[0] && 65535 > n.length)
            return Math.min.apply(Math, n);
        if (!t && w.isEmpty(n))
            return 1 / 0;
        var e = {computed: 1 / 0,value: 1 / 0};
        return A(n, function(n, u, i) {
            var a = t ? t.call(r, n, u, i) : n;
            e.computed > a && (e = {value: n,computed: a})
        }), e.value
    }, w.shuffle = function(n) {
        var t, r = 0, e = [];
        return A(n, function(n) {
            t = w.random(r++), e[r - 1] = e[t], e[t] = n
        }), e
    };
    var k = function(n) {
        return w.isFunction(n) ? n : function(t) {
            return t[n]
        }
    };
    w.sortBy = function(n, t, r) {
        var e = k(t);
        return w.pluck(w.map(n, function(n, t, u) {
            return {value: n,index: t,criteria: e.call(r, n, t, u)}
        }).sort(function(n, t) {
            var r = n.criteria, e = t.criteria;
            if (r !== e) {
                if (r > e || r === void 0)
                    return 1;
                if (e > r || e === void 0)
                    return -1
            }
            return n.index < t.index ? -1 : 1
        }), "value")
    };
    var F = function(n, t, r, e) {
        var u = {}, i = k(t || w.identity);
        return A(n, function(t, a) {
            var o = i.call(r, t, a, n);
            e(u, o, t)
        }), u
    };
    w.groupBy = function(n, t, r) {
        return F(n, t, r, function(n, t, r) {
            (w.has(n, t) ? n[t] : n[t] = []).push(r)
        })
    }, w.countBy = function(n, t, r) {
        return F(n, t, r, function(n, t) {
            w.has(n, t) || (n[t] = 0), n[t]++
        })
    }, w.sortedIndex = function(n, t, r, e) {
        r = null == r ? w.identity : k(r);
        for (var u = r.call(e, t), i = 0, a = n.length; a > i; ) {
            var o = i + a >>> 1;
            u > r.call(e, n[o]) ? i = o + 1 : a = o
        }
        return i
    }, w.toArray = function(n) {
        return n ? w.isArray(n) ? o.call(n) : n.length === +n.length ? w.map(n, w.identity) : w.values(n) : []
    }, w.size = function(n) {
        return null == n ? 0 : n.length === +n.length ? n.length : w.keys(n).length
    }, w.first = w.head = w.take = function(n, t, r) {
        return null == n ? void 0 : null == t || r ? n[0] : o.call(n, 0, t)
    }, w.initial = function(n, t, r) {
        return o.call(n, 0, n.length - (null == t || r ? 1 : t))
    }, w.last = function(n, t, r) {
        return null == n ? void 0 : null == t || r ? n[n.length - 1] : o.call(n, Math.max(n.length - t, 0))
    }, w.rest = w.tail = w.drop = function(n, t, r) {
        return o.call(n, null == t || r ? 1 : t)
    }, w.compact = function(n) {
        return w.filter(n, w.identity)
    };
    var R = function(n, t, r) {
        return A(n, function(n) {
            w.isArray(n) ? t ? a.apply(r, n) : R(n, t, r) : r.push(n)
        }), r
    };
    w.flatten = function(n, t) {
        return R(n, t, [])
    }, w.without = function(n) {
        return w.difference(n, o.call(arguments, 1))
    }, w.uniq = w.unique = function(n, t, r, e) {
        w.isFunction(t) && (e = r, r = t, t = !1);
        var u = r ? w.map(n, r, e) : n, i = [], a = [];
        return A(u, function(r, e) {
            (t ? e && a[a.length - 1] === r : w.contains(a, r)) || (a.push(r), i.push(n[e]))
        }), i
    }, w.union = function() {
        return w.uniq(c.apply(e, arguments))
    }, w.intersection = function(n) {
        var t = o.call(arguments, 1);
        return w.filter(w.uniq(n), function(n) {
            return w.every(t, function(t) {
                return w.indexOf(t, n) >= 0
            })
        })
    }, w.difference = function(n) {
        var t = c.apply(e, o.call(arguments, 1));
        return w.filter(n, function(n) {
            return !w.contains(t, n)
        })
    }, w.zip = function() {
        for (var n = o.call(arguments), t = w.max(w.pluck(n, "length")), r = Array(t), e = 0; t > e; e++)
            r[e] = w.pluck(n, "" + e);
        return r
    }, w.object = function(n, t) {
        if (null == n)
            return {};
        for (var r = {}, e = 0, u = n.length; u > e; e++)
            t ? r[n[e]] = t[e] : r[n[e][0]] = n[e][1];
        return r
    }, w.indexOf = function(n, t, r) {
        if (null == n)
            return -1;
        var e = 0, u = n.length;
        if (r) {
            if ("number" != typeof r)
                return e = w.sortedIndex(n, t), n[e] === t ? e : -1;
            e = 0 > r ? Math.max(0, u + r) : r
        }
        if (y && n.indexOf === y)
            return n.indexOf(t, r);
        for (; u > e; e++)
            if (n[e] === t)
                return e;
        return -1
    }, w.lastIndexOf = function(n, t, r) {
        if (null == n)
            return -1;
        var e = null != r;
        if (b && n.lastIndexOf === b)
            return e ? n.lastIndexOf(t, r) : n.lastIndexOf(t);
        for (var u = e ? r : n.length; u--; )
            if (n[u] === t)
                return u;
        return -1
    }, w.range = function(n, t, r) {
        1 >= arguments.length && (t = n || 0, n = 0), r = arguments[2] || 1;
        for (var e = Math.max(Math.ceil((t - n) / r), 0), u = 0, i = Array(e); e > u; )
            i[u++] = n, n += r;
        return i
    }, w.bind = function(n, t) {
        if (n.bind === j && j)
            return j.apply(n, o.call(arguments, 1));
        var r = o.call(arguments, 2);
        return function() {
            return n.apply(t, r.concat(o.call(arguments)))
        }
    }, w.partial = function(n) {
        var t = o.call(arguments, 1);
        return function() {
            return n.apply(this, t.concat(o.call(arguments)))
        }
    }, w.bindAll = function(n) {
        var t = o.call(arguments, 1);
        return 0 === t.length && (t = w.functions(n)), A(t, function(t) {
            n[t] = w.bind(n[t], n)
        }), n
    }, w.memoize = function(n, t) {
        var r = {};
        return t || (t = w.identity), function() {
            var e = t.apply(this, arguments);
            return w.has(r, e) ? r[e] : r[e] = n.apply(this, arguments)
        }
    }, w.delay = function(n, t) {
        var r = o.call(arguments, 2);
        return setTimeout(function() {
            return n.apply(null, r)
        }, t)
    }, w.defer = function(n) {
        return w.delay.apply(w, [n, 1].concat(o.call(arguments, 1)))
    }, w.throttle = function(n, t) {
        var r, e, u, i, a = 0, o = function() {
            a = new Date, u = null, i = n.apply(r, e)
        };
        return function() {
            var c = new Date, l = t - (c - a);
            return r = this, e = arguments, 0 >= l ? (clearTimeout(u), u = null, a = c, i = n.apply(r, e)) : u || (u = setTimeout(o, l)), i
        }
    }, w.debounce = function(n, t, r) {
        var e, u;
        return function() {
            var i = this, a = arguments, o = function() {
                e = null, r || (u = n.apply(i, a))
            }, c = r && !e;
            return clearTimeout(e), e = setTimeout(o, t), c && (u = n.apply(i, a)), u
        }
    }, w.once = function(n) {
        var t, r = !1;
        return function() {
            return r ? t : (r = !0, t = n.apply(this, arguments), n = null, t)
        }
    }, w.wrap = function(n, t) {
        return function() {
            var r = [n];
            return a.apply(r, arguments), t.apply(this, r)
        }
    }, w.compose = function() {
        var n = arguments;
        return function() {
            for (var t = arguments, r = n.length - 1; r >= 0; r--)
                t = [n[r].apply(this, t)];
            return t[0]
        }
    }, w.after = function(n, t) {
        return 0 >= n ? t() : function() {
            return 1 > --n ? t.apply(this, arguments) : void 0
        }
    }, w.keys = _ || function(n) {
        if (n !== Object(n))
            throw new TypeError("Invalid object");
        var t = [];
        for (var r in n)
            w.has(n, r) && (t[t.length] = r);
        return t
    }, w.values = function(n) {
        var t = [];
        for (var r in n)
            w.has(n, r) && t.push(n[r]);
        return t
    }, w.pairs = function(n) {
        var t = [];
        for (var r in n)
            w.has(n, r) && t.push([r, n[r]]);
        return t
    }, w.invert = function(n) {
        var t = {};
        for (var r in n)
            w.has(n, r) && (t[n[r]] = r);
        return t
    }, w.functions = w.methods = function(n) {
        var t = [];
        for (var r in n)
            w.isFunction(n[r]) && t.push(r);
        return t.sort()
    }, w.extend = function(n) {
        return A(o.call(arguments, 1), function(t) {
            if (t)
                for (var r in t)
                    n[r] = t[r]
        }), n
    }, w.pick = function(n) {
        var t = {}, r = c.apply(e, o.call(arguments, 1));
        return A(r, function(r) {
            r in n && (t[r] = n[r])
        }), t
    }, w.omit = function(n) {
        var t = {}, r = c.apply(e, o.call(arguments, 1));
        for (var u in n)
            w.contains(r, u) || (t[u] = n[u]);
        return t
    }, w.defaults = function(n) {
        return A(o.call(arguments, 1), function(t) {
            if (t)
                for (var r in t)
                    null == n[r] && (n[r] = t[r])
        }), n
    }, w.clone = function(n) {
        return w.isObject(n) ? w.isArray(n) ? n.slice() : w.extend({}, n) : n
    }, w.tap = function(n, t) {
        return t(n), n
    };
    var I = function(n, t, r, e) {
        if (n === t)
            return 0 !== n || 1 / n == 1 / t;
        if (null == n || null == t)
            return n === t;
        n instanceof w && (n = n._wrapped), t instanceof w && (t = t._wrapped);
        var u = l.call(n);
        if (u != l.call(t))
            return !1;
        switch (u) {
            case "[object String]":
                return n == t + "";
            case "[object Number]":
                return n != +n ? t != +t : 0 == n ? 1 / n == 1 / t : n == +t;
            case "[object Date]":
            case "[object Boolean]":
                return +n == +t;
            case "[object RegExp]":
                return n.source == t.source && n.global == t.global && n.multiline == t.multiline && n.ignoreCase == t.ignoreCase
        }
        if ("object" != typeof n || "object" != typeof t)
            return !1;
        for (var i = r.length; i--; )
            if (r[i] == n)
                return e[i] == t;
        r.push(n), e.push(t);
        var a = 0, o = !0;
        if ("[object Array]" == u) {
            if (a = n.length, o = a == t.length)
                for (; a-- && (o = I(n[a], t[a], r, e)); )
                    ;
        } else {
            var c = n.constructor, f = t.constructor;
            if (c !== f && !(w.isFunction(c) && c instanceof c && w.isFunction(f) && f instanceof f))
                return !1;
            for (var s in n)
                if (w.has(n, s) && (a++, !(o = w.has(t, s) && I(n[s], t[s], r, e))))
                    break;
            if (o) {
                for (s in t)
                    if (w.has(t, s) && !a--)
                        break;
                o = !a
            }
        }
        return r.pop(), e.pop(), o
    };
    w.isEqual = function(n, t) {
        return I(n, t, [], [])
    }, w.isEmpty = function(n) {
        if (null == n)
            return !0;
        if (w.isArray(n) || w.isString(n))
            return 0 === n.length;
        for (var t in n)
            if (w.has(n, t))
                return !1;
        return !0
    }, w.isElement = function(n) {
        return !(!n || 1 !== n.nodeType)
    }, w.isArray = x || function(n) {
        return "[object Array]" == l.call(n)
    }, w.isObject = function(n) {
        return n === Object(n)
    }, A(["Arguments", "Function", "String", "Number", "Date", "RegExp"], function(n) {
        w["is" + n] = function(t) {
            return l.call(t) == "[object " + n + "]"
        }
    }), w.isArguments(arguments) || (w.isArguments = function(n) {
        return !(!n || !w.has(n, "callee"))
    }), "function" != typeof /./ && (w.isFunction = function(n) {
        return "function" == typeof n
    }), w.isFinite = function(n) {
        return isFinite(n) && !isNaN(parseFloat(n))
    }, w.isNaN = function(n) {
        return w.isNumber(n) && n != +n
    }, w.isBoolean = function(n) {
        return n === !0 || n === !1 || "[object Boolean]" == l.call(n)
    }, w.isNull = function(n) {
        return null === n
    }, w.isUndefined = function(n) {
        return n === void 0
    }, w.has = function(n, t) {
        return f.call(n, t)
    }, w.noConflict = function() {
        return n._ = t, this
    }, w.identity = function(n) {
        return n
    }, w.times = function(n, t, r) {
        for (var e = Array(n), u = 0; n > u; u++)
            e[u] = t.call(r, u);
        return e
    }, w.random = function(n, t) {
        return null == t && (t = n, n = 0), n + Math.floor(Math.random() * (t - n + 1))
    };
    var M = {escape: {"&": "&amp;","<": "&lt;",">": "&gt;",'"': "&quot;","'": "&#x27;","/": "&#x2F;"}};
    M.unescape = w.invert(M.escape);
    var S = {escape: RegExp("[" + w.keys(M.escape).join("") + "]", "g"),unescape: RegExp("(" + w.keys(M.unescape).join("|") + ")", "g")};
    w.each(["escape", "unescape"], function(n) {
        w[n] = function(t) {
            return null == t ? "" : ("" + t).replace(S[n], function(t) {
                return M[n][t]
            })
        }
    }), w.result = function(n, t) {
        if (null == n)
            return null;
        var r = n[t];
        return w.isFunction(r) ? r.call(n) : r
    }, w.mixin = function(n) {
        A(w.functions(n), function(t) {
            var r = w[t] = n[t];
            w.prototype[t] = function() {
                var n = [this._wrapped];
                return a.apply(n, arguments), D.call(this, r.apply(w, n))
            }
        })
    };
    var N = 0;
    w.uniqueId = function(n) {
        var t = ++N + "";
        return n ? n + t : t
    }, w.templateSettings = {evaluate: /<%([\s\S]+?)%>/g,interpolate: /<%=([\s\S]+?)%>/g,escape: /<%-([\s\S]+?)%>/g};
    var T = /(.)^/, q = {"'": "'","\\": "\\","\r": "r","\n": "n","	": "t","\u2028": "u2028","\u2029": "u2029"}, B = /\\|'|\r|\n|\t|\u2028|\u2029/g;
    w.template = function(n, t, r) {
        var e;
        r = w.defaults({}, r, w.templateSettings);
        var u = RegExp([(r.escape || T).source, (r.interpolate || T).source, (r.evaluate || T).source].join("|") + "|$", "g"), i = 0, a = "__p+='";
        n.replace(u, function(t, r, e, u, o) {
            return a += n.slice(i, o).replace(B, function(n) {
                return "\\" + q[n]
            }), r && (a += "'+\n((__t=(" + r + "))==null?'':_.escape(__t))+\n'"), e && (a += "'+\n((__t=(" + e + "))==null?'':__t)+\n'"), u && (a += "';\n" + u + "\n__p+='"), i = o + t.length, t
        }), a += "';\n", r.variable || (a = "with(obj||{}){\n" + a + "}\n"), a = "var __t,__p='',__j=Array.prototype.join," + "print=function(){__p+=__j.call(arguments,'');};\n" + a + "return __p;\n";
        try {
            e = Function(r.variable || "obj", "_", a)
        } catch (o) {
            throw o.source = a, o
        }
        if (t)
            return e(t, w);
        var c = function(n) {
            return e.call(this, n, w)
        };
        return c.source = "function(" + (r.variable || "obj") + "){\n" + a + "}", c
    }, w.chain = function(n) {
        return w(n).chain()
    };
    var D = function(n) {
        return this._chain ? w(n).chain() : n
    };
    w.mixin(w), A(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function(n) {
        var t = e[n];
        w.prototype[n] = function() {
            var r = this._wrapped;
            return t.apply(r, arguments), "shift" != n && "splice" != n || 0 !== r.length || delete r[0], D.call(this, r)
        }
    }), A(["concat", "join", "slice"], function(n) {
        var t = e[n];
        w.prototype[n] = function() {
            return D.call(this, t.apply(this._wrapped, arguments))
        }
    }), w.extend(w.prototype, {chain: function() {
            return this._chain = !0, this
        },value: function() {
            return this._wrapped
        }})
}).call(this);
(function(root, factory) {
    if (typeof module === "object" && module.exports) {
        module.exports = function(_) {
            _ = _ || require("underscore");
            return factory(_);
        }
    } else if (typeof define === "function" && define.amd) {
        define(["underscore-1.4.4"], function(_) {
            return factory(_, root);
        });
    } else {
        root.postal = factory(root._, root);
    }
}(this, function(_, global, undefined) {
    var DEFAULT_CHANNEL = "/", DEFAULT_DISPOSEAFTER = 0, SYSTEM_CHANNEL = "postal";
    var ConsecutiveDistinctPredicate = function() {
        var previous;
        return function(data) {
            var eq = false;
            if (_.isString(data)) {
                eq = data === previous;
                previous = data;
            } 
            else {
                eq = _.isEqual(data, previous);
                previous = _.clone(data);
            }
            return !eq;
        };
    };
    var DistinctPredicate = function() {
        var previous = [];
        return function(data) {
            var isDistinct = !_.any(previous, function(p) {
                if (_.isObject(data) || _.isArray(data)) {
                    return _.isEqual(data, p);
                }
                return data === p;
            });
            if (isDistinct) {
                previous.push(data);
            }
            return isDistinct;
        };
    };
    var ChannelDefinition = function(channelName) {
        this.channel = channelName || DEFAULT_CHANNEL;
    };
    ChannelDefinition.prototype.subscribe = function() {
        return arguments.length === 1 ? new SubscriptionDefinition(this.channel, arguments[0].topic, arguments[0].callback) : new SubscriptionDefinition(this.channel, arguments[0], arguments[1]);
    };
    ChannelDefinition.prototype.publish = function() {
        var envelope = arguments.length === 1 ? (Object.prototype.toString.call(arguments[0]) === '[object String]' ? {topic: arguments[0]} : arguments[0]) : {topic: arguments[0],data: arguments[1]};
        envelope.channel = this.channel;
        return postal.configuration.bus.publish(envelope);
    };
    var SubscriptionDefinition = function(channel, topic, callback) {
        this.channel = channel;
        this.topic = topic;
        this.callback = callback;
        this.constraints = [];
        this.context = null;
        postal.configuration.bus.publish({channel: SYSTEM_CHANNEL,topic: "subscription.created",data: {event: "subscription.created",channel: channel,topic: topic}});
        postal.configuration.bus.subscribe(this);
    };
    SubscriptionDefinition.prototype = {unsubscribe: function() {
            this.inactive = true;
            postal.configuration.bus.unsubscribe(this);
            postal.configuration.bus.publish({channel: SYSTEM_CHANNEL,topic: "subscription.removed",data: {event: "subscription.removed",channel: this.channel,topic: this.topic}});
        },defer: function() {
            var fn = this.callback;
            this.callback = function(data) {
                setTimeout(function() {
                    fn(data);
                }, 0);
            };
            return this;
        },disposeAfter: function(maxCalls) {
            if (_.isNaN(maxCalls) || maxCalls <= 0) {
                throw "The value provided to disposeAfter (maxCalls) must be a number greater than zero.";
            }
            var fn = this.callback;
            var dispose = _.after(maxCalls, _.bind(function() {
                this.unsubscribe();
            }, this));
            this.callback = function() {
                fn.apply(this.context, arguments);
                dispose();
            };
            return this;
        },distinctUntilChanged: function() {
            this.withConstraint(new ConsecutiveDistinctPredicate());
            return this;
        },distinct: function() {
            this.withConstraint(new DistinctPredicate());
            return this;
        },once: function() {
            this.disposeAfter(1);
            return this;
        },withConstraint: function(predicate) {
            if (!_.isFunction(predicate)) {
                throw "Predicate constraint must be a function";
            }
            this.constraints.push(predicate);
            return this;
        },withConstraints: function(predicates) {
            var self = this;
            if (_.isArray(predicates)) {
                _.each(predicates, function(predicate) {
                    self.withConstraint(predicate);
                });
            }
            return self;
        },withContext: function(context) {
            this.context = context;
            return this;
        },withDebounce: function(milliseconds) {
            if (_.isNaN(milliseconds)) {
                throw "Milliseconds must be a number";
            }
            var fn = this.callback;
            this.callback = _.debounce(fn, milliseconds);
            return this;
        },withDelay: function(milliseconds) {
            if (_.isNaN(milliseconds)) {
                throw "Milliseconds must be a number";
            }
            var fn = this.callback;
            this.callback = function(data) {
                setTimeout(function() {
                    fn(data);
                }, milliseconds);
            };
            return this;
        },withThrottle: function(milliseconds) {
            if (_.isNaN(milliseconds)) {
                throw "Milliseconds must be a number";
            }
            var fn = this.callback;
            this.callback = _.throttle(fn, milliseconds);
            return this;
        },subscribe: function(callback) {
            this.callback = callback;
            return this;
        }};
    var bindingsResolver = {cache: {},regex: {},compare: function(binding, topic) {
            var pattern, rgx, prevSegment, result = (this.cache[topic] && this.cache[topic][binding]);
            if (typeof result !== "undefined") {
                return result;
            }
            if (!(rgx = this.regex[binding])) {
                pattern = "^" + _.map(binding.split('.'), function(segment) {
                    var res = "";
                    if (!!prevSegment) {
                        res = prevSegment !== "#" ? "\\.\\b" : "\\b";
                    }
                    if (segment === "#") {
                        res += "[\\s\\S]*"
                    } else if (segment === "*") {
                        res += "[^.]+"
                    } else {
                        res += segment;
                    }
                    prevSegment = segment;
                    return res;
                }).join('') + "$";
                rgx = this.regex[binding] = new RegExp(pattern);
            }
            this.cache[topic] = this.cache[topic] || {};
            this.cache[topic][binding] = result = rgx.test(topic);
            return result;
        },reset: function() {
            this.cache = {};
            this.regex = {};
        }};
    var fireSub = function(subDef, envelope) {
        if (!subDef.inactive && postal.configuration.resolver.compare(subDef.topic, envelope.topic)) {
            if (_.all(subDef.constraints, function(constraint) {
                return constraint.call(subDef.context, envelope.data, envelope);
            })) {
                if (typeof subDef.callback === 'function') {
                    subDef.callback.call(subDef.context, envelope.data, envelope);
                }
            }
        }
    };
    var pubInProgress = false;
    var unSubQueue = [];
    var clearUnSubQueue = function() {
        while (unSubQueue.length) {
            unSubQueue.shift().unsubscribe();
        }
    };
    var localBus = {addWireTap: function(callback) {
            var self = this;
            self.wireTaps.push(callback);
            return function() {
                var idx = self.wireTaps.indexOf(callback);
                if (idx !== -1) {
                    self.wireTaps.splice(idx, 1);
                }
            };
        },publish: function(envelope) {
            pubInProgress = true;
            envelope.timeStamp = new Date();
            _.each(this.wireTaps, function(tap) {
                tap(envelope.data, envelope);
            });
            if (this.subscriptions[envelope.channel]) {
                _.each(this.subscriptions[envelope.channel], function(subscribers) {
                    var idx = 0, len = subscribers.length, subDef;
                    while (idx < len) {
                        if (subDef = subscribers[idx++]) {
                            fireSub(subDef, envelope);
                        }
                    }
                });
            }
            pubInProgress = false;
            return envelope;
        },reset: function() {
            if (this.subscriptions) {
                _.each(this.subscriptions, function(channel) {
                    _.each(channel, function(topic) {
                        while (topic.length) {
                            topic.pop().unsubscribe();
                        }
                    });
                });
                this.subscriptions = {};
            }
        },subscribe: function(subDef) {
            var idx, found, fn, channel = this.subscriptions[subDef.channel], subs;
            if (!channel) {
                channel = this.subscriptions[subDef.channel] = {};
            }
            subs = this.subscriptions[subDef.channel][subDef.topic];
            if (!subs) {
                subs = this.subscriptions[subDef.channel][subDef.topic] = [];
            }
            subs.push(subDef);
            return subDef;
        },subscriptions: {},wireTaps: [],unsubscribe: function(config) {
            if (pubInProgress) {
                unSubQueue.push(config);
                return;
            }
            if (this.subscriptions[config.channel][config.topic]) {
                var len = this.subscriptions[config.channel][config.topic].length, idx = 0;
                while (idx < len) {
                    if (this.subscriptions[config.channel][config.topic][idx] === config) {
                        this.subscriptions[config.channel][config.topic].splice(idx, 1);
                        break;
                    }
                    idx += 1;
                }
            }
        }};
    localBus.subscriptions[SYSTEM_CHANNEL] = {};
    var postal = {configuration: {bus: localBus,resolver: bindingsResolver,DEFAULT_CHANNEL: DEFAULT_CHANNEL,SYSTEM_CHANNEL: SYSTEM_CHANNEL},ChannelDefinition: ChannelDefinition,SubscriptionDefinition: SubscriptionDefinition,channel: function(channelName) {
            return new ChannelDefinition(channelName);
        },subscribe: function(options) {
            return new SubscriptionDefinition(options.channel || DEFAULT_CHANNEL, options.topic, options.callback);
        },publish: function(envelope) {
            envelope.channel = envelope.channel || DEFAULT_CHANNEL;
            return postal.configuration.bus.publish(envelope);
        },addWireTap: function(callback) {
            return this.configuration.bus.addWireTap(callback);
        },linkChannels: function(sources, destinations) {
            var result = [];
            sources = !_.isArray(sources) ? [sources] : sources;
            destinations = !_.isArray(destinations) ? [destinations] : destinations;
            _.each(sources, function(source) {
                var sourceTopic = source.topic || "#";
                _.each(destinations, function(destination) {
                    var destChannel = destination.channel || DEFAULT_CHANNEL;
                    result.push(postal.subscribe({channel: source.channel || DEFAULT_CHANNEL,topic: source.topic || "#",callback: function(data, env) {
                            var newEnv = _.clone(env);
                            newEnv.topic = _.isFunction(destination.topic) ? destination.topic(env.topic) : destination.topic || env.topic;
                            newEnv.channel = destChannel;
                            newEnv.data = data;
                            postal.publish(newEnv);
                        }}));
                });
            });
            return result;
        },utils: {getSubscribersFor: function() {
                var channel = arguments[0], tpc = arguments[1];
                if (arguments.length === 1) {
                    channel = arguments[0].channel || postal.configuration.DEFAULT_CHANNEL;
                    tpc = arguments[0].topic;
                }
                if (postal.configuration.bus.subscriptions[channel] && postal.configuration.bus.subscriptions[channel].hasOwnProperty(tpc)) {
                    return postal.configuration.bus.subscriptions[channel][tpc];
                }
                return [];
            },reset: function() {
                postal.configuration.bus.reset();
                postal.configuration.resolver.reset();
            }}};
    return postal;
}));
(function(e, t) {
    (function(n) {
        typeof define == "function" && define.amd ? define(["jquery"], n) : e.sammy = t.Sammy = n(e)
    })(function(e) {
        var n, r = "([^/]+)", i = /:([\w\d]+)/g, s = /\?([^#]*)?$/, o = function(e) {
            return Array.prototype.slice.call(e)
        }, u = function(e) {
            return Object.prototype.toString.call(e) === "[object Function]"
        }, a = function(e) {
            return Object.prototype.toString.call(e) === "[object Array]"
        }, f = function(e) {
            return Object.prototype.toString.call(e) === "[object RegExp]"
        }, l = function(e) {
            return decodeURIComponent((e || "").replace(/\+/g, " "))
        }, c = encodeURIComponent, h = function(e) {
            return String(e).replace(/&(?!\w+;)/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;")
        }, p = function(e) {
            return function() {
                return this.route.apply(this, [e].concat(Array.prototype.slice.call(arguments)))
            }
        }, d = {}, v = !!t.history && !!history.pushState, m = [];
        return n = function() {
            var t = o(arguments), r, i;
            n.apps = n.apps || {};
            if (t.length === 0 || t[0] && u(t[0]))
                return n.apply(n, ["body"].concat(t));
            if (typeof (i = t.shift()) == "string")
                return r = n.apps[i] || new n.Application, r.element_selector = i, t.length > 0 && e.each(t, function(e, t) {
                    r.use(t)
                }), r.element_selector != i && delete n.apps[i], n.apps[r.element_selector] = r, r
        }, n.VERSION = "0.7.4", n.addLogger = function(e) {
            m.push(e)
        }, n.log = function() {
            var t = o(arguments);
            t.unshift("[" + Date() + "]"), e.each(m, function(e, r) {
                r.apply(n, t)
            })
        }, typeof t.console != "undefined" ? u(t.console.log.apply) ? n.addLogger(function() {
            t.console.log.apply(t.console, arguments)
        }) : n.addLogger(function() {
            t.console.log(arguments)
        }) : typeof console != "undefined" && n.addLogger(function() {
            console.log.apply(console, arguments)
        }), e.extend(n, {makeArray: o,isFunction: u,isArray: a}), n.Object = function(t) {
            return e.extend(this, t || {})
        }, e.extend(n.Object.prototype, {escapeHTML: h,h: h,toHash: function() {
                var t = {};
                return e.each(this, function(e, n) {
                    u(n) || (t[e] = n)
                }), t
            },toHTML: function() {
                var t = "";
                return e.each(this, function(e, n) {
                    u(n) || (t += "<strong>" + e + "</strong> " + n + "<br />")
                }), t
            },keys: function(e) {
                var t = [];
                for (var n in this)
                    (!u(this[n]) || !e) && t.push(n);
                return t
            },has: function(t) {
                return this[t] && e.trim(this[t].toString()) !== ""
            },join: function() {
                var e = o(arguments), t = e.shift();
                return e.join(t)
            },log: function() {
                n.log.apply(n, arguments)
            },toString: function(t) {
                var n = [];
                return e.each(this, function(e, r) {
                    (!u(r) || t) && n.push('"' + e + '": ' + r.toString())
                }), "Sammy.Object: {" + n.join(",") + "}"
            }}), n.targetIsThisWindow = function(r) {
            var i = e(r.target).attr("target");
            return !i || i === t.name || i === "_self" ? !0 : i === "_blank" ? !1 : i === "top" && t === t.top ? !0 : !1
        }, n.DefaultLocationProxy = function(e, t) {
            this.app = e, this.is_native = !1, this.has_history = v, this._startPolling(t)
        }, n.DefaultLocationProxy.fullPath = function(e) {
            var t = e.toString().match(/^[^#]*(#.+)$/), n = t ? t[1] : "";
            return [e.pathname, e.search, n].join("")
        }, e.extend(n.DefaultLocationProxy.prototype, {bind: function() {
                var r = this, i = this.app, s = n.DefaultLocationProxy;
                e(t).bind("hashchange." + this.app.eventNamespace(), function(e, n) {
                    r.is_native === !1 && !n && (r.is_native = !0, t.clearInterval(s._interval), s._interval = null), i.trigger("location-changed")
                }), v && !i.disable_push_state && (e(t).bind("popstate." + this.app.eventNamespace(), function(e) {
                    i.trigger("location-changed")
                }), e(document).delegate("a", "click.history-" + this.app.eventNamespace(), function(e) {
                    if (e.isDefaultPrevented() || e.metaKey || e.ctrlKey)
                        return;
                    var o = s.fullPath(this);
                    if (this.hostname == t.location.hostname && i.lookupRoute("get", o) && n.targetIsThisWindow(e))
                        return e.preventDefault(), r.setLocation(o), !1
                })), s._bindings || (s._bindings = 0), s._bindings++
            },unbind: function() {
                e(t).unbind("hashchange." + this.app.eventNamespace()), e(t).unbind("popstate." + this.app.eventNamespace()), e(document).undelegate("a", "click.history-" + this.app.eventNamespace()), n.DefaultLocationProxy._bindings--, n.DefaultLocationProxy._bindings <= 0 && (t.clearInterval(n.DefaultLocationProxy._interval), n.DefaultLocationProxy._interval = null)
            },getLocation: function() {
                return n.DefaultLocationProxy.fullPath(t.location)
            },setLocation: function(e) {
                /^([^#\/]|$)/.test(e) && (v && !this.app.disable_push_state ? e = "/" + e : e = "#!/" + e);
                if (e != this.getLocation()) {
                    if (!(v && !this.app.disable_push_state && /^\//.test(e)))
                        return t.location = e;
                    history.pushState({path: e}, t.title, e), this.app.trigger("location-changed")
                }
            },_startPolling: function(r) {
                var i = this;
                if (!n.DefaultLocationProxy._interval) {
                    r || (r = 10);
                    var s = function() {
                        var r = i.getLocation();
                        (typeof n.DefaultLocationProxy._last_location == "undefined" || r != n.DefaultLocationProxy._last_location) && t.setTimeout(function() {
                            e(t).trigger("hashchange", [!0])
                        }, 0), n.DefaultLocationProxy._last_location = r
                    };
                    s(), n.DefaultLocationProxy._interval = t.setInterval(s, r)
                }
            }}), n.Application = function(e) {
            var t = this;
            this.routes = {}, this.listeners = new n.Object({}), this.arounds = [], this.befores = [], this.namespace = (new Date).getTime() + "-" + parseInt(Math.random() * 1e3, 10), this.context_prototype = function() {
                n.EventContext.apply(this, arguments)
            }, this.context_prototype.prototype = new n.EventContext, u(e) && e.apply(this, [this]), this._location_proxy || this.setLocationProxy(new n.DefaultLocationProxy(this, this.run_interval_every)), this.debug && this.bindToAllEvents(function(e, n) {
                t.log(t.toString(), e.cleaned_type, n || {})
            })
        }, n.Application.prototype = e.extend({}, n.Object.prototype, {ROUTE_VERBS: ["get", "post", "put", "delete"],APP_EVENTS: ["run", "unload", "lookup-route", "run-route", "route-found", "event-context-before", "event-context-after", "changed", "error", "check-form-submission", "redirect", "location-changed"],_last_route: null,_location_proxy: null,_running: !1,element_selector: "body",debug: !1,raise_errors: !1,run_interval_every: 50,disable_push_state: !1,template_engine: null,toString: function() {
                return "Sammy.Application:" + this.element_selector
            },$element: function(t) {
                return t ? e(this.element_selector).find(t) : e(this.element_selector)
            },use: function() {
                var e = o(arguments), t = e.shift(), r = t || "";
                try {
                    e.unshift(this), typeof t == "string" && (r = "Sammy." + t, t = n[t]), t.apply(this, e)
                } catch (i) {
                    typeof t == "undefined" ? this.error("Plugin Error: called use() but plugin (" + r.toString() + ") is not defined", i) : u(t) ? this.error("Plugin Error", i) : this.error("Plugin Error: called use() but '" + r.toString() + "' is not a function", i)
                }
                return this
            },setLocationProxy: function(e) {
                var t = this._location_proxy;
                this._location_proxy = e, this.isRunning() && (t && t.unbind(), this._location_proxy.bind())
            },log: function() {
                n.log.apply(n, Array.prototype.concat.apply([this.element_selector], arguments))
            },route: function(t, n) {
                var s = this, o = [], a, f, l = Array.prototype.slice.call(arguments, 2);
                l.length === 0 && u(n) && (n = t, l = [n], t = "any"), t = t.toLowerCase();
                if (n.constructor == String) {
                    i.lastIndex = 0;
                    while ((f = i.exec(n)) !== null)
                        o.push(f[1]);
                    n = new RegExp(n.replace(i, r) + "$")
                }
                return e.each(l, function(e, t) {
                    typeof t == "string" && (l[e] = s[t])
                }), a = function(e) {
                    var t = {verb: e,path: n,callback: l,param_names: o};
                    s.routes[e] = s.routes[e] || [], s.routes[e].push(t)
                }, t === "any" ? e.each(this.ROUTE_VERBS, function(e, t) {
                    a(t)
                }) : a(t), this
            },get: p("get"),post: p("post"),put: p("put"),del: p("delete"),any: p("any"),mapRoutes: function(t) {
                var n = this;
                return e.each(t, function(e, t) {
                    n.route.apply(n, t)
                }), this
            },eventNamespace: function() {
                return ["sammy-app", this.namespace].join("-")
            },bind: function(e, t, n) {
                var r = this;
                typeof n == "undefined" && (n = t);
                var i = function() {
                    var e, t, i;
                    e = arguments[0], i = arguments[1], i && i.context ? (t = i.context, delete i.context) : t = new r.context_prototype(r, "bind", e.type, i, e.target), e.cleaned_type = e.type.replace(r.eventNamespace(), ""), n.apply(t, [e, i])
                };
                return this.listeners[e] || (this.listeners[e] = []), this.listeners[e].push(i), this.isRunning() && this._listen(e, i), this
            },trigger: function(e, t) {
                return this.$element().trigger([e, this.eventNamespace()].join("."), [t]), this
            },refresh: function() {
                return this.last_location = null, this.trigger("location-changed"), this
            },before: function(e, t) {
                return u(e) && (t = e, e = {}), this.befores.push([e, t]), this
            },after: function(e) {
                return this.bind("event-context-after", e)
            },around: function(e) {
                return this.arounds.push(e), this
            },onComplete: function(e) {
                return this._onComplete = e, this
            },isRunning: function() {
                return this._running
            },helpers: function(t) {
                return e.extend(this.context_prototype.prototype, t), this
            },helper: function(e, t) {
                return this.context_prototype.prototype[e] = t, this
            },run: function(r) {
                if (this.isRunning())
                    return !1;
                var i = this;
                return e.each(this.listeners.toHash(), function(t, n) {
                    e.each(n, function(e, n) {
                        i._listen(t, n)
                    })
                }), this.trigger("run", {start_url: r}), this._running = !0, this.last_location = null, !/\#(.+)/.test(this.getLocation()) && typeof r != "undefined" && this.setLocation(r), this._checkLocation(), this._location_proxy.bind(), this.bind("location-changed", function() {
                    i._checkLocation()
                }), this.bind("submit", function(t) {
                    if (!n.targetIsThisWindow(t))
                        return !0;
                    var r = i._checkFormSubmission(e(t.target).closest("form"));
                    return r === !1 ? t.preventDefault() : !1
                }), e(t).bind("unload", function() {
                    i.unload()
                }), this.trigger("changed")
            },unload: function() {
                if (!this.isRunning())
                    return !1;
                var t = this;
                return this.trigger("unload"), this._location_proxy.unbind(), this.$element().unbind("submit").removeClass(t.eventNamespace()), e.each(this.listeners.toHash(), function(n, r) {
                    e.each(r, function(e, r) {
                        t._unlisten(n, r)
                    })
                }), this._running = !1, this
            },destroy: function() {
                return this.unload(), delete n.apps[this.element_selector], this
            },bindToAllEvents: function(t) {
                var n = this;
                return e.each(this.APP_EVENTS, function(e, r) {
                    n.bind(r, t)
                }), e.each(this.listeners.keys(!0), function(r, i) {
                    e.inArray(i, n.APP_EVENTS) == -1 && n.bind(i, t)
                }), this
            },routablePath: function(e) {
                return e.replace(s, "")
            },lookupRoute: function(e, t) {
                var n = this, r = !1, i = 0, s, o;
                if (typeof this.routes[e] != "undefined") {
                    s = this.routes[e].length;
                    for (; i < s; i++) {
                        o = this.routes[e][i];
                        if (n.routablePath(t).match(o.path)) {
                            r = o;
                            break
                        }
                    }
                }
                return r
            },runRoute: function(t, n, r, i) {
                var s = this, o = this.lookupRoute(t, n), u, a, f, c, h, p, d, v, m;
                this.debug && this.log("runRoute", [t, n].join(" ")), this.trigger("run-route", {verb: t,path: n,params: r}), typeof r == "undefined" && (r = {}), e.extend(r, this._parseQueryString(n));
                if (o) {
                    this.trigger("route-found", {route: o}), (v = o.path.exec(this.routablePath(n))) !== null && (v.shift(), e.each(v, function(e, t) {
                        o.param_names[e] ? r[o.param_names[e]] = l(t) : (r.splat || (r.splat = []), r.splat.push(l(t)))
                    })), u = new this.context_prototype(this, t, n, r, i), f = this.arounds.slice(0), h = this.befores.slice(0), d = [u], r.splat && (d = d.concat(r.splat)), a = function() {
                        var e, t, n;
                        while (h.length > 0) {
                            p = h.shift();
                            if (s.contextMatchesOptions(u, p[0])) {
                                e = p[1].apply(u, [u]);
                                if (e === !1)
                                    return !1
                            }
                        }
                        return s.last_route = o, u.trigger("event-context-before", {context: u}), typeof o.callback == "function" && (o.callback = [o.callback]), o.callback && o.callback.length && (t = -1, n = function() {
                            t++, o.callback[t] ? e = o.callback[t].apply(u, d) : s._onComplete && typeof (s._onComplete === "function") && s._onComplete(u)
                        }, d.push(n), n()), u.trigger("event-context-after", {context: u}), e
                    }, e.each(f.reverse(), function(e, t) {
                        var n = a;
                        a = function() {
                            return t.apply(u, [n])
                        }
                    });
                    try {
                        m = a()
                    } catch (g) {
                        this.error(["500 Error", t, n].join(" "), g)
                    }
                    return m
                }
                return this.notFound(t, n)
            },contextMatchesOptions: function(t, n, r) {
                var i = n;
                if (typeof i == "string" || f(i))
                    i = {path: i};
                typeof r == "undefined" && (r = !0);
                if (e.isEmptyObject(i))
                    return !0;
                if (a(i.path)) {
                    var s, o, u, l;
                    s = [];
                    for (o = 0, l = i.path.length; o < l; o += 1)
                        u = e.extend({}, i, {path: i.path[o]}), s.push(this.contextMatchesOptions(t, u));
                    var c = e.inArray(!0, s) > -1 ? !0 : !1;
                    return r ? c : !c
                }
                if (i.only)
                    return this.contextMatchesOptions(t, i.only, !0);
                if (i.except)
                    return this.contextMatchesOptions(t, i.except, !1);
                var h = !0, p = !0;
                return i.path && (f(i.path) || (i.path = new RegExp(i.path.toString() + "$")), h = i.path.test(t.path)), i.verb && (typeof i.verb == "string" ? p = i.verb === t.verb : p = i.verb.indexOf(t.verb) > -1), r ? p && h : !p || !h
            },getLocation: function() {
                return this._location_proxy.getLocation()
            },setLocation: function(e) {
                return this._location_proxy.setLocation(e)
            },swap: function(e, t) {
                var n = this.$element().html(e);
                return u(t) && t(e), n
            },templateCache: function(e, t) {
                return typeof t != "undefined" ? d[e] = t : d[e]
            },clearTemplateCache: function() {
                return d = {}
            },notFound: function(e, t) {
                var n = this.error(["404 Not Found", e, t].join(" "));
                return e === "get" ? n : !0
            },error: function(e, t) {
                t || (t = new Error), t.message = [e, t.message].join(" "), this.trigger("error", {message: t.message,error: t});
                if (this.raise_errors)
                    throw t;
                this.log(t.message, t)
            },_checkLocation: function() {
                var e, t;
                e = this.getLocation();
                if (!this.last_location || this.last_location[0] != "get" || this.last_location[1] != e)
                    this.last_location = ["get", e], t = this.runRoute("get", e);
                return t
            },_getFormVerb: function(t) {
                var n = e(t), r, i;
                i = n.find('input[name="_method"]'), i.length > 0 && (r = i.val()), r || (r = n[0].getAttribute("method"));
                if (!r || r === "")
                    r = "get";
                return e.trim(r.toString().toLowerCase())
            },_checkFormSubmission: function(t) {
                var n, r, i, s, o;
                return this.trigger("check-form-submission", {form: t}), n = e(t), r = n.attr("action") || "", i = this._getFormVerb(n), this.debug && this.log("_checkFormSubmission", n, r, i), i === "get" ? (s = this._serializeFormParams(n), s !== "" && (r += "?" + s), this.setLocation(r), o = !1) : (s = e.extend({}, this._parseFormParams(n)), o = this.runRoute(i, r, s, t.get(0))), typeof o == "undefined" ? !1 : o
            },_serializeFormParams: function(e) {
                var t = "", n = e.serializeArray(), r;
                if (n.length > 0) {
                    t = this._encodeFormPair(n[0].name, n[0].value);
                    for (r = 1; r < n.length; r++)
                        t = t + "&" + this._encodeFormPair(n[r].name, n[r].value)
                }
                return t
            },_encodeFormPair: function(e, t) {
                return c(e) + "=" + c(t)
            },_parseFormParams: function(e) {
                var t = {}, n = e.serializeArray(), r;
                for (r = 0; r < n.length; r++)
                    t = this._parseParamPair(t, n[r].name, n[r].value);
                return t
            },_parseQueryString: function(e) {
                var t = {}, n, r, i, o;
                n = e.match(s);
                if (n && n[1]) {
                    r = n[1].split("&");
                    for (o = 0; o < r.length; o++)
                        i = r[o].split("="), t = this._parseParamPair(t, l(i[0]), l(i[1] || ""))
                }
                return t
            },_parseParamPair: function(e, t, n) {
                return typeof e[t] != "undefined" ? a(e[t]) ? e[t].push(n) : e[t] = [e[t], n] : e[t] = n, e
            },_listen: function(e, t) {
                return this.$element().bind([e, this.eventNamespace()].join("."), t)
            },_unlisten: function(e, t) {
                return this.$element().unbind([e, this.eventNamespace()].join("."), t)
            }}), n.RenderContext = function(e) {
            this.event_context = e, this.callbacks = [], this.previous_content = null, this.content = null, this.next_engine = !1, this.waiting = !1
        }, n.RenderContext.prototype = e.extend({}, n.Object.prototype, {then: function(e) {
                if (!u(e)) {
                    if (!(typeof e == "string" && e in this.event_context))
                        return this;
                    var n = this.event_context[e];
                    e = function(e) {
                        return n.apply(this.event_context, [e])
                    }
                }
                var r = this;
                return this.waiting ? this.callbacks.push(e) : (this.wait(), t.setTimeout(function() {
                    var t = e.apply(r, [r.content, r.previous_content]);
                    t !== !1 && r.next(t)
                }, 0)), this
            },wait: function() {
                this.waiting = !0
            },next: function(e) {
                this.waiting = !1, typeof e != "undefined" && (this.previous_content = this.content, this.content = e), this.callbacks.length > 0 && this.then(this.callbacks.shift())
            },load: function(t, n, r) {
                var i = this;
                return this.then(function() {
                    var s, o, a, f;
                    u(n) ? (r = n, n = {}) : n = e.extend({}, n), r && this.then(r);
                    if (typeof t == "string")
                        return a = t.match(/\.json$/) || n.json, s = a ? n.cache === !0 : n.cache !== !1, i.next_engine = i.event_context.engineFor(t), delete n.cache, delete n.json, n.engine && (i.next_engine = n.engine, delete n.engine), s && (o = this.event_context.app.templateCache(t)) ? o : (this.wait(), e.ajax(e.extend({url: t,data: {},dataType: a ? "json" : "text",type: "get",success: function(e) {
                                s && i.event_context.app.templateCache(t, e), i.next(e)
                            }}, n)), !1);
                    if (t.nodeType)
                        return t.innerHTML;
                    if (t.selector)
                        return i.next_engine = t.attr("data-engine"), n.clone === !1 ? t.remove()[0].innerHTML.toString() : t[0].innerHTML.toString()
                })
            },loadPartials: function(e) {
                var t;
                if (e) {
                    this.partials = this.partials || {};
                    for (t in e)
                        (function(t, n) {
                            t.load(e[n]).then(function(e) {
                                this.partials[n] = e
                            })
                        })(this, t)
                }
                return this
            },render: function(e, t, n, r) {
                return u(e) && !t ? this.then(e) : (u(t) ? (r = n, n = t, t = null) : n && !u(n) && (r = n, n = null), this.loadPartials(r).load(e).interpolate(t, e).then(n))
            },partial: function(e, t, n, r) {
                return u(n) ? this.render(e, t, r).swap(n) : u(t) ? this.render(e, {}, n).swap(t) : this.render(e, t, n).swap()
            },send: function() {
                var e = this, t = o(arguments), n = t.shift();
                return a(t[0]) && (t = t[0]), this.then(function(r) {
                    return t.push(function(t) {
                        e.next(t)
                    }), e.wait(), n.apply(n, t), !1
                })
            },collect: function(t, n, r) {
                var i = this, s = function() {
                    u(t) && (n = t, t = this.content);
                    var r = [], s = !1;
                    return e.each(t, function(e, t) {
                        var o = n.apply(i, [e, t]);
                        return o.jquery && o.length == 1 && (o = o[0], s = !0), r.push(o), o
                    }), s ? r : r.join("")
                };
                return r ? s() : this.then(s)
            },renderEach: function(t, n, r, i) {
                return a(n) && (i = r, r = n, n = null), this.load(t).then(function(s) {
                    var o = this;
                    r || (r = a(this.previous_content) ? this.previous_content : []);
                    if (!i)
                        return this.collect(r, function(e, r) {
                            var i = {}, o = this.next_engine || t;
                            return n ? i[n] = r : i = r, this.event_context.interpolate(s, i, o)
                        }, !0);
                    e.each(r, function(e, r) {
                        var u = {}, a = this.next_engine || t;
                        n ? u[n] = r : u = r, i(r, o.event_context.interpolate(s, u, a))
                    })
                })
            },interpolate: function(e, t, n) {
                var r = this;
                return this.then(function(i, s) {
                    !e && s && (e = s), this.next_engine && (t = this.next_engine, this.next_engine = !1);
                    var o = r.event_context.interpolate(i, e, t, this.partials);
                    return n ? s + o : o
                })
            },swap: function(e) {
                return this.then(function(t) {
                    return this.event_context.swap(t, e), t
                }).trigger("changed", {})
            },appendTo: function(t) {
                return this.then(function(n) {
                    e(t).append(n)
                }).trigger("changed", {})
            },prependTo: function(t) {
                return this.then(function(n) {
                    e(t).prepend(n)
                }).trigger("changed", {})
            },replace: function(t) {
                return this.then(function(n) {
                    e(t).html(n)
                }).trigger("changed", {})
            },trigger: function(e, t) {
                return this.then(function(n) {
                    return typeof t == "undefined" && (t = {content: n}), this.event_context.trigger(e, t), n
                })
            }}), n.EventContext = function(e, t, r, i, s) {
            this.app = e, this.verb = t, this.path = r, this.params = new n.Object(i), this.target = s
        }, n.EventContext.prototype = e.extend({}, n.Object.prototype, {$element: function() {
                return this.app.$element(o(arguments).shift())
            },engineFor: function(e) {
                var t = this, n;
                if (u(e))
                    return e;
                e = (e || t.app.template_engine).toString();
                if (n = e.match(/\.([^\.\?\#]+)$/))
                    e = n[1];
                return e && u(t[e]) ? t[e] : t.app.template_engine ? this.engineFor(t.app.template_engine) : function(e, t) {
                    return e
                }
            },interpolate: function(e, t, n, r) {
                return this.engineFor(n).apply(this, [e, t, r])
            },render: function(e, t, r, i) {
                return (new n.RenderContext(this)).render(e, t, r, i)
            },renderEach: function(e, t, r, i) {
                return (new n.RenderContext(this)).renderEach(e, t, r, i)
            },load: function(e, t, r) {
                return (new n.RenderContext(this)).load(e, t, r)
            },loadPartials: function(e) {
                return (new n.RenderContext(this)).loadPartials(e)
            },partial: function(e, t, r, i) {
                return (new n.RenderContext(this)).partial(e, t, r, i)
            },send: function() {
                var e = new n.RenderContext(this);
                return e.send.apply(e, arguments)
            },redirect: function() {
                var t, n = o(arguments), r = this.app.getLocation(), i = n.length;
                if (i > 1) {
                    var s = 0, u = [], a = [], f = {}, l = !1;
                    for (; s < i; s++)
                        typeof n[s] == "string" ? u.push(n[s]) : (e.extend(f, n[s]), l = !0);
                    t = u.join("/");
                    if (l) {
                        for (var c in f)
                            a.push(this.app._encodeFormPair(c, f[c]));
                        t += "?" + a.join("&")
                    }
                } else
                    t = n[0];
                this.trigger("redirect", {to: t}), this.app.last_location = [this.verb, this.path], this.app.setLocation(t), (new RegExp(t)).test(r) && this.app.trigger("location-changed")
            },trigger: function(e, t) {
                return typeof t == "undefined" && (t = {}), t.context || (t.context = this), this.app.trigger(e, t)
            },eventNamespace: function() {
                return this.app.eventNamespace()
            },swap: function(e, t) {
                return this.app.swap(e, t)
            },notFound: function() {
                return this.app.notFound(this.verb, this.path)
            },json: function(t) {
                return e.parseJSON(t)
            },toString: function() {
                return "Sammy.EventContext: " + [this.verb, this.path, this.params].join(" ")
            }}), n
    })
})(jQuery, window);
;
(function(window, undefined) {
    var TraceKit = {};
    var _oldTraceKit = window.TraceKit;
    var _slice = [].slice;
    var UNKNOWN_FUNCTION = '?';
    function _has(object, key) {
        return Object.prototype.hasOwnProperty.call(object, key);
    }
    function _isUndefined(what) {
        return typeof what === 'undefined';
    }
    TraceKit.noConflict = function noConflict() {
        window.TraceKit = _oldTraceKit;
        return TraceKit;
    };
    TraceKit.wrap = function traceKitWrapper(func) {
        function wrapped() {
            try {
                return func.apply(this, arguments);
            } catch (e) {
                TraceKit.report(e);
                throw e;
            }
        }
        return wrapped;
    };
    TraceKit.report = (function reportModuleWrapper() {
        var handlers = [], lastException = null, lastExceptionStack = null;
        function subscribe(handler) {
            handlers.push(handler);
        }
        function unsubscribe(handler) {
            for (var i = handlers.length - 1; i >= 0; --i) {
                if (handlers[i] === handler) {
                    handlers.splice(i, 1);
                }
            }
        }
        function notifyHandlers(stack, windowError) {
            var exception = null;
            if (windowError && !TraceKit.collectWindowErrors) {
                return;
            }
            for (var i in handlers) {
                if (_has(handlers, i)) {
                    try {
                        handlers[i].apply(null, [stack].concat(_slice.call(arguments, 2)));
                    } catch (inner) {
                        exception = inner;
                    }
                }
            }
            if (exception) {
                throw exception;
            }
        }
        var _oldOnerrorHandler = window.onerror;
        window.onerror = function traceKitWindowOnError(message, url, lineNo) {
            var stack = null;
            if (lastExceptionStack) {
                TraceKit.computeStackTrace.augmentStackTraceWithInitialElement(lastExceptionStack, url, lineNo, message);
                stack = lastExceptionStack;
                lastExceptionStack = null;
                lastException = null;
            } else {
                var location = {'url': url,'line': lineNo};
                location.func = TraceKit.computeStackTrace.guessFunctionName(location.url, location.line);
                location.context = TraceKit.computeStackTrace.gatherContext(location.url, location.line);
                stack = {'mode': 'onerror','message': message,'url': document.location.href,'stack': [location],'useragent': navigator.userAgent};
            }
            notifyHandlers(stack, 'from window.onerror');
            if (_oldOnerrorHandler) {
                return _oldOnerrorHandler.apply(this, arguments);
            }
            return false;
        };
        function report(ex) {
            var args = _slice.call(arguments, 1);
            if (lastExceptionStack) {
                if (lastException === ex) {
                    return;
                } else {
                    var s = lastExceptionStack;
                    lastExceptionStack = null;
                    lastException = null;
                    notifyHandlers.apply(null, [s, null].concat(args));
                }
            }
            var stack = TraceKit.computeStackTrace(ex);
            lastExceptionStack = stack;
            lastException = ex;
            window.setTimeout(function() {
                if (lastException === ex) {
                    lastExceptionStack = null;
                    lastException = null;
                    notifyHandlers.apply(null, [stack, null].concat(args));
                }
            }, (stack.incomplete ? 2000 : 0));
            throw ex;
        }
        report.subscribe = subscribe;
        report.unsubscribe = unsubscribe;
        return report;
    }());
    TraceKit.computeStackTrace = (function computeStackTraceWrapper() {
        var debug = false, sourceCache = {};
        function loadSource(url) {
            if (!TraceKit.remoteFetching) {
                return '';
            }
            try {
                function getXHR() {
                    try {
                        return new window.XMLHttpRequest();
                    } catch (e) {
                        return new window.ActiveXObject('Microsoft.XMLHTTP');
                    }
                }
                var request = getXHR();
                request.open('GET', url, false);
                request.send('');
                return request.responseText;
            } catch (e) {
                return '';
            }
        }
        function getSource(url) {
            if (!_has(sourceCache, url)) {
                var source = '';
                if (url.indexOf(document.domain) !== -1) {
                    source = loadSource(url);
                }
                sourceCache[url] = source ? source.split('\n') : [];
            }
            return sourceCache[url];
        }
        function guessFunctionName(url, lineNo) {
            var reFunctionArgNames = /function ([^(]*)\(([^)]*)\)/, reGuessFunction = /['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/, line = '', maxLines = 10, source = getSource(url), m;
            if (!source.length) {
                return UNKNOWN_FUNCTION;
            }
            for (var i = 0; i < maxLines; ++i) {
                line = source[lineNo - i] + line;
                if (!_isUndefined(line)) {
                    if ((m = reGuessFunction.exec(line))) {
                        return m[1];
                    } else if ((m = reFunctionArgNames.exec(line))) {
                        return m[1];
                    }
                }
            }
            return UNKNOWN_FUNCTION;
        }
        function gatherContext(url, line) {
            var source = getSource(url);
            if (!source.length) {
                return null;
            }
            var context = [], linesBefore = Math.floor(TraceKit.linesOfContext / 2), linesAfter = linesBefore + (TraceKit.linesOfContext % 2), start = Math.max(0, line - linesBefore - 1), end = Math.min(source.length, line + linesAfter - 1);
            line -= 1;
            for (var i = start; i < end; ++i) {
                if (!_isUndefined(source[i])) {
                    context.push(source[i]);
                }
            }
            return context.length > 0 ? context : null;
        }
        function escapeRegExp(text) {
            return text.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g, '\\$&');
        }
        function escapeCodeAsRegExpForMatchingInsideHTML(body) {
            return escapeRegExp(body).replace('<', '(?:<|&lt;)').replace('>', '(?:>|&gt;)').replace('&', '(?:&|&amp;)').replace('"', '(?:"|&quot;)').replace(/\s+/g, '\\s+');
        }
        function findSourceInUrls(re, urls) {
            var source, m;
            for (var i = 0, j = urls.length; i < j; ++i) {
                if ((source = getSource(urls[i])).length) {
                    source = source.join('\n');
                    if ((m = re.exec(source))) {
                        return {'url': urls[i],'line': source.substring(0, m.index).split('\n').length,'column': m.index - source.lastIndexOf('\n', m.index) - 1};
                    }
                }
            }
            return null;
        }
        function findSourceInLine(fragment, url, line) {
            var source = getSource(url), re = new RegExp('\\b' + escapeRegExp(fragment) + '\\b'), m;
            line -= 1;
            if (source && source.length > line && (m = re.exec(source[line]))) {
                return m.index;
            }
            return null;
        }
        function findSourceByFunctionBody(func) {
            var urls = [window.location.href], scripts = document.getElementsByTagName('script'), body, code = '' + func, codeRE = /^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/, eventRE = /^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/, re, parts, result;
            for (var i = 0; i < scripts.length; ++i) {
                var script = scripts[i];
                if (script.src) {
                    urls.push(script.src);
                }
            }
            if (!(parts = codeRE.exec(code))) {
                re = new RegExp(escapeRegExp(code).replace(/\s+/g, '\\s+'));
            } 
            else {
                var name = parts[1] ? '\\s+' + parts[1] : '', args = parts[2].split(',').join('\\s*,\\s*');
                body = escapeRegExp(parts[3]).replace(/;$/, ';?');
                re = new RegExp('function' + name + '\\s*\\(\\s*' + args + '\\s*\\)\\s*{\\s*' + body + '\\s*}');
            }
            if ((result = findSourceInUrls(re, urls))) {
                return result;
            }
            if ((parts = eventRE.exec(code))) {
                var event = parts[1];
                body = escapeCodeAsRegExpForMatchingInsideHTML(parts[2]);
                re = new RegExp('on' + event + '=[\\\'"]\\s*' + body + '\\s*[\\\'"]', 'i');
                if ((result = findSourceInUrls(re, urls[0]))) {
                    return result;
                }
                re = new RegExp(body);
                if ((result = findSourceInUrls(re, urls))) {
                    return result;
                }
            }
            return null;
        }
        function computeStackTraceFromStackProp(ex) {
            if (!ex.stack) {
                return null;
            }
            var chrome = /^\s*at (?:((?:\[object object\])?\S+) )?\(?((?:file|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i, gecko = /^\s*(\S*)(?:\((.*?)\))?@((?:file|http|https).*?):(\d+)(?::(\d+))?\s*$/i, lines = ex.stack.split('\n'), stack = [], parts, element, reference = /^(.*) is undefined$/.exec(ex.message);
            for (var i = 0, j = lines.length; i < j; ++i) {
                if ((parts = gecko.exec(lines[i]))) {
                    element = {'url': parts[3],'func': parts[1] || UNKNOWN_FUNCTION,'args': parts[2] ? parts[2].split(',') : '','line': +parts[4],'column': parts[5] ? +parts[5] : null};
                } else if ((parts = chrome.exec(lines[i]))) {
                    element = {'url': parts[2],'func': parts[1] || UNKNOWN_FUNCTION,'line': +parts[3],'column': parts[4] ? +parts[4] : null};
                } else {
                    continue;
                }
                if (!element.func && element.line) {
                    element.func = guessFunctionName(element.url, element.line);
                }
                if (element.line) {
                    element.context = gatherContext(element.url, element.line);
                }
                stack.push(element);
            }
            if (stack[0] && stack[0].line && !stack[0].column && reference) {
                stack[0].column = findSourceInLine(reference[1], stack[0].url, stack[0].line);
            }
            if (!stack.length) {
                return null;
            }
            return {'mode': 'stack','name': ex.name,'message': ex.message,'url': document.location.href,'stack': stack,'useragent': navigator.userAgent};
        }
        function computeStackTraceFromStacktraceProp(ex) {
            var stacktrace = ex.stacktrace;
            var testRE = / line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i, lines = stacktrace.split('\n'), stack = [], parts;
            for (var i = 0, j = lines.length; i < j; i += 2) {
                if ((parts = testRE.exec(lines[i]))) {
                    var element = {'line': +parts[1],'column': +parts[2],'func': parts[3] || parts[4],'args': parts[5] ? parts[5].split(',') : [],'url': parts[6]};
                    if (!element.func && element.line) {
                        element.func = guessFunctionName(element.url, element.line);
                    }
                    if (element.line) {
                        try {
                            element.context = gatherContext(element.url, element.line);
                        } catch (exc) {
                        }
                    }
                    if (!element.context) {
                        element.context = [lines[i + 1]];
                    }
                    stack.push(element);
                }
            }
            if (!stack.length) {
                return null;
            }
            return {'mode': 'stacktrace','name': ex.name,'message': ex.message,'url': document.location.href,'stack': stack,'useragent': navigator.userAgent};
        }
        function computeStackTraceFromOperaMultiLineMessage(ex) {
            var lines = ex.message.split('\n');
            if (lines.length < 4) {
                return null;
            }
            var lineRE1 = /^\s*Line (\d+) of linked script ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i, lineRE2 = /^\s*Line (\d+) of inline#(\d+) script in ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i, lineRE3 = /^\s*Line (\d+) of function script\s*$/i, stack = [], scripts = document.getElementsByTagName('script'), inlineScriptBlocks = [], parts, i, len, source;
            for (i in scripts) {
                if (_has(scripts, i) && !scripts[i].src) {
                    inlineScriptBlocks.push(scripts[i]);
                }
            }
            for (i = 2, len = lines.length; i < len; i += 2) {
                var item = null;
                if ((parts = lineRE1.exec(lines[i]))) {
                    item = {'url': parts[2],'func': parts[3],'line': +parts[1]};
                } else if ((parts = lineRE2.exec(lines[i]))) {
                    item = {'url': parts[3],'func': parts[4]};
                    var relativeLine = (+parts[1]);
                    var script = inlineScriptBlocks[parts[2] - 1];
                    if (script) {
                        source = getSource(item.url);
                        if (source) {
                            source = source.join('\n');
                            var pos = source.indexOf(script.innerText);
                            if (pos >= 0) {
                                item.line = relativeLine + source.substring(0, pos).split('\n').length;
                            }
                        }
                    }
                } else if ((parts = lineRE3.exec(lines[i]))) {
                    var url = window.location.href.replace(/#.*$/, ''), line = parts[1];
                    var re = new RegExp(escapeCodeAsRegExpForMatchingInsideHTML(lines[i + 1]));
                    source = findSourceInUrls(re, [url]);
                    item = {'url': url,'line': source ? source.line : line,'func': ''};
                }
                if (item) {
                    if (!item.func) {
                        item.func = guessFunctionName(item.url, item.line);
                    }
                    var context = gatherContext(item.url, item.line);
                    var midline = (context ? context[Math.floor(context.length / 2)] : null);
                    if (context && midline.replace(/^\s*/, '') === lines[i + 1].replace(/^\s*/, '')) {
                        item.context = context;
                    } else {
                        item.context = [lines[i + 1]];
                    }
                    stack.push(item);
                }
            }
            if (!stack.length) {
                return null;
            }
            return {'mode': 'multiline','name': ex.name,'message': lines[0],'url': document.location.href,'stack': stack,'useragent': navigator.userAgent};
        }
        function augmentStackTraceWithInitialElement(stackInfo, url, lineNo, message) {
            var initial = {'url': url,'line': lineNo};
            if (initial.url && initial.line) {
                stackInfo.incomplete = false;
                if (!initial.func) {
                    initial.func = guessFunctionName(initial.url, initial.line);
                }
                if (!initial.context) {
                    initial.context = gatherContext(initial.url, initial.line);
                }
                var reference = / '([^']+)' /.exec(message);
                if (reference) {
                    initial.column = findSourceInLine(reference[1], initial.url, initial.line);
                }
                if (stackInfo.stack.length > 0) {
                    if (stackInfo.stack[0].url === initial.url) {
                        if (stackInfo.stack[0].line === initial.line) {
                            return false;
                        } else if (!stackInfo.stack[0].line && stackInfo.stack[0].func === initial.func) {
                            stackInfo.stack[0].line = initial.line;
                            stackInfo.stack[0].context = initial.context;
                            return false;
                        }
                    }
                }
                stackInfo.stack.unshift(initial);
                stackInfo.partial = true;
                return true;
            } else {
                stackInfo.incomplete = true;
            }
            return false;
        }
        function computeStackTraceByWalkingCallerChain(ex, depth) {
            var functionName = /function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i, stack = [], funcs = {}, recursion = false, parts, item, source;
            for (var curr = computeStackTraceByWalkingCallerChain.caller; curr && !recursion; curr = curr.caller) {
                if (curr === computeStackTrace || curr === TraceKit.report) {
                    continue;
                }
                item = {'url': null,'func': UNKNOWN_FUNCTION,'line': null,'column': null};
                if (curr.name) {
                    item.func = curr.name;
                } else if ((parts = functionName.exec(curr.toString()))) {
                    item.func = parts[1];
                }
                if ((source = findSourceByFunctionBody(curr))) {
                    item.url = source.url;
                    item.line = source.line;
                    if (item.func === UNKNOWN_FUNCTION) {
                        item.func = guessFunctionName(item.url, item.line);
                    }
                    var reference = / '([^']+)' /.exec(ex.message || ex.description);
                    if (reference) {
                        item.column = findSourceInLine(reference[1], source.url, source.line);
                    }
                }
                if (funcs['' + curr]) {
                    recursion = true;
                } else {
                    funcs['' + curr] = true;
                }
                stack.push(item);
            }
            if (depth) {
                stack.splice(0, depth);
            }
            var result = {'mode': 'callers','name': ex.name,'message': ex.message,'url': document.location.href,'stack': stack,'useragent': navigator.userAgent};
            augmentStackTraceWithInitialElement(result, ex.sourceURL || ex.fileName, ex.line || ex.lineNumber, ex.message || ex.description);
            return result;
        }
        function computeStackTrace(ex, depth) {
            var stack = null;
            depth = (depth == null ? 0 : +depth);
            try {
                stack = computeStackTraceFromStacktraceProp(ex);
                if (stack) {
                    return stack;
                }
            } catch (e) {
                if (debug) {
                    throw e;
                }
            }
            try {
                stack = computeStackTraceFromStackProp(ex);
                if (stack) {
                    return stack;
                }
            } catch (e) {
                if (debug) {
                    throw e;
                }
            }
            try {
                stack = computeStackTraceFromOperaMultiLineMessage(ex);
                if (stack) {
                    return stack;
                }
            } catch (e) {
                if (debug) {
                    throw e;
                }
            }
            try {
                stack = computeStackTraceByWalkingCallerChain(ex, depth + 1);
                if (stack) {
                    return stack;
                }
            } catch (e) {
                if (debug) {
                    throw e;
                }
            }
            return {'mode': 'failed'};
        }
        function computeStackTraceOfCaller(depth) {
            depth = (depth == null ? 0 : +depth) + 1;
            try {
                throw new Error();
            } catch (ex) {
                return computeStackTrace(ex, depth + 1);
            }
            return null;
        }
        computeStackTrace.augmentStackTraceWithInitialElement = augmentStackTraceWithInitialElement;
        computeStackTrace.guessFunctionName = guessFunctionName;
        computeStackTrace.gatherContext = gatherContext;
        computeStackTrace.ofCaller = computeStackTraceOfCaller;
        return computeStackTrace;
    }());
    (function extendToAsynchronousCallbacks() {
        var _helper = function _helper(fnName) {
            var originalFn = window[fnName];
            window[fnName] = function traceKitAsyncExtension() {
                var args = _slice.call(arguments);
                var originalCallback = args[0];
                if (typeof (originalCallback) === 'function') {
                    args[0] = TraceKit.wrap(originalCallback);
                }
                if (originalFn.apply) {
                    return originalFn.apply(this, args);
                } else {
                    return originalFn(args[0], args[1]);
                }
            };
        };
        _helper('setTimeout');
        _helper('setInterval');
    }());
    (function traceKitAsyncForjQuery($) {
        if (!$) {
            return;
        }
        var _oldEventAdd = $.event.add;
        $.event.add = function traceKitEventAdd(elem, types, handler, data, selector) {
            var _handler;
            if (handler.handler) {
                _handler = handler.handler;
                handler.handler = TraceKit.wrap(handler.handler);
            } else {
                _handler = handler;
                handler = TraceKit.wrap(handler);
            }
            if (_handler.guid) {
                handler.guid = _handler.guid;
            } else {
                handler.guid = _handler.guid = $.guid++;
            }
            return _oldEventAdd.call(this, elem, types, handler, data, selector);
        };
        var _oldReady = $.fn.ready;
        $.fn.ready = function traceKitjQueryReadyWrapper(fn) {
            return _oldReady.call(this, TraceKit.wrap(fn));
        };
        var _oldAjax = $.ajax;
        $.ajax = function traceKitAjaxWrapper(url, options) {
            var keys = ['complete', 'error', 'success'], key;
            if (typeof url === 'object') {
                options = url;
                url = undefined;
            }
            options = options || {};
            while (key = keys.pop()) {
                if ($.isFunction(options[key])) {
                    options[key] = TraceKit.wrap(options[key]);
                }
            }
            try {
                return _oldAjax.call(this, url, options);
            } catch (e) {
                TraceKit.report(e);
                throw e;
            }
        };
    }(window.jQuery));
    if (!TraceKit.remoteFetching) {
        TraceKit.remoteFetching = true;
    }
    if (!TraceKit.collectWindowErrors) {
        TraceKit.collectWindowErrors = true;
    }
    if (!TraceKit.linesOfContext || TraceKit.linesOfContext < 1) {
        TraceKit.linesOfContext = 11;
    }
    window.TraceKit = TraceKit;
}(window));
;
(function(window, undefined) {
    'use strict';
    var _Raven = window.Raven, hasJSON = !isUndefined(window.JSON), globalServer, globalUser, globalKey, globalProject, globalOptions = {logger: 'javascript',ignoreErrors: [],ignoreUrls: []};
    var TK = TraceKit.noConflict();
    TK.remoteFetching = false;
    var Raven = {VERSION: '1.0.8',noConflict: function() {
            window.Raven = _Raven;
            return Raven;
        },config: function(dsn, options) {
            var uri = parseUri(dsn), lastSlash = uri.path.lastIndexOf('/'), path = uri.path.substr(1, lastSlash);
            if (options && options.ignoreErrors && window.console && console.warn) {
                console.warn('DeprecationWarning: `ignoreErrors` is going to be removed soon.');
            }
            if (options) {
                each(options, function(key, value) {
                    globalOptions[key] = value;
                });
            }
            globalOptions.ignoreErrors.push('Script error.');
            globalKey = uri.user;
            globalProject = ~~uri.path.substr(lastSlash + 1);
            globalServer = '//' + uri.host + 
            (uri.port ? ':' + uri.port : '') + '/' + path + 'api/' + globalProject + '/store/';
            if (uri.protocol) {
                globalServer = uri.protocol + ':' + globalServer;
            }
            if (globalOptions.fetchContext) {
                TK.remoteFetching = true;
            }
            return Raven;
        },install: function() {
            if (!isSetup())
                return;
            TK.report.subscribe(handleStackInfo);
            return Raven;
        },context: function(options, func, args) {
            if (isFunction(options)) {
                args = func || [];
                func = options;
                options = undefined;
            }
            Raven.wrap(options, func).apply(this, args);
        },wrap: function(options, func) {
            if (isFunction(options)) {
                func = options;
                options = undefined;
            }
            return function() {
                try {
                    func.apply(this, arguments);
                } catch (e) {
                    Raven.captureException(e, options);
                    throw e;
                }
            };
        },uninstall: function() {
            TK.report.unsubscribe(handleStackInfo);
            return Raven;
        },captureException: function(ex, options) {
            if (typeof ex === 'string') {
                return Raven.captureMessage(ex, options);
            }
            try {
                TK.report(ex, options);
            } catch (ex1) {
                if (ex !== ex1) {
                    throw ex1;
                }
            }
            return Raven;
        },captureMessage: function(msg, options) {
            send(arrayMerge({message: msg}, options));
            return Raven;
        },setUser: function(user) {
            globalUser = user;
            return Raven;
        }};
    var uriKeys = 'source protocol authority userInfo user password host port relative path directory file query anchor'.split(' '), uriPattern = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;
    function parseUri(str) {
        var m = uriPattern.exec(str), uri = {}, i = 14;
        while (i--)
            uri[uriKeys[i]] = m[i] || '';
        return uri;
    }
    function isUndefined(what) {
        return typeof what === 'undefined';
    }
    function isFunction(what) {
        return typeof what === 'function';
    }
    function each(obj, callback) {
        var i, j;
        if (isUndefined(obj.length)) {
            for (i in obj) {
                if (obj.hasOwnProperty(i)) {
                    callback.call(null, i, obj[i]);
                }
            }
        } else {
            for (i = 0, j = obj.length; i < j; i++) {
                callback.call(null, i, obj[i]);
            }
        }
    }
    var cachedAuth;
    function getAuthQueryString() {
        if (cachedAuth)
            return cachedAuth;
        var qs = ['sentry_version=2.0', 'sentry_client=raven-js/' + Raven.VERSION];
        if (globalKey) {
            qs.push('sentry_key=' + globalKey);
        }
        cachedAuth = '?' + qs.join('&');
        return cachedAuth;
    }
    function handleStackInfo(stackInfo, options) {
        var frames = [], i = 0, j, frame;
        if (stackInfo.stack && (j = stackInfo.stack.length)) {
            for (; i < j; i++) {
                frame = normalizeFrame(stackInfo.stack[i]);
                if (frame) {
                    frames.push(frame);
                }
            }
        }
        processException(stackInfo.name, stackInfo.message, stackInfo.url, stackInfo.lineno, frames, options);
    }
    function normalizeFrame(frame) {
        if (!frame.url)
            return;
        var normalized = {filename: frame.url,lineno: frame.line,colno: frame.column,'function': frame.func || '?'}, context = extractContextFromFrame(frame);
        if (context) {
            var i = 3, keys = ['pre_context', 'context_line', 'post_context'];
            while (i--)
                normalized[keys[i]] = context[i];
        }
        normalized.in_app = !/(Raven|TraceKit)\./.test(normalized['function']);
        return normalized;
    }
    function extractContextFromFrame(frame) {
        if (!frame.context || !globalOptions.fetchContext)
            return;
        var context = frame.context, pivot = ~~(context.length / 2), i = context.length, isMinified = false;
        while (i--) {
            if (context[i].length > 300) {
                isMinified = true;
                break;
            }
        }
        if (isMinified) {
            if (isUndefined(frame.column))
                return;
            return [[], context[pivot].substr(frame.column, 50), []];
        }
        return [context.slice(0, pivot), context[pivot], context.slice(pivot + 1)];
    }
    function processException(type, message, fileurl, lineno, frames, options) {
        var stacktrace, label, i;
        i = globalOptions.ignoreErrors.length;
        while (i--) {
            if (message === globalOptions.ignoreErrors[i]) {
                return;
            }
        }
        if (frames && frames.length) {
            stacktrace = {frames: frames};
            fileurl = fileurl || frames[0].filename;
        } else if (fileurl) {
            stacktrace = {frames: [{filename: fileurl,lineno: lineno}]};
        }
        i = globalOptions.ignoreUrls.length;
        while (i--) {
            if (globalOptions.ignoreUrls[i].test(fileurl)) {
                return;
            }
        }
        label = lineno ? message + ' at ' + lineno : message;
        send(arrayMerge({'sentry.interfaces.Exception': {type: type,value: message},'sentry.interfaces.Stacktrace': stacktrace,culprit: fileurl,message: label}, options));
    }
    function arrayMerge(arr1, arr2) {
        if (!arr2) {
            return arr1;
        }
        each(arr2, function(key, value) {
            arr1[key] = value;
        });
        return arr1;
    }
    function getHttpData() {
        var http = {url: window.location.href,headers: {'User-Agent': navigator.userAgent}};
        if (window.document.referrer) {
            http.headers.Referer = window.document.referrer;
        }
        return http;
    }
    function send(data) {
        if (!isSetup())
            return;
        data = arrayMerge({project: globalProject,logger: globalOptions.logger,site: globalOptions.site,platform: 'javascript','sentry.interfaces.Http': getHttpData()}, data);
        if (globalUser)
            data['sentry.interfaces.User'] = globalUser;
        if (isFunction(globalOptions.dataCallback)) {
            data = globalOptions.dataCallback(data);
        }
        makeRequest(data);
    }
    function makeRequest(data) {
        new Image().src = globalServer + getAuthQueryString() + '&sentry_data=' + encodeURIComponent(JSON.stringify(data));
    }
    function isSetup() {
        if (!hasJSON)
            return false;
        if (!globalServer) {
            if (window.console && console.error) {
                console.error("Error: Raven has not been configured.");
            }
            return false;
        }
        return true;
    }
    window.Raven = Raven;
    if (typeof define === 'function' && define.amd) {
        define('raven', [], function() {
            return Raven;
        });
    }
})(window);
!function($) {
    "use strict";
    var Modal = function(element, options) {
        this.options = options
        this.$element = $(element).delegate('[data-dismiss="modal"]', 'click.dismiss.modal', $.proxy(this.hide, this))
        this.options.remote && this.$element.find('.modal-body').load(this.options.remote)
    }
    Modal.prototype = {constructor: Modal,toggle: function() {
            return this[!this.isShown ? 'show' : 'hide']()
        },show: function() {
            var that = this, e = $.Event('show')
            this.$element.trigger(e)
            if (this.isShown || e.isDefaultPrevented())
                return
            $('body').addClass('modal-open')
            this.isShown = true
            this.escape()
            this.backdrop(function() {
                var transition = $.support.transition && that.$element.hasClass('fade')
                if (!that.$element.parent().length) {
                    that.$element.appendTo(document.body)
                }
                that.$element.show()
                if (transition) {
                    that.$element[0].offsetWidth
                }
                that.$element.addClass('in').attr('aria-hidden', false).focus()
                that.enforceFocus()
                transition ? that.$element.one($.support.transition.end, function() {
                    that.$element.trigger('shown')
                }) : that.$element.trigger('shown')
            })
        },hide: function(e) {
            e && e.preventDefault()
            var that = this
            e = $.Event('hide')
            this.$element.trigger(e)
            if (!this.isShown || e.isDefaultPrevented())
                return
            this.isShown = false
            $('body').removeClass('modal-open')
            this.escape()
            $(document).off('focusin.modal')
            this.$element.removeClass('in').attr('aria-hidden', true)
            $.support.transition && this.$element.hasClass('fade') ? this.hideWithTransition() : this.hideModal()
        },enforceFocus: function() {
            var that = this
            $(document).on('focusin.modal', function(e) {
                if (that.$element[0] !== e.target && !that.$element.has(e.target).length) {
                    that.$element.focus()
                }
            })
        },escape: function() {
            var that = this
            if (this.isShown && this.options.keyboard) {
                this.$element.on('keyup.dismiss.modal', function(e) {
                    e.which == 27 && that.hide()
                })
            } else if (!this.isShown) {
                this.$element.off('keyup.dismiss.modal')
            }
        },hideWithTransition: function() {
            var that = this, timeout = setTimeout(function() {
                that.$element.off($.support.transition.end)
                that.hideModal()
            }, 500)
            this.$element.one($.support.transition.end, function() {
                clearTimeout(timeout)
                that.hideModal()
            })
        },hideModal: function(that) {
            this.$element.hide().trigger('hidden')
            this.backdrop()
        },removeBackdrop: function() {
            this.$backdrop.remove()
            this.$backdrop = null
        },backdrop: function(callback) {
            var that = this, animate = this.$element.hasClass('fade') ? 'fade' : ''
            if (this.isShown && this.options.backdrop) {
                var doAnimate = $.support.transition && animate
                this.$backdrop = $('<div class="modal-backdrop ' + animate + '" />').appendTo(document.body)
                if (this.options.backdrop != 'static') {
                    this.$backdrop.click($.proxy(this.hide, this))
                }
                if (doAnimate)
                    this.$backdrop[0].offsetWidth
                this.$backdrop.addClass('in')
                doAnimate ? this.$backdrop.one($.support.transition.end, callback) : callback()
            } else if (!this.isShown && this.$backdrop) {
                this.$backdrop.removeClass('in')
                $.support.transition && this.$element.hasClass('fade') ? this.$backdrop.one($.support.transition.end, $.proxy(this.removeBackdrop, this)) : this.removeBackdrop()
            } else if (callback) {
                callback()
            }
        }}
    $.fn.modal = function(option) {
        return this.each(function() {
            var $this = $(this), data = $this.data('modal'), options = $.extend({}, $.fn.modal.defaults, $this.data(), typeof option == 'object' && option)
            if (!data)
                $this.data('modal', (data = new Modal(this, options)))
            if (typeof option == 'string')
                data[option]()
            else if (options.show)
                data.show()
        })
    }
    $.fn.modal.defaults = {backdrop: true,keyboard: true,show: true}
    $.fn.modal.Constructor = Modal
    $(function() {
        $('body').on('click.modal.data-api', '[data-toggle="modal"]', function(e) {
            var $this = $(this), href = $this.attr('href'), $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\s]+$)/, ''))), option = $target.data('modal') ? 'toggle' : $.extend({remote: !/#/.test(href) && href}, $target.data(), $this.data())
            e.preventDefault()
            $target.modal(option).one('hide', function() {
                $this.focus()
            })
        })
    })
}(window.jQuery);
!function($) {
    $(function() {
        "use strict";
        $.support.transition = (function() {
            var transitionEnd = (function() {
                var el = document.createElement('bootstrap'), transEndEventNames = {'WebkitTransition': 'webkitTransitionEnd','MozTransition': 'transitionend','OTransition': 'oTransitionEnd otransitionend','transition': 'transitionend'}, name
                for (name in transEndEventNames) {
                    if (el.style[name] !== undefined) {
                        return transEndEventNames[name]
                    }
                }
            }())
            return transitionEnd && {end: transitionEnd}
        })()
    })
}(window.jQuery);
!function($) {
    "use strict";
    var toggle = '[data-toggle=dropdown]', Dropdown = function(element) {
        var $el = $(element).on('click.dropdown.data-api', this.toggle)
        $('html').on('click.dropdown.data-api', function() {
            $el.parent().removeClass('open')
        })
    }
    Dropdown.prototype = {constructor: Dropdown,toggle: function(e) {
            var $this = $(this), $parent, isActive
            if ($this.is('.disabled, :disabled'))
                return
            $parent = getParent($this)
            isActive = $parent.hasClass('open')
            clearMenus()
            if (!isActive) {
                $parent.toggleClass('open')
                $this.focus()
            }
            return false
        },keydown: function(e) {
            var $this, $items, $active, $parent, isActive, index
            if (!/(38|40|27)/.test(e.keyCode))
                return
            $this = $(this)
            e.preventDefault()
            e.stopPropagation()
            if ($this.is('.disabled, :disabled'))
                return
            $parent = getParent($this)
            isActive = $parent.hasClass('open')
            if (!isActive || (isActive && e.keyCode == 27))
                return $this.click()
            $items = $('[role=menu] li:not(.divider) a', $parent)
            if (!$items.length)
                return
            index = $items.index($items.filter(':focus'))
            if (e.keyCode == 38 && index > 0)
                index--
            if (e.keyCode == 40 && index < $items.length - 1)
                index++
            if (!~index)
                index = 0
            $items.eq(index).focus()
        }}
    function clearMenus() {
        getParent($(toggle)).removeClass('open')
    }
    function getParent($this) {
        var selector = $this.attr('data-target'), $parent
        if (!selector) {
            selector = $this.attr('href')
            selector = selector && /#/.test(selector) && selector.replace(/.*(?=#[^\s]*$)/, '')
        }
        $parent = $(selector)
        $parent.length || ($parent = $this.parent())
        return $parent
    }
    $.fn.dropdown = function(option) {
        return this.each(function() {
            var $this = $(this), data = $this.data('dropdown')
            if (!data)
                $this.data('dropdown', (data = new Dropdown(this)))
            if (typeof option == 'string')
                data[option].call($this)
        })
    }
    $.fn.dropdown.Constructor = Dropdown
    $(function() {
        $('html').on('click.dropdown.data-api touchstart.dropdown.data-api', clearMenus)
        $('body').on('click.dropdown touchstart.dropdown.data-api', '.dropdown form', function(e) {
            e.stopPropagation()
        }).on('click.dropdown.data-api touchstart.dropdown.data-api', toggle, Dropdown.prototype.toggle).on('keydown.dropdown.data-api touchstart.dropdown.data-api', toggle + ', [role=menu]', Dropdown.prototype.keydown)
    })
}(window.jQuery);
!function($) {
    "use strict";
    var Tooltip = function(element, options) {
        this.init('tooltip', element, options)
    }
    Tooltip.prototype = {constructor: Tooltip,init: function(type, element, options) {
            var eventIn, eventOut
            this.type = type
            this.$element = $(element)
            this.options = this.getOptions(options)
            this.enabled = true
            if (this.options.trigger == 'click') {
                this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))
            } else if (this.options.trigger != 'manual') {
                eventIn = this.options.trigger == 'hover' ? 'mouseenter' : 'focus'
                eventOut = this.options.trigger == 'hover' ? 'mouseleave' : 'blur'
                this.$element.on(eventIn + '.' + this.type, this.options.selector, $.proxy(this.enter, this))
                this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))
            }
            this.options.selector ? (this._options = $.extend({}, this.options, {trigger: 'manual',selector: ''})) : this.fixTitle()
        },getOptions: function(options) {
            options = $.extend({}, $.fn[this.type].defaults, options, this.$element.data())
            if (options.delay && typeof options.delay == 'number') {
                options.delay = {show: options.delay,hide: options.delay}
            }
            return options
        },enter: function(e) {
            var self = $(e.currentTarget)[this.type](this._options).data(this.type)
            if (!self.options.delay || !self.options.delay.show)
                return self.show()
            clearTimeout(this.timeout)
            self.hoverState = 'in'
            this.timeout = setTimeout(function() {
                if (self.hoverState == 'in')
                    self.show()
            }, self.options.delay.show)
        },leave: function(e) {
            var self = $(e.currentTarget)[this.type](this._options).data(this.type)
            if (this.timeout)
                clearTimeout(this.timeout)
            if (!self.options.delay || !self.options.delay.hide)
                return self.hide()
            self.hoverState = 'out'
            this.timeout = setTimeout(function() {
                if (self.hoverState == 'out')
                    self.hide()
            }, self.options.delay.hide)
        },show: function() {
            var $tip, inside, pos, actualWidth, actualHeight, placement, tp
            if (this.hasContent() && this.enabled) {
                $tip = this.tip()
                this.setContent()
                if (this.options.animation) {
                    $tip.addClass('fade')
                }
                placement = typeof this.options.placement == 'function' ? this.options.placement.call(this, $tip[0], this.$element[0]) : this.options.placement
                inside = /in/.test(placement)
                $tip.remove().css({top: 0,left: 0,display: 'block'}).appendTo(inside ? this.$element : document.body)
                pos = this.getPosition(inside)
                actualWidth = $tip[0].offsetWidth
                actualHeight = $tip[0].offsetHeight
                switch (inside ? placement.split(' ')[1] : placement) {
                    case 'bottom':
                        tp = {top: pos.top + pos.height,left: pos.left + pos.width / 2 - actualWidth / 2}
                        break
                    case 'top':
                        tp = {top: pos.top - actualHeight,left: pos.left + pos.width / 2 - actualWidth / 2}
                        break
                    case 'left':
                        tp = {top: pos.top + pos.height / 2 - actualHeight / 2,left: pos.left - actualWidth}
                        break
                    case 'right':
                        tp = {top: pos.top + pos.height / 2 - actualHeight / 2,left: pos.left + pos.width}
                        break
                }
                $tip.css(tp).addClass(placement).addClass('in')
            }
        },setContent: function() {
            var $tip = this.tip(), title = this.getTitle()
            $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)
            $tip.removeClass('fade in top bottom left right')
        },hide: function() {
            var that = this, $tip = this.tip()
            $tip.removeClass('in')
            function removeWithAnimation() {
                var timeout = setTimeout(function() {
                    $tip.off($.support.transition.end).remove()
                }, 500)
                $tip.one($.support.transition.end, function() {
                    clearTimeout(timeout)
                    $tip.remove()
                })
            }
            $.support.transition && this.$tip.hasClass('fade') ? removeWithAnimation() : $tip.remove()
            return this
        },fixTitle: function() {
            var $e = this.$element
            if ($e.attr('title') || typeof ($e.attr('data-original-title')) != 'string') {
                $e.attr('data-original-title', $e.attr('title') || '').removeAttr('title')
            }
        },hasContent: function() {
            return this.getTitle()
        },getPosition: function(inside) {
            return $.extend({}, (inside ? {top: 0,left: 0} : this.$element.offset()), {width: this.$element[0].offsetWidth,height: this.$element[0].offsetHeight})
        },getTitle: function() {
            var title, $e = this.$element, o = this.options
            title = $e.attr('data-original-title') || (typeof o.title == 'function' ? o.title.call($e[0]) : o.title)
            return title
        },tip: function() {
            return this.$tip = this.$tip || $(this.options.template)
        },validate: function() {
            if (!this.$element[0].parentNode) {
                this.hide()
                this.$element = null
                this.options = null
            }
        },enable: function() {
            this.enabled = true
        },disable: function() {
            this.enabled = false
        },toggleEnabled: function() {
            this.enabled = !this.enabled
        },toggle: function() {
            this[this.tip().hasClass('in') ? 'hide' : 'show']()
        },destroy: function() {
            this.hide().$element.off('.' + this.type).removeData(this.type)
        }}
    $.fn.tooltip = function(option) {
        return this.each(function() {
            var $this = $(this), data = $this.data('tooltip'), options = typeof option == 'object' && option
            if (!data)
                $this.data('tooltip', (data = new Tooltip(this, options)))
            if (typeof option == 'string')
                data[option]()
        })
    }
    $.fn.tooltip.Constructor = Tooltip
    $.fn.tooltip.defaults = {animation: true,placement: 'top',selector: false,template: '<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger: 'hover',title: '',delay: 0,html: true}
}(window.jQuery);
!function($) {
    "use strict";
    var Popover = function(element, options) {
        this.init('popover', element, options)
    }
    Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype, {constructor: Popover,setContent: function() {
            var $tip = this.tip(), title = this.getTitle(), content = this.getContent()
            $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title)
            $tip.find('.popover-content > *')[this.options.html ? 'html' : 'text'](content)
            $tip.removeClass('fade top bottom left right in')
        },hasContent: function() {
            return this.getTitle() || this.getContent()
        },getContent: function() {
            var content, $e = this.$element, o = this.options
            content = $e.attr('data-content') || (typeof o.content == 'function' ? o.content.call($e[0]) : o.content)
            return content
        },tip: function() {
            if (!this.$tip) {
                this.$tip = $(this.options.template)
            }
            return this.$tip
        },destroy: function() {
            this.hide().$element.off('.' + this.type).removeData(this.type)
        }})
    $.fn.popover = function(option) {
        return this.each(function() {
            var $this = $(this), data = $this.data('popover'), options = typeof option == 'object' && option
            if (!data)
                $this.data('popover', (data = new Popover(this, options)))
            if (typeof option == 'string')
                data[option]()
        })
    }
    $.fn.popover.Constructor = Popover
    $.fn.popover.defaults = $.extend({}, $.fn.tooltip.defaults, {placement: 'right',trigger: 'click',content: '',template: '<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})
}(window.jQuery);
!function($) {
    "use strict";
    var Typeahead = function(element, options) {
        this.$element = $(element)
        this.options = $.extend({}, $.fn.typeahead.defaults, options)
        this.matcher = this.options.matcher || this.matcher
        this.sorter = this.options.sorter || this.sorter
        this.highlighter = this.options.highlighter || this.highlighter
        this.updater = this.options.updater || this.updater
        this.$menu = $(this.options.menu).appendTo('body')
        this.source = this.options.source
        this.shown = false
        this.listen()
    }
    Typeahead.prototype = {constructor: Typeahead,select: function() {
            var val = this.$menu.find('.active').attr('data-value')
            this.$element.val(this.updater(val)).change()
            return this.hide()
        },updater: function(item) {
            return item
        },show: function() {
            var pos = $.extend({}, this.$element.offset(), {height: this.$element[0].offsetHeight})
            this.$menu.css({top: pos.top + pos.height,left: pos.left})
            this.$menu.show()
            this.shown = true
            return this
        },hide: function() {
            this.$menu.hide()
            this.shown = false
            return this
        },lookup: function(event) {
            var items
            this.query = this.$element.val()
            if (!this.query || this.query.length < this.options.minLength) {
                return this.shown ? this.hide() : this
            }
            items = $.isFunction(this.source) ? this.source(this.query, $.proxy(this.process, this)) : this.source
            return items ? this.process(items) : this
        },process: function(items) {
            var that = this
            items = $.grep(items, function(item) {
                return that.matcher(item)
            })
            items = this.sorter(items)
            if (!items.length) {
                return this.shown ? this.hide() : this
            }
            return this.render(items.slice(0, this.options.items)).show()
        },matcher: function(item) {
            return ~item.toLowerCase().indexOf(this.query.toLowerCase())
        },sorter: function(items) {
            var beginswith = [], caseSensitive = [], caseInsensitive = [], item
            while (item = items.shift()) {
                if (!item.toLowerCase().indexOf(this.query.toLowerCase()))
                    beginswith.push(item)
                else if (~item.indexOf(this.query))
                    caseSensitive.push(item)
                else
                    caseInsensitive.push(item)
            }
            return beginswith.concat(caseSensitive, caseInsensitive)
        },highlighter: function(item) {
            var query = this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, '\\$&')
            return item.replace(new RegExp('(' + query + ')', 'ig'), function($1, match) {
                return '<strong>' + match + '</strong>'
            })
        },render: function(items) {
            var that = this
            items = $(items).map(function(i, item) {
                i = $(that.options.item).attr('data-value', item)
                i.find('a').html(that.highlighter(item))
                return i[0]
            })
            items.first().addClass('active')
            this.$menu.html(items)
            return this
        },next: function(event) {
            var active = this.$menu.find('.active').removeClass('active'), next = active.next()
            if (!next.length) {
                next = $(this.$menu.find('li')[0])
            }
            next.addClass('active')
        },prev: function(event) {
            var active = this.$menu.find('.active').removeClass('active'), prev = active.prev()
            if (!prev.length) {
                prev = this.$menu.find('li').last()
            }
            prev.addClass('active')
        },listen: function() {
            this.$element.on('blur', $.proxy(this.blur, this)).on('keypress', $.proxy(this.keypress, this)).on('keyup', $.proxy(this.keyup, this))
            if (this.eventSupported('keydown')) {
                this.$element.on('keydown', $.proxy(this.keydown, this))
            }
            this.$menu.on('click', $.proxy(this.click, this)).on('mouseenter', 'li', $.proxy(this.mouseenter, this))
        },eventSupported: function(eventName) {
            var isSupported = eventName in this.$element
            if (!isSupported) {
                this.$element.setAttribute(eventName, 'return;')
                isSupported = typeof this.$element[eventName] === 'function'
            }
            return isSupported
        },move: function(e) {
            if (!this.shown)
                return
            switch (e.keyCode) {
                case 9:
                case 13:
                case 27:
                    e.preventDefault()
                    break
                case 38:
                    e.preventDefault()
                    this.prev()
                    break
                case 40:
                    e.preventDefault()
                    this.next()
                    break
            }
            e.stopPropagation()
        },keydown: function(e) {
            this.suppressKeyPressRepeat = !~$.inArray(e.keyCode, [40, 38, 9, 13, 27])
            this.move(e)
        },keypress: function(e) {
            if (this.suppressKeyPressRepeat)
                return
            this.move(e)
        },keyup: function(e) {
            switch (e.keyCode) {
                case 40:
                case 38:
                    break
                case 9:
                case 13:
                    if (!this.shown)
                        return
                    this.select()
                    break
                case 27:
                    if (!this.shown)
                        return
                    this.hide()
                    break
                default:
                    this.lookup()
            }
            e.stopPropagation()
            e.preventDefault()
        },blur: function(e) {
            var that = this
            setTimeout(function() {
                that.hide()
            }, 150)
        },click: function(e) {
            e.stopPropagation()
            e.preventDefault()
            this.select()
        },mouseenter: function(e) {
            this.$menu.find('.active').removeClass('active')
            $(e.currentTarget).addClass('active')
        }}
    $.fn.typeahead = function(option) {
        return this.each(function() {
            var $this = $(this), data = $this.data('typeahead'), options = typeof option == 'object' && option
            if (!data)
                $this.data('typeahead', (data = new Typeahead(this, options)))
            if (typeof option == 'string')
                data[option]()
        })
    }
    $.fn.typeahead.defaults = {source: [],items: 8,menu: '<ul class="typeahead dropdown-menu"></ul>',item: '<li><a href="#"></a></li>',minLength: 1}
    $.fn.typeahead.Constructor = Typeahead
    $(function() {
        $('body').on('focus.typeahead.data-api', '[data-provide="typeahead"]', function(e) {
            var $this = $(this)
            if ($this.data('typeahead'))
                return
            e.preventDefault()
            $this.typeahead($this.data())
        })
    })
}(window.jQuery);
!function($) {
    "use strict";
    var Button = function(element, options) {
        this.$element = $(element)
        this.options = $.extend({}, $.fn.button.defaults, options)
    }
    Button.prototype.setState = function(state) {
        var d = 'disabled', $el = this.$element, data = $el.data(), val = $el.is('input') ? 'val' : 'html'
        state = state + 'Text'
        data.resetText || $el.data('resetText', $el[val]())
        $el[val](data[state] || this.options[state])
        setTimeout(function() {
            state == 'loadingText' ? $el.addClass(d).attr(d, d) : $el.removeClass(d).removeAttr(d)
        }, 0)
    }
    Button.prototype.toggle = function() {
        var $parent = this.$element.closest('[data-toggle="buttons-radio"]')
        $parent && $parent.find('.active').removeClass('active')
        this.$element.toggleClass('active')
    }
    $.fn.button = function(option) {
        return this.each(function() {
            var $this = $(this), data = $this.data('button'), options = typeof option == 'object' && option
            if (!data)
                $this.data('button', (data = new Button(this, options)))
            if (option == 'toggle')
                data.toggle()
            else if (option)
                data.setState(option)
        })
    }
    $.fn.button.defaults = {loadingText: 'loading...'}
    $.fn.button.Constructor = Button
    $(function() {
        $('body').on('click.button.data-api', '[data-toggle^=button]', function(e) {
            var $btn = $(e.target)
            if (!$btn.hasClass('btn'))
                $btn = $btn.closest('.btn')
            $btn.button('toggle')
        })
    })
}(window.jQuery);
window.log = function() {
    log.history = log.history || [];
    log.history.push(arguments);
    if (this.console) {
        arguments.callee = arguments.callee.caller;
        var newarr = [].slice.call(arguments);
        (typeof console.log === 'object' ? log.apply.call(console.log, console, newarr) : console.log.apply(console, newarr));
    }
};
(function(b) {
    function c() {
    }
    for (var d = "assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(","), a; a = d.pop(); ) {
        b[a] = b[a] || c
    }
})((function() {
    try 
    {
        console.log();
        return window.console;
    } catch (err) {
        return window.console = {};
    }
})());
(function($) {
    var _iCheck = 'iCheck', _iCheckHelper = _iCheck + '-helper', _checkbox = 'checkbox', _radio = 'radio', _checked = 'checked', _unchecked = 'un' + _checked, _disabled = 'disabled', _determinate = 'determinate', _indeterminate = 'in' + _determinate, _update = 'update', _type = 'type', _click = 'click', _touch = 'touchbegin.i touchend.i', _add = 'addClass', _remove = 'removeClass', _callback = 'trigger', _label = 'label', _cursor = 'cursor', _mobile = /ipad|iphone|ipod|android|blackberry|windows phone|opera mini/i.test(navigator.userAgent);
    $.fn[_iCheck] = function(options, fire) {
        var handle = ':' + _checkbox + ', :' + _radio, stack = $(), walker = function(object) {
            object.each(function() {
                var self = $(this);
                if (self.is(handle)) {
                    stack = stack.add(self);
                } else {
                    stack = stack.add(self.find(handle));
                }
                ;
            });
        };
        if (/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(options)) {
            options = options.toLowerCase();
            walker(this);
            return stack.each(function() {
                if (options == 'destroy') {
                    tidy(this, 'ifDestroyed');
                } else {
                    operate($(this), true, options);
                }
                ;
                if ($.isFunction(fire)) {
                    fire();
                }
                ;
            });
        } else if (typeof options == 'object' || !options) {
            var settings = $.extend({checkedClass: _checked,disabledClass: _disabled,indeterminateClass: _indeterminate,labelHover: true}, options), selector = settings.handle, hoverClass = settings.hoverClass || 'hover', focusClass = settings.focusClass || 'focus', activeClass = settings.activeClass || 'active', labelHover = !!settings.labelHover, labelHoverClass = settings.labelHoverClass || 'hover', area = ('' + settings.increaseArea).replace('%', '') | 0;
            if (selector == _checkbox || selector == _radio) {
                handle = ':' + selector;
            }
            ;
            if (area < -50) {
                area = -50;
            }
            ;
            walker(this);
            return stack.each(function() {
                tidy(this);
                var self = $(this), node = this, id = node.id, offset = -area + '%', size = 100 + (area * 2) + '%', layer = {position: 'absolute',top: offset,left: offset,display: 'block',width: size,height: size,margin: 0,padding: 0,background: '#fff',border: 0,opacity: 0}, hide = _mobile ? {position: 'absolute',visibility: 'hidden'} : area ? layer : {position: 'absolute',opacity: 0}, className = node[_type] == _checkbox ? settings.checkboxClass || 'i' + _checkbox : settings.radioClass || 'i' + _radio, label = $(_label + '[for="' + id + '"]').add(self.closest(_label)), parent = self.wrap('<div class="' + className + '"/>')[_callback]('ifCreated').parent().append(settings.insert), helper = $('<ins class="' + _iCheckHelper + '"/>').css(layer).appendTo(parent);
                self.data(_iCheck, {o: settings,s: self.attr('style')}).css(hide);
                !!settings.inheritClass && parent[_add](node.className);
                !!settings.inheritID && id && parent.attr('id', _iCheck + '-' + id);
                parent.css('position') == 'static' && parent.css('position', 'relative');
                operate(self, true, _update);
                if (label.length) {
                    label.on(_click + '.i mouseenter.i mouseleave.i ' + _touch, function(event) {
                        var type = event[_type], item = $(this);
                        if (!node[_disabled]) {
                            if (type == _click) {
                                operate(self, false, true);
                            } else if (labelHover) {
                                if (/ve|nd/.test(type)) {
                                    parent[_remove](hoverClass);
                                    item[_remove](labelHoverClass);
                                } else {
                                    parent[_add](hoverClass);
                                    item[_add](labelHoverClass);
                                }
                                ;
                            }
                            ;
                            if (_mobile) {
                                event.stopPropagation();
                            } else {
                                return false;
                            }
                            ;
                        }
                        ;
                    });
                }
                ;
                self.on(_click + '.i focus.i blur.i keyup.i keydown.i keypress.i', function(event) {
                    var type = event[_type], key = event.keyCode;
                    if (type == _click) {
                        return false;
                    } else if (type == 'keydown' && key == 32) {
                        if (!(node[_type] == _radio && node[_checked])) {
                            if (node[_checked]) {
                                off(self, _checked);
                            } else {
                                on(self, _checked);
                            }
                            ;
                        }
                        ;
                        return false;
                    } else if (type == 'keyup' && node[_type] == _radio && key != 9) {
                        !node[_checked] && on(self, _checked);
                    } else if (/us|ur/.test(type)) {
                        parent[type == 'blur' ? _remove : _add](focusClass);
                    }
                    ;
                });
                helper.on(_click + ' mousedown mouseup mouseover mouseout ' + _touch, function(event) {
                    var type = event[_type], toggle = /wn|up/.test(type) ? activeClass : hoverClass;
                    if (!node[_disabled]) {
                        if (type == _click) {
                            operate(self, false, true);
                        } else {
                            if (/wn|er|in/.test(type)) {
                                parent[_add](toggle);
                            } else {
                                parent[_remove](toggle + ' ' + activeClass);
                            }
                            ;
                            if (label.length && labelHover && toggle == hoverClass) {
                                label[/ut|nd/.test(type) ? _remove : _add](labelHoverClass);
                            }
                            ;
                        }
                        ;
                        if (_mobile) {
                            event.stopPropagation();
                        } else {
                            return false;
                        }
                        ;
                    }
                    ;
                });
            });
        } else {
            return this;
        }
        ;
    };
    function operate(input, direct, method) {
        var node = input[0];
        state = /er/.test(method) ? _indeterminate : /bl/.test(method) ? _disabled : _checked, active = method == _update ? {checked: node[_checked],disabled: node[_disabled],indeterminate: input.attr(_indeterminate) == 'true' || input.attr(_determinate) == 'false'} : node[state];
        if (/^(ch|di|in)/.test(method) && !active) {
            on(input, state);
        } else if (/^(un|en|de)/.test(method) && active) {
            off(input, state);
        } else if (method == _update) {
            for (var state in active) {
                if (active[state]) {
                    on(input, state, true);
                } else {
                    off(input, state, true);
                }
                ;
            }
            ;
        } else if (!direct || method == 'toggle') {
            if (!direct) {
                input[_callback]('ifClicked');
            }
            ;
            if (active) {
                if (node[_type] !== _radio) {
                    off(input, state);
                }
                ;
            } else {
                on(input, state);
            }
            ;
        }
        ;
    }
    ;
    function on(input, state, keep) {
        var node = input[0], parent = input.parent(), checked = state == _checked, indeterminate = state == _indeterminate, callback = indeterminate ? _determinate : checked ? _unchecked : 'enabled', regular = option(node, callback + capitalize(node[_type])), specific = option(node, state + capitalize(node[_type]));
        if (node[state] !== true) {
            if (!keep && state == _checked && node[_type] == _radio && node.name) {
                var form = input.closest('form'), inputs = 'input[name="' + node.name + '"]';
                inputs = form.length ? form.find(inputs) : $(inputs);
                inputs.each(function() {
                    if (this !== node && $.data(this, _iCheck)) {
                        off($(this), state);
                    }
                    ;
                });
            }
            ;
            if (indeterminate) {
                node[state] = true;
                if (node[_checked]) {
                    off(input, _checked, 'force');
                }
                ;
            } else {
                if (!keep) {
                    node[state] = true;
                }
                ;
                if (checked && node[_indeterminate]) {
                    off(input, _indeterminate, false);
                }
                ;
            }
            ;
            callbacks(input, checked, state, keep);
        }
        ;
        if (node[_disabled] && !!option(node, _cursor, true)) {
            parent.find('.' + _iCheckHelper).css(_cursor, 'default');
        }
        ;
        parent[_add](specific || option(node, state));
        parent[_remove](regular || option(node, callback) || '');
    }
    ;
    function off(input, state, keep) {
        var node = input[0], parent = input.parent(), checked = state == _checked, indeterminate = state == _indeterminate, callback = indeterminate ? _determinate : checked ? _unchecked : 'enabled', regular = option(node, callback + capitalize(node[_type])), specific = option(node, state + capitalize(node[_type]));
        if (node[state] !== false) {
            if (indeterminate || !keep || keep == 'force') {
                node[state] = false;
            }
            ;
            callbacks(input, checked, callback, keep);
        }
        ;
        if (!node[_disabled] && !!option(node, _cursor, true)) {
            parent.find('.' + _iCheckHelper).css(_cursor, 'pointer');
        }
        ;
        parent[_remove](specific || option(node, state) || '');
        parent[_add](regular || option(node, callback));
    }
    ;
    function tidy(node, callback) {
        if ($.data(node, _iCheck)) {
            var input = $(node);
            input.parent().html(input.attr('style', $.data(node, _iCheck).s || '')[_callback](callback || ''));
            input.off('.i').unwrap();
            $(_label + '[for="' + node.id + '"]').add(input.closest(_label)).off('.i');
        }
        ;
    }
    ;
    function option(node, state, regular) {
        if ($.data(node, _iCheck)) {
            return $.data(node, _iCheck).o[state + (regular ? '' : 'Class')];
        }
        ;
    }
    ;
    function capitalize(string) {
        return string.charAt(0).toUpperCase() + string.slice(1);
    }
    ;
    function callbacks(input, checked, callback, keep) {
        if (!keep) {
            if (checked) {
                input[_callback]('ifToggled');
            }
            ;
            input[_callback]('ifChanged')[_callback]('if' + capitalize(callback));
        }
        ;
    }
    ;
})(jQuery);
(function($, window, undefined) {
    $.fn.jScrollPane = function(settings) 
    {
        function JScrollPane(elem, s) 
        {
            var settings, jsp = this, pane, paneWidth, paneHeight, container, contentWidth, contentHeight, percentInViewH, percentInViewV, isScrollableV, isScrollableH, verticalDrag, dragMaxY, verticalDragPosition, horizontalDrag, dragMaxX, horizontalDragPosition, verticalBar, verticalTrack, scrollbarWidth, verticalTrackHeight, verticalDragHeight, arrowUp, arrowDown, horizontalBar, horizontalTrack, horizontalTrackWidth, horizontalDragWidth, arrowLeft, arrowRight, reinitialiseInterval, originalPadding, originalPaddingTotalWidth, previousContentWidth, wasAtTop = true, wasAtLeft = true, wasAtBottom = false, wasAtRight = false, originalElement = elem.clone(false, false).empty(), mwEvent = $.fn.mwheelIntent ? 'mwheelIntent.jsp' : 'mousewheel.jsp';
            originalPadding = elem.css('paddingTop') + ' ' + 
            elem.css('paddingRight') + ' ' + 
            elem.css('paddingBottom') + ' ' + 
            elem.css('paddingLeft');
            originalPaddingTotalWidth = (parseInt(elem.css('paddingLeft'), 10) || 0) + 
            (parseInt(elem.css('paddingRight'), 10) || 0);
            function initialise(s) 
            {
                var isMaintainingPositon, lastContentX, lastContentY, hasContainingSpaceChanged, originalScrollTop, originalScrollLeft, maintainAtBottom = false, maintainAtRight = false;
                settings = s;
                pane = elem.find(".jspPane").length > 0 ? elem.find(".jspPane") : pane;
                container = elem.find(".jspContainer").length > 0 ? elem.find(".jspContainer") : container;
                if (pane === undefined) {
                    originalScrollTop = elem.scrollTop();
                    originalScrollLeft = elem.scrollLeft();
                    elem.css({overflow: 'hidden',padding: 0});
                    paneWidth = elem.innerWidth() + originalPaddingTotalWidth;
                    paneHeight = elem.innerHeight();
                    elem.width(paneWidth);
                    pane = $('<div class="jspPane" />').css('padding', originalPadding).append(elem.children());
                    container = $('<div class="jspContainer" />').css({'width': paneWidth + 'px','height': paneHeight + 'px'}).append(pane).appendTo(elem);
                } else {
                    elem.css('width', '');
                    maintainAtBottom = settings.stickToBottom && isCloseToBottom();
                    maintainAtRight = settings.stickToRight && isCloseToRight();
                    hasContainingSpaceChanged = elem.innerWidth() + originalPaddingTotalWidth != paneWidth || elem.outerHeight() != paneHeight;
                    if (hasContainingSpaceChanged) {
                        paneWidth = elem.innerWidth() + originalPaddingTotalWidth;
                        paneHeight = elem.innerHeight();
                        container.css({width: paneWidth + 'px',height: paneHeight + 'px'});
                    }
                    if (!hasContainingSpaceChanged && previousContentWidth == contentWidth && pane.outerHeight() == contentHeight) {
                        elem.width(paneWidth);
                        return;
                    }
                    previousContentWidth = contentWidth;
                    pane.css('width', '');
                    elem.width(paneWidth);
                    container.find('>.jspVerticalBar,>.jspHorizontalBar').remove().end();
                }
                pane.css('overflow', 'auto');
                if (s.contentWidth) {
                    contentWidth = s.contentWidth;
                } else {
                    contentWidth = pane[0].scrollWidth;
                }
                contentHeight = pane[0].scrollHeight;
                pane.css('overflow', '');
                percentInViewH = contentWidth / paneWidth;
                percentInViewV = contentHeight / paneHeight;
                isScrollableV = percentInViewV > 1;
                isScrollableH = percentInViewH > 1;
                if (!(isScrollableH || isScrollableV)) {
                    elem.removeClass('jspScrollable');
                    pane.css({top: 0,width: container.width() - originalPaddingTotalWidth});
                    removeMousewheel();
                    removeFocusHandler();
                    removeKeyboardNav();
                    removeClickOnTrack();
                } else {
                    elem.addClass('jspScrollable');
                    isMaintainingPositon = settings.maintainPosition && (verticalDragPosition || horizontalDragPosition);
                    if (isMaintainingPositon) {
                        lastContentX = contentPositionX();
                        lastContentY = contentPositionY();
                    }
                    initialiseVerticalScroll();
                    initialiseHorizontalScroll();
                    resizeScrollbars();
                    if (isMaintainingPositon) {
                        scrollToX(maintainAtRight ? (contentWidth - paneWidth) : lastContentX, false);
                        scrollToY(maintainAtBottom ? (contentHeight - paneHeight) : lastContentY, false);
                    }
                    initFocusHandler();
                    initMousewheel();
                    initTouch();
                    if (settings.enableKeyboardNavigation) {
                        initKeyboardNav();
                    }
                    if (settings.clickOnTrack) {
                        initClickOnTrack();
                    }
                    observeHash();
                    if (settings.hijackInternalLinks) {
                        hijackInternalLinks();
                    }
                }
                if (settings.autoReinitialise && !reinitialiseInterval) {
                    reinitialiseInterval = setInterval(function() 
                    {
                        initialise(settings);
                    }, settings.autoReinitialiseDelay);
                } else if (!settings.autoReinitialise && reinitialiseInterval) {
                    clearInterval(reinitialiseInterval);
                }
                originalScrollTop && elem.scrollTop(0) && scrollToY(originalScrollTop, false);
                originalScrollLeft && elem.scrollLeft(0) && scrollToX(originalScrollLeft, false);
                elem.trigger('jsp-initialised', [isScrollableH || isScrollableV]);
            }
            function initialiseVerticalScroll() 
            {
                if (isScrollableV) {
                    container.append($('<div class="jspVerticalBar" />').append($('<div class="jspCap jspCapTop" />'), $('<div class="jspTrack" />').append($('<div class="jspDrag" />').append($('<div class="jspDragTop" />'), $('<div class="jspDragBottom" />'))), $('<div class="jspCap jspCapBottom" />')));
                    verticalBar = container.find('>.jspVerticalBar');
                    verticalTrack = verticalBar.find('>.jspTrack');
                    verticalDrag = verticalTrack.find('>.jspDrag');
                    if (settings.showArrows) {
                        arrowUp = $('<a class="jspArrow jspArrowUp" />').bind('mousedown.jsp', getArrowScroll(0, -1)).bind('click.jsp', nil);
                        arrowDown = $('<a class="jspArrow jspArrowDown" />').bind('mousedown.jsp', getArrowScroll(0, 1)).bind('click.jsp', nil);
                        if (settings.arrowScrollOnHover) {
                            arrowUp.bind('mouseover.jsp', getArrowScroll(0, -1, arrowUp));
                            arrowDown.bind('mouseover.jsp', getArrowScroll(0, 1, arrowDown));
                        }
                        appendArrows(verticalTrack, settings.verticalArrowPositions, arrowUp, arrowDown);
                    }
                    verticalTrackHeight = paneHeight;
                    container.find('>.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow').each(function() 
                    {
                        verticalTrackHeight -= $(this).outerHeight();
                    });
                    verticalDrag.hover(function() 
                    {
                        verticalDrag.addClass('jspHover');
                    }, function() 
                    {
                        verticalDrag.removeClass('jspHover');
                    }).bind('mousedown.jsp', function(e) 
                    {
                        $('html').bind('dragstart.jsp selectstart.jsp', nil);
                        verticalDrag.addClass('jspActive');
                        var startY = e.pageY - verticalDrag.position().top;
                        $('html').bind('mousemove.jsp', function(e) 
                        {
                            positionDragY(e.pageY - startY, false);
                        }).bind('mouseup.jsp mouseleave.jsp', cancelDrag);
                        return false;
                    });
                    sizeVerticalScrollbar();
                }
            }
            function sizeVerticalScrollbar() 
            {
                verticalTrack.height(verticalTrackHeight + 'px');
                verticalDragPosition = 0;
                scrollbarWidth = settings.verticalGutter + verticalTrack.outerWidth();
                pane.width(paneWidth - scrollbarWidth - originalPaddingTotalWidth);
                try {
                    if (verticalBar.position().left === 0) {
                        pane.css('margin-left', scrollbarWidth + 'px');
                    }
                } catch (err) {
                }
            }
            function initialiseHorizontalScroll() 
            {
                if (isScrollableH) {
                    container.append($('<div class="jspHorizontalBar" />').append($('<div class="jspCap jspCapLeft" />'), $('<div class="jspTrack" />').append($('<div class="jspDrag" />').append($('<div class="jspDragLeft" />'), $('<div class="jspDragRight" />'))), $('<div class="jspCap jspCapRight" />')));
                    horizontalBar = container.find('>.jspHorizontalBar');
                    horizontalTrack = horizontalBar.find('>.jspTrack');
                    horizontalDrag = horizontalTrack.find('>.jspDrag');
                    if (settings.showArrows) {
                        arrowLeft = $('<a class="jspArrow jspArrowLeft" />').bind('mousedown.jsp', getArrowScroll(-1, 0)).bind('click.jsp', nil);
                        arrowRight = $('<a class="jspArrow jspArrowRight" />').bind('mousedown.jsp', getArrowScroll(1, 0)).bind('click.jsp', nil);
                        if (settings.arrowScrollOnHover) {
                            arrowLeft.bind('mouseover.jsp', getArrowScroll(-1, 0, arrowLeft));
                            arrowRight.bind('mouseover.jsp', getArrowScroll(1, 0, arrowRight));
                        }
                        appendArrows(horizontalTrack, settings.horizontalArrowPositions, arrowLeft, arrowRight);
                    }
                    horizontalDrag.hover(function() 
                    {
                        horizontalDrag.addClass('jspHover');
                    }, function() 
                    {
                        horizontalDrag.removeClass('jspHover');
                    }).bind('mousedown.jsp', function(e) 
                    {
                        $('html').bind('dragstart.jsp selectstart.jsp', nil);
                        horizontalDrag.addClass('jspActive');
                        var startX = e.pageX - horizontalDrag.position().left;
                        $('html').bind('mousemove.jsp', function(e) 
                        {
                            positionDragX(e.pageX - startX, false);
                        }).bind('mouseup.jsp mouseleave.jsp', cancelDrag);
                        return false;
                    });
                    horizontalTrackWidth = container.innerWidth();
                    sizeHorizontalScrollbar();
                }
            }
            function sizeHorizontalScrollbar() 
            {
                container.find('>.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow').each(function() 
                {
                    horizontalTrackWidth -= $(this).outerWidth();
                });
                horizontalTrack.width(horizontalTrackWidth + 'px');
                horizontalDragPosition = 0;
            }
            function resizeScrollbars() 
            {
                if (isScrollableH && isScrollableV) {
                    var horizontalTrackHeight = horizontalTrack.outerHeight(), verticalTrackWidth = verticalTrack.outerWidth();
                    verticalTrackHeight -= horizontalTrackHeight;
                    $(horizontalBar).find('>.jspCap:visible,>.jspArrow').each(function() 
                    {
                        horizontalTrackWidth += $(this).outerWidth();
                    });
                    horizontalTrackWidth -= verticalTrackWidth;
                    paneHeight -= verticalTrackWidth;
                    paneWidth -= horizontalTrackHeight;
                    horizontalTrack.parent().append($('<div class="jspCorner" />').css('width', horizontalTrackHeight + 'px'));
                    sizeVerticalScrollbar();
                    sizeHorizontalScrollbar();
                }
                if (isScrollableH) {
                    pane.width((container.outerWidth() - originalPaddingTotalWidth) + 'px');
                }
                contentHeight = pane.outerHeight();
                percentInViewV = contentHeight / paneHeight;
                if (isScrollableH) {
                    horizontalDragWidth = Math.ceil(1 / percentInViewH * horizontalTrackWidth);
                    if (horizontalDragWidth > settings.horizontalDragMaxWidth) {
                        horizontalDragWidth = settings.horizontalDragMaxWidth;
                    } else if (horizontalDragWidth < settings.horizontalDragMinWidth) {
                        horizontalDragWidth = settings.horizontalDragMinWidth;
                    }
                    horizontalDrag.width(horizontalDragWidth + 'px');
                    dragMaxX = horizontalTrackWidth - horizontalDragWidth;
                    _positionDragX(horizontalDragPosition);
                }
                if (isScrollableV) {
                    verticalDragHeight = Math.ceil(1 / percentInViewV * verticalTrackHeight);
                    if (verticalDragHeight > settings.verticalDragMaxHeight) {
                        verticalDragHeight = settings.verticalDragMaxHeight;
                    } else if (verticalDragHeight < settings.verticalDragMinHeight) {
                        verticalDragHeight = settings.verticalDragMinHeight;
                    }
                    verticalDrag.height(verticalDragHeight + 'px');
                    dragMaxY = verticalTrackHeight - verticalDragHeight;
                    _positionDragY(verticalDragPosition);
                }
            }
            function appendArrows(ele, p, a1, a2) 
            {
                var p1 = "before", p2 = "after", aTemp;
                if (p == "os") {
                    p = /Mac/.test(navigator.platform) ? "after" : "split";
                }
                if (p == p1) {
                    p2 = p;
                } else if (p == p2) {
                    p1 = p;
                    aTemp = a1;
                    a1 = a2;
                    a2 = aTemp;
                }
                ele[p1](a1)[p2](a2);
            }
            function getArrowScroll(dirX, dirY, ele) 
            {
                return function() 
                {
                    arrowScroll(dirX, dirY, this, ele);
                    this.blur();
                    return false;
                };
            }
            function arrowScroll(dirX, dirY, arrow, ele) 
            {
                arrow = $(arrow).addClass('jspActive');
                var eve, scrollTimeout, isFirst = true, doScroll = function() 
                {
                    if (dirX !== 0) {
                        jsp.scrollByX(dirX * settings.arrowButtonSpeed);
                    }
                    if (dirY !== 0) {
                        jsp.scrollByY(dirY * settings.arrowButtonSpeed);
                    }
                    scrollTimeout = setTimeout(doScroll, isFirst ? settings.initialDelay : settings.arrowRepeatFreq);
                    isFirst = false;
                };
                doScroll();
                eve = ele ? 'mouseout.jsp' : 'mouseup.jsp';
                ele = ele || $('html');
                ele.bind(eve, function() 
                {
                    arrow.removeClass('jspActive');
                    scrollTimeout && clearTimeout(scrollTimeout);
                    scrollTimeout = null;
                    ele.unbind(eve);
                });
            }
            function initClickOnTrack() 
            {
                removeClickOnTrack();
                if (isScrollableV) {
                    verticalTrack.bind('mousedown.jsp', function(e) 
                    {
                        if (e.originalTarget === undefined || e.originalTarget == e.currentTarget) {
                            var clickedTrack = $(this), offset = clickedTrack.offset(), direction = e.pageY - offset.top - verticalDragPosition, scrollTimeout, isFirst = true, doScroll = function() 
                            {
                                var offset = clickedTrack.offset(), pos = e.pageY - offset.top - verticalDragHeight / 2, contentDragY = paneHeight * settings.scrollPagePercent, dragY = dragMaxY * contentDragY / (contentHeight - paneHeight);
                                if (direction < 0) {
                                    if (verticalDragPosition - dragY > pos) {
                                        jsp.scrollByY(-contentDragY);
                                    } else {
                                        positionDragY(pos);
                                    }
                                } else if (direction > 0) {
                                    if (verticalDragPosition + dragY < pos) {
                                        jsp.scrollByY(contentDragY);
                                    } else {
                                        positionDragY(pos);
                                    }
                                } else {
                                    cancelClick();
                                    return;
                                }
                                scrollTimeout = setTimeout(doScroll, isFirst ? settings.initialDelay : settings.trackClickRepeatFreq);
                                isFirst = false;
                            }, cancelClick = function() 
                            {
                                scrollTimeout && clearTimeout(scrollTimeout);
                                scrollTimeout = null;
                                $(document).unbind('mouseup.jsp', cancelClick);
                            };
                            doScroll();
                            $(document).bind('mouseup.jsp', cancelClick);
                            return false;
                        }
                    });
                }
                if (isScrollableH) {
                    horizontalTrack.bind('mousedown.jsp', function(e) 
                    {
                        if (e.originalTarget === undefined || e.originalTarget == e.currentTarget) {
                            var clickedTrack = $(this), offset = clickedTrack.offset(), direction = e.pageX - offset.left - horizontalDragPosition, scrollTimeout, isFirst = true, doScroll = function() 
                            {
                                var offset = clickedTrack.offset(), pos = e.pageX - offset.left - horizontalDragWidth / 2, contentDragX = paneWidth * settings.scrollPagePercent, dragX = dragMaxX * contentDragX / (contentWidth - paneWidth);
                                if (direction < 0) {
                                    if (horizontalDragPosition - dragX > pos) {
                                        jsp.scrollByX(-contentDragX);
                                    } else {
                                        positionDragX(pos);
                                    }
                                } else if (direction > 0) {
                                    if (horizontalDragPosition + dragX < pos) {
                                        jsp.scrollByX(contentDragX);
                                    } else {
                                        positionDragX(pos);
                                    }
                                } else {
                                    cancelClick();
                                    return;
                                }
                                scrollTimeout = setTimeout(doScroll, isFirst ? settings.initialDelay : settings.trackClickRepeatFreq);
                                isFirst = false;
                            }, cancelClick = function() 
                            {
                                scrollTimeout && clearTimeout(scrollTimeout);
                                scrollTimeout = null;
                                $(document).unbind('mouseup.jsp', cancelClick);
                            };
                            doScroll();
                            $(document).bind('mouseup.jsp', cancelClick);
                            return false;
                        }
                    });
                }
            }
            function removeClickOnTrack() 
            {
                if (horizontalTrack) {
                    horizontalTrack.unbind('mousedown.jsp');
                }
                if (verticalTrack) {
                    verticalTrack.unbind('mousedown.jsp');
                }
            }
            function cancelDrag() 
            {
                $('html').unbind('dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp');
                if (verticalDrag) {
                    verticalDrag.removeClass('jspActive');
                }
                if (horizontalDrag) {
                    horizontalDrag.removeClass('jspActive');
                }
            }
            function positionDragY(destY, animate) 
            {
                if (!isScrollableV) {
                    return;
                }
                if (destY < 0) {
                    destY = 0;
                } else if (destY > dragMaxY) {
                    destY = dragMaxY;
                }
                if (animate === undefined) {
                    animate = settings.animateScroll;
                }
                if (animate) {
                    jsp.animate(verticalDrag, 'top', destY, _positionDragY);
                } else {
                    verticalDrag.css('top', destY);
                    _positionDragY(destY);
                }
            }
            function _positionDragY(destY) 
            {
                if (destY === undefined) {
                    destY = verticalDrag.position().top;
                }
                container.scrollTop(0);
                verticalDragPosition = destY;
                var isAtTop = verticalDragPosition === 0, isAtBottom = verticalDragPosition == dragMaxY, percentScrolled = destY / dragMaxY, destTop = -percentScrolled * (contentHeight - paneHeight);
                if (wasAtTop != isAtTop || wasAtBottom != isAtBottom) {
                    wasAtTop = isAtTop;
                    wasAtBottom = isAtBottom;
                    elem.trigger('jsp-arrow-change', [wasAtTop, wasAtBottom, wasAtLeft, wasAtRight]);
                }
                updateVerticalArrows(isAtTop, isAtBottom);
                pane.css('top', destTop);
                elem.trigger('jsp-scroll-y', [-destTop, isAtTop, isAtBottom]).trigger('scroll');
            }
            function positionDragX(destX, animate) 
            {
                if (!isScrollableH) {
                    return;
                }
                if (destX < 0) {
                    destX = 0;
                } else if (destX > dragMaxX) {
                    destX = dragMaxX;
                }
                if (animate === undefined) {
                    animate = settings.animateScroll;
                }
                if (animate) {
                    jsp.animate(horizontalDrag, 'left', destX, _positionDragX);
                } else {
                    horizontalDrag.css('left', destX);
                    _positionDragX(destX);
                }
            }
            function _positionDragX(destX) 
            {
                if (destX === undefined) {
                    destX = horizontalDrag.position().left;
                }
                container.scrollTop(0);
                horizontalDragPosition = destX;
                var isAtLeft = horizontalDragPosition === 0, isAtRight = horizontalDragPosition == dragMaxX, percentScrolled = destX / dragMaxX, destLeft = -percentScrolled * (contentWidth - paneWidth);
                if (wasAtLeft != isAtLeft || wasAtRight != isAtRight) {
                    wasAtLeft = isAtLeft;
                    wasAtRight = isAtRight;
                    elem.trigger('jsp-arrow-change', [wasAtTop, wasAtBottom, wasAtLeft, wasAtRight]);
                }
                updateHorizontalArrows(isAtLeft, isAtRight);
                pane.css('left', destLeft);
                elem.trigger('jsp-scroll-x', [-destLeft, isAtLeft, isAtRight]).trigger('scroll');
            }
            function updateVerticalArrows(isAtTop, isAtBottom) 
            {
                if (settings.showArrows) {
                    arrowUp[isAtTop ? 'addClass' : 'removeClass']('jspDisabled');
                    arrowDown[isAtBottom ? 'addClass' : 'removeClass']('jspDisabled');
                }
            }
            function updateHorizontalArrows(isAtLeft, isAtRight) 
            {
                if (settings.showArrows) {
                    arrowLeft[isAtLeft ? 'addClass' : 'removeClass']('jspDisabled');
                    arrowRight[isAtRight ? 'addClass' : 'removeClass']('jspDisabled');
                }
            }
            function scrollToY(destY, animate) 
            {
                var percentScrolled = destY / (contentHeight - paneHeight);
                positionDragY(percentScrolled * dragMaxY, animate);
            }
            function scrollToX(destX, animate) 
            {
                var percentScrolled = destX / (contentWidth - paneWidth);
                positionDragX(percentScrolled * dragMaxX, animate);
            }
            function scrollToElement(ele, stickToTop, animate) 
            {
                var e, eleHeight, eleWidth, eleTop = 0, eleLeft = 0, viewportTop, viewportLeft, maxVisibleEleTop, maxVisibleEleLeft, destY, destX;
                try {
                    e = $(ele);
                } catch (err) {
                    return;
                }
                eleHeight = e.outerHeight();
                eleWidth = e.outerWidth();
                container.scrollTop(0);
                container.scrollLeft(0);
                while (!e.is('.jspPane')) {
                    eleTop += e.position().top;
                    eleLeft += e.position().left;
                    e = e.offsetParent();
                    if (/^body|html$/i.test(e[0].nodeName)) {
                        return;
                    }
                }
                viewportTop = contentPositionY();
                maxVisibleEleTop = viewportTop + paneHeight;
                if (eleTop < viewportTop || stickToTop) {
                    destY = eleTop - settings.verticalGutter;
                } else if (eleTop + eleHeight > maxVisibleEleTop) {
                    destY = eleTop - paneHeight + eleHeight + settings.verticalGutter;
                }
                if (destY) {
                    scrollToY(destY, animate);
                }
                viewportLeft = contentPositionX();
                maxVisibleEleLeft = viewportLeft + paneWidth;
                if (eleLeft < viewportLeft || stickToTop) {
                    destX = eleLeft - settings.horizontalGutter;
                } else if (eleLeft + eleWidth > maxVisibleEleLeft) {
                    destX = eleLeft - paneWidth + eleWidth + settings.horizontalGutter;
                }
                if (destX) {
                    scrollToX(destX, animate);
                }
            }
            function contentPositionX() 
            {
                return -pane.position().left;
            }
            function contentPositionY() 
            {
                return -pane.position().top;
            }
            function isCloseToBottom() 
            {
                var scrollableHeight = contentHeight - paneHeight;
                return (scrollableHeight > 20) && (scrollableHeight - contentPositionY() < 10);
            }
            function isCloseToRight() 
            {
                var scrollableWidth = contentWidth - paneWidth;
                return (scrollableWidth > 20) && (scrollableWidth - contentPositionX() < 10);
            }
            function initMousewheel() 
            {
                container.unbind(mwEvent).bind(mwEvent, function(event, delta, deltaX, deltaY) {
                    var dX = horizontalDragPosition, dY = verticalDragPosition;
                    jsp.scrollBy(deltaX * settings.mouseWheelSpeed, -deltaY * settings.mouseWheelSpeed, false);
                    return dX == horizontalDragPosition && dY == verticalDragPosition;
                });
            }
            function removeMousewheel() 
            {
                container.unbind(mwEvent);
            }
            function nil() 
            {
                return false;
            }
            function initFocusHandler() 
            {
                pane.find(':input,a').unbind('focus.jsp').bind('focus.jsp', function(e) 
                {
                    scrollToElement(e.target, false);
                });
            }
            function removeFocusHandler() 
            {
                pane.find(':input,a').unbind('focus.jsp');
            }
            function initKeyboardNav() 
            {
                var keyDown, elementHasScrolled, validParents = [];
                isScrollableH && validParents.push(horizontalBar[0]);
                isScrollableV && validParents.push(verticalBar[0]);
                pane.focus(function() 
                {
                    elem.focus();
                });
                elem.attr('tabindex', 0).unbind('keydown.jsp keypress.jsp').bind('keydown.jsp', function(e) 
                {
                    if (e.target !== this && !(validParents.length && $(e.target).closest(validParents).length)) {
                        return;
                    }
                    var dX = horizontalDragPosition, dY = verticalDragPosition;
                    switch (e.keyCode) {
                        case 40:
                        case 38:
                        case 34:
                        case 32:
                        case 33:
                        case 39:
                        case 37:
                            keyDown = e.keyCode;
                            keyDownHandler();
                            break;
                        case 35:
                            scrollToY(contentHeight - paneHeight);
                            keyDown = null;
                            break;
                        case 36:
                            scrollToY(0);
                            keyDown = null;
                            break;
                    }
                    elementHasScrolled = e.keyCode == keyDown && dX != horizontalDragPosition || dY != verticalDragPosition;
                    return !elementHasScrolled;
                }).bind('keypress.jsp', function(e) 
                {
                    if (e.keyCode == keyDown) {
                        keyDownHandler();
                    }
                    return !elementHasScrolled;
                });
                if (settings.hideFocus) {
                    elem.css('outline', 'none');
                    if ('hideFocus' in container[0]) {
                        elem.attr('hideFocus', true);
                    }
                } else {
                    elem.css('outline', '');
                    if ('hideFocus' in container[0]) {
                        elem.attr('hideFocus', false);
                    }
                }
                function keyDownHandler() 
                {
                    var dX = horizontalDragPosition, dY = verticalDragPosition;
                    switch (keyDown) {
                        case 40:
                            jsp.scrollByY(settings.keyboardSpeed, false);
                            break;
                        case 38:
                            jsp.scrollByY(-settings.keyboardSpeed, false);
                            break;
                        case 34:
                        case 32:
                            jsp.scrollByY(paneHeight * settings.scrollPagePercent, false);
                            break;
                        case 33:
                            jsp.scrollByY(-paneHeight * settings.scrollPagePercent, false);
                            break;
                        case 39:
                            jsp.scrollByX(settings.keyboardSpeed, false);
                            break;
                        case 37:
                            jsp.scrollByX(-settings.keyboardSpeed, false);
                            break;
                    }
                    elementHasScrolled = dX != horizontalDragPosition || dY != verticalDragPosition;
                    return elementHasScrolled;
                }
            }
            function removeKeyboardNav() 
            {
                elem.attr('tabindex', '-1').removeAttr('tabindex').unbind('keydown.jsp keypress.jsp');
            }
            function observeHash() 
            {
                if (location.hash && location.hash.length > 1) {
                    var e, retryInt, hash = escape(location.hash.substr(1));
                    try {
                        e = $('#' + hash + ', a[name="' + hash + '"]');
                    } catch (err) {
                        return;
                    }
                    if (e.length && pane.find(hash)) {
                        if (container.scrollTop() === 0) {
                            retryInt = setInterval(function() 
                            {
                                if (container.scrollTop() > 0) {
                                    scrollToElement(e, true);
                                    $(document).scrollTop(container.position().top);
                                    clearInterval(retryInt);
                                }
                            }, 50);
                        } else {
                            scrollToElement(e, true);
                            $(document).scrollTop(container.position().top);
                        }
                    }
                }
            }
            function hijackInternalLinks() 
            {
                if ($(document.body).data('jspHijack')) {
                    return;
                }
                $(document.body).data('jspHijack', true);
                $(document.body).delegate('a[href*=#]', 'click', function(event) {
                    var href = this.href.substr(0, this.href.indexOf('#')), locationHref = location.href, hash, element, container, jsp, scrollTop, elementTop;
                    if (location.href.indexOf('#') !== -1) {
                        locationHref = location.href.substr(0, location.href.indexOf('#'));
                    }
                    if (href !== locationHref) {
                        return;
                    }
                    hash = escape(this.href.substr(this.href.indexOf('#') + 1));
                    element;
                    try {
                        element = $('#' + hash + ', a[name="' + hash + '"]');
                    } catch (e) {
                        return;
                    }
                    if (!element.length) {
                        return;
                    }
                    container = element.closest('.jspScrollable');
                    jsp = container.data('jsp');
                    jsp.scrollToElement(element, true);
                    if (container[0].scrollIntoView) {
                        scrollTop = $(window).scrollTop();
                        elementTop = element.offset().top;
                        if (elementTop < scrollTop || elementTop > scrollTop + $(window).height()) {
                            container[0].scrollIntoView();
                        }
                    }
                    event.preventDefault();
                });
            }
            function initTouch() 
            {
                var startX, startY, touchStartX, touchStartY, moved, moving = false;
                container.unbind('touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick').bind('touchstart.jsp', function(e) 
                {
                    var touch = e.originalEvent.touches[0];
                    startX = contentPositionX();
                    startY = contentPositionY();
                    touchStartX = touch.pageX;
                    touchStartY = touch.pageY;
                    moved = false;
                    moving = true;
                }).bind('touchmove.jsp', function(ev) 
                {
                    if (!moving) {
                        return;
                    }
                    var touchPos = ev.originalEvent.touches[0], dX = horizontalDragPosition, dY = verticalDragPosition;
                    jsp.scrollTo(startX + touchStartX - touchPos.pageX, startY + touchStartY - touchPos.pageY);
                    moved = moved || Math.abs(touchStartX - touchPos.pageX) > 5 || Math.abs(touchStartY - touchPos.pageY) > 5;
                    return dX == horizontalDragPosition && dY == verticalDragPosition;
                }).bind('touchend.jsp', function(e) 
                {
                    moving = false;
                }).bind('click.jsp-touchclick', function(e) 
                {
                    if (moved) {
                        moved = false;
                        return false;
                    }
                });
            }
            function destroy() {
                var currentY = contentPositionY(), currentX = contentPositionX();
                elem.removeClass('jspScrollable').unbind('.jsp');
                elem.replaceWith(originalElement.append(pane.children()));
                originalElement.scrollTop(currentY);
                originalElement.scrollLeft(currentX);
                if (reinitialiseInterval) {
                    clearInterval(reinitialiseInterval);
                }
            }
            $.extend(jsp, {reinitialise: function(s) 
                {
                    s = $.extend({}, settings, s);
                    initialise(s);
                },scrollToElement: function(ele, stickToTop, animate) 
                {
                    scrollToElement(ele, stickToTop, animate);
                },scrollTo: function(destX, destY, animate) 
                {
                    scrollToX(destX, animate);
                    scrollToY(destY, animate);
                },scrollToX: function(destX, animate) 
                {
                    scrollToX(destX, animate);
                },scrollToY: function(destY, animate) 
                {
                    scrollToY(destY, animate);
                },scrollToPercentX: function(destPercentX, animate) 
                {
                    scrollToX(destPercentX * (contentWidth - paneWidth), animate);
                },scrollToPercentY: function(destPercentY, animate) 
                {
                    scrollToY(destPercentY * (contentHeight - paneHeight), animate);
                },scrollBy: function(deltaX, deltaY, animate) 
                {
                    jsp.scrollByX(deltaX, animate);
                    jsp.scrollByY(deltaY, animate);
                },scrollByX: function(deltaX, animate) 
                {
                    var destX = contentPositionX() + Math[deltaX < 0 ? 'floor' : 'ceil'](deltaX), percentScrolled = destX / (contentWidth - paneWidth);
                    positionDragX(percentScrolled * dragMaxX, animate);
                },scrollByY: function(deltaY, animate) 
                {
                    var destY = contentPositionY() + Math[deltaY < 0 ? 'floor' : 'ceil'](deltaY), percentScrolled = destY / (contentHeight - paneHeight);
                    positionDragY(percentScrolled * dragMaxY, animate);
                },positionDragX: function(x, animate) 
                {
                    positionDragX(x, animate);
                },positionDragY: function(y, animate) 
                {
                    positionDragY(y, animate);
                },animate: function(ele, prop, value, stepCallback) 
                {
                    var params = {};
                    params[prop] = value;
                    ele.animate(params, {'duration': settings.animateDuration,'easing': settings.animateEase,'queue': false,'step': stepCallback});
                },getContentPositionX: function() 
                {
                    return contentPositionX();
                },getContentPositionY: function() 
                {
                    return contentPositionY();
                },getContentWidth: function() 
                {
                    return contentWidth;
                },getContentHeight: function() 
                {
                    return contentHeight;
                },getPercentScrolledX: function() 
                {
                    return contentPositionX() / (contentWidth - paneWidth);
                },getPercentScrolledY: function() 
                {
                    return contentPositionY() / (contentHeight - paneHeight);
                },getIsScrollableH: function() 
                {
                    return isScrollableH;
                },getIsScrollableV: function() 
                {
                    return isScrollableV;
                },getContentPane: function() 
                {
                    return pane;
                },scrollToBottom: function(animate) 
                {
                    positionDragY(dragMaxY, animate);
                },hijackInternalLinks: $.noop,destroy: function() 
                {
                    destroy();
                }});
            initialise(s);
        }
        settings = $.extend({}, $.fn.jScrollPane.defaults, settings);
        $.each(['arrowButtonSpeed', 'trackClickSpeed', 'keyboardSpeed'], function() {
            settings[this] = settings[this] || settings.speed;
        });
        return this.each(function() 
        {
            var elem = $(this), jspApi = elem.data('jsp');
            if (jspApi) {
                jspApi.reinitialise(settings);
            } else {
                $("script", elem).filter('[type="text/javascript"],:not([type])').remove();
                jspApi = new JScrollPane(elem, settings);
                elem.data('jsp', jspApi);
            }
        });
    };
    $.fn.jScrollPane.defaults = {showArrows: false,maintainPosition: true,stickToBottom: false,stickToRight: false,clickOnTrack: true,autoReinitialise: false,autoReinitialiseDelay: 500,verticalDragMinHeight: 0,verticalDragMaxHeight: 99999,horizontalDragMinWidth: 0,horizontalDragMaxWidth: 99999,contentWidth: undefined,animateScroll: false,animateDuration: 300,animateEase: 'linear',hijackInternalLinks: false,verticalGutter: 4,horizontalGutter: 4,mouseWheelSpeed: 3,arrowButtonSpeed: 0,arrowRepeatFreq: 50,arrowScrollOnHover: false,trackClickSpeed: 0,trackClickRepeatFreq: 70,verticalArrowPositions: 'split',horizontalArrowPositions: 'split',enableKeyboardNavigation: true,hideFocus: false,keyboardSpeed: 0,initialDelay: 300,speed: 30,scrollPagePercent: .8};
})(jQuery, this);
(function($) {
    var types = ['DOMMouseScroll', 'mousewheel'];
    if ($.event.fixHooks) {
        for (var i = types.length; i; ) {
            $.event.fixHooks[types[--i]] = $.event.mouseHooks;
        }
    }
    $.event.special.mousewheel = {setup: function() {
            if (this.addEventListener) {
                for (var i = types.length; i; ) {
                    this.addEventListener(types[--i], handler, false);
                }
            } else {
                this.onmousewheel = handler;
            }
        },teardown: function() {
            if (this.removeEventListener) {
                for (var i = types.length; i; ) {
                    this.removeEventListener(types[--i], handler, false);
                }
            } else {
                this.onmousewheel = null;
            }
        }};
    $.fn.extend({mousewheel: function(fn) {
            return fn ? this.bind("mousewheel", fn) : this.trigger("mousewheel");
        },unmousewheel: function(fn) {
            return this.unbind("mousewheel", fn);
        }});
    function handler(event) {
        var orgEvent = event || window.event, args = [].slice.call(arguments, 1), delta = 0, returnValue = true, deltaX = 0, deltaY = 0;
        event = $.event.fix(orgEvent);
        event.type = "mousewheel";
        if (orgEvent.wheelDelta) {
            delta = orgEvent.wheelDelta / 120;
        }
        if (orgEvent.detail) {
            delta = -orgEvent.detail / 3;
        }
        deltaY = delta;
        if (orgEvent.axis !== undefined && orgEvent.axis === orgEvent.HORIZONTAL_AXIS) {
            deltaY = 0;
            deltaX = -1 * delta;
        }
        if (orgEvent.wheelDeltaY !== undefined) {
            deltaY = orgEvent.wheelDeltaY / 120;
        }
        if (orgEvent.wheelDeltaX !== undefined) {
            deltaX = -1 * orgEvent.wheelDeltaX / 120;
        }
        args.unshift(event, delta, deltaX, deltaY);
        return ($.event.dispatch || $.event.handle).apply(this, args);
    }
})(jQuery);
(function(e, c) {
    var h = !1, k = null, o = parseFloat, l = Math.min, m = /(-?\d+\.?\d*)$/g, g = /(\d+\.?\d*)$/g, i = [], f = [], b = function(p) {
        return typeof p == "string"
    }, n = Array.prototype.indexOf || function(r) {
        var p = this.length, q = Number(arguments[1]) || 0;
        q = q < 0 ? Math.ceil(q) : Math.floor(q);
        if (q < 0) {
            q += p
        }
        for (; q < p; q++) {
            if (q in this && this[q] === r) {
                return q
            }
        }
        return -1
    };
    e.tinysort = {id: "TinySort",version: "1.5.2",copyright: "Copyright (c) 2008-2013 Ron Valstar",uri: "http://tinysort.sjeiti.com/",licensed: {MIT: "http://www.opensource.org/licenses/mit-license.php",GPL: "http://www.gnu.org/licenses/gpl.html"},plugin: function(p, q) {
            i.push(p);
            f.push(q)
        },defaults: {order: "asc",attr: k,data: k,useVal: h,place: "start",returns: h,cases: h,forceStrings: h,ignoreDashes: h,sortFunction: k}};
    e.fn.extend({tinysort: function() {
            var I, F, K = this, t = [], r = [], L = [], N = [], x = 0, q, E = [], B = [], C = function(O) {
                e.each(i, function(P, Q) {
                    Q.call(Q, O)
                })
            }, y = function(Z, X) {
                var O = 0;
                if (x !== 0) {
                    x = 0
                }
                while (O === 0 && x < q) {
                    var V = N[x], S = V.oSettings, W = S.ignoreDashes ? g : m;
                    C(S);
                    if (S.sortFunction) {
                        O = S.sortFunction(Z, X)
                    } else {
                        if (S.order == "rand") {
                            O = Math.random() < 0.5 ? 1 : -1
                        } else {
                            var Y = h, R = !S.cases ? a(Z.s[x]) : Z.s[x], Q = !S.cases ? a(X.s[x]) : X.s[x];
                            if (!u.forceStrings) {
                                var P = b(R) ? R && R.match(W) : h, aa = b(Q) ? Q && Q.match(W) : h;
                                if (P && aa) {
                                    var U = R.substr(0, R.length - P[0].length), T = Q.substr(0, Q.length - aa[0].length);
                                    if (U == T) {
                                        Y = !h;
                                        R = o(P[0]);
                                        Q = o(aa[0])
                                    }
                                }
                            }
                            O = V.iAsc * (R < Q ? -1 : (R > Q ? 1 : 0))
                        }
                    }
                    e.each(f, function(ab, ac) {
                        O = ac.call(ac, Y, R, Q, O)
                    });
                    if (O === 0) {
                        x++
                    }
                }
                return O
            };
            for (I = 0, F = arguments.length; I < F; I++) {
                var D = arguments[I];
                if (b(D)) {
                    if (E.push(D) - 1 > B.length) {
                        B.length = E.length - 1
                    }
                } else {
                    if (B.push(D) > E.length) {
                        E.length = B.length
                    }
                }
            }
            if (E.length > B.length) {
                B.length = E.length
            }
            q = E.length;
            if (q === 0) {
                q = E.length = 1;
                B.push({})
            }
            for (I = 0, F = q; I < F; I++) {
                var J = E[I], u = e.extend({}, e.tinysort.defaults, B[I]), w = !(!J || J == ""), p = w && J[0] == ":";
                N.push({sFind: J,oSettings: u,bFind: w,bAttr: !(u.attr === k || u.attr == ""),bData: u.data !== k,bFilter: p,$Filter: p ? K.filter(J) : K,fnSort: u.sortFunction,iAsc: u.order == "asc" ? 1 : -1})
            }
            K.each(function(V, O) {
                var R = e(O), P = R.parent().get(0), Q, U = [];
                for (j = 0; j < q; j++) {
                    var W = N[j], S = W.bFind ? (W.bFilter ? W.$Filter.filter(O) : R.find(W.sFind)) : R;
                    U.push(W.bData ? S.data(W.oSettings.data) : (W.bAttr ? S.attr(W.oSettings.attr) : (W.oSettings.useVal ? S.val() : S.text())));
                    if (Q === c) {
                        Q = S
                    }
                }
                var T = n.call(L, P);
                if (T < 0) {
                    T = L.push(P) - 1;
                    r[T] = {s: [],n: []}
                }
                if (Q.length > 0) {
                    r[T].s.push({s: U,e: R,n: V})
                } else {
                    r[T].n.push({e: R,n: V})
                }
            });
            for (j in r) {
                r[j].s.sort(y)
            }
            for (j in r) {
                var G = r[j], s = G.s.length, H = [], M = s, A = [0, 0];
                switch (u.place) {
                    case "first":
                        e.each(G.s, function(O, P) {
                            M = l(M, P.n)
                        });
                        break;
                    case "org":
                        e.each(G.s, function(O, P) {
                            H.push(P.n)
                        });
                        break;
                    case "end":
                        M = G.n.length;
                        break;
                    default:
                        M = 0
                }
                for (I = 0; I < s; I++) {
                    var v = d(H, I) ? !h : I >= M && I < M + G.s.length, z = (v ? G.s : G.n)[A[v ? 0 : 1]].e;
                    z.parent().append(z);
                    if (v || !u.returns) {
                        t.push(z.get(0))
                    }
                    A[v ? 0 : 1]++
                }
            }
            K.length = 0;
            Array.prototype.push.apply(K, t);
            return K
        }});
    function a(p) {
        return p && p.toLowerCase ? p.toLowerCase() : p
    }
    function d(q, s) {
        for (var r = 0, p = q.length; r < p; r++) {
            if (q[r] == s) {
                return !h
            }
        }
        return h
    }
    e.fn.TinySort = e.fn.Tinysort = e.fn.tsort = e.fn.tinysort
})(jQuery);
function apprise(string, args, callback) 
{
    var default_args = {'confirm': false,'verify': false,'input': false,'animate': false,'textOk': 'Ok','textCancel': 'Cancel','textYes': 'Yes','textNo': 'No'}
    if (args) 
    {
        for (var index in default_args) 
        {
            if (typeof args[index] == "undefined")
                args[index] = default_args[index];
        }
    }
    var aHeight = $(document).height();
    var aWidth = $(document).width();
    $('body').append('<div class="appriseOverlay" id="aOverlay"></div>');
    $('.appriseOverlay').css('height', aHeight).css('width', aWidth).fadeIn(100);
    $('body').append('<div class="appriseOuter"></div>');
    $('.appriseOuter').append('<div class="appriseInner"></div>');
    $('.appriseInner').append(string);
    $('.appriseOuter').css("left", ($(window).width() - $('.appriseOuter').width()) / 2 + $(window).scrollLeft() + "px");
    if (args) 
    {
        if (args['animate']) 
        {
            var aniSpeed = args['animate'];
            if (isNaN(aniSpeed)) {
                aniSpeed = 400;
            }
            $('.appriseOuter').css('top', '-200px').show().animate({top: "100px"}, aniSpeed);
        } 
        else 
        {
            $('.appriseOuter').css('top', '100px').fadeIn(200);
        }
    } 
    else 
    {
        $('.appriseOuter').css('top', '100px').fadeIn(200);
    }
    if (args) 
    {
        if (args['input']) 
        {
            if (typeof (args['input']) == 'string') 
            {
                $('.appriseInner').append('<div class="aInput"><input type="text" class="aTextbox" t="aTextbox" value="' + args['input'] + '" /></div>');
            } 
            else 
            {
                $('.appriseInner').append('<div class="aInput"><input type="text" class="aTextbox" t="aTextbox" /></div>');
            }
            $('.aTextbox').focus();
        }
    }
    $('.appriseInner').append('<div class="aButtons"></div>');
    if (args) 
    {
        if (args['confirm']) 
        {
            $('.appriseInner').addClass('confirm_box');
            $('.aButtons').append('<button value="cancel">' + args['textCancel'] + '</button>');
            $('.aButtons').append('<button value="ok">' + args['textOk'] + '</button>');
        } 
        else if (args['input']) 
        {
            $('.aButtons').append('<button value="ok">' + args['textOk'] + '</button>');
            $('.aButtons').append('<button value="cancel">' + args['textCancel'] + '</button>');
        } 
        else if (args['verify']) 
        {
            $('.aButtons').append('<button value="ok" class="confirm_btn">' + args['textYes'] + '</button>');
            $('.aButtons').append('<button value="cancel" class="confirm_btn btn_textno">' + args['textNo'] + '</button>');
        } 
        else 
        {
            $('.aButtons').append('<button value="ok">' + args['textOk'] + '</button>');
        }
    } 
    else 
    {
        $('.aButtons').append('<button value="ok">Ok</button>');
    }
    $(document).keydown(function(e) 
    {
        if ($('.appriseOverlay').is(':visible')) 
        {
            if (e.keyCode == 13) 
            {
                $('.aButtons > button[value="ok"]').click();
            }
            if (e.keyCode == 27) 
            {
                $('.aButtons > button[value="cancel"]').click();
            }
        }
    });
    var aText = $('.aTextbox').val();
    if (!aText) {
        aText = false;
    }
    $('.aTextbox').keyup(function() 
    {
        aText = $(this).val();
    });
    $('.aButtons > button').click(function() 
    {
        $('.appriseOverlay').remove();
        $('.appriseOuter').remove();
        if (callback) 
        {
            var wButton = $(this).attr("value");
            if (wButton == 'ok') 
            {
                if (args) 
                {
                    if (args['input']) 
                    {
                        callback(aText);
                    } 
                    else 
                    {
                        callback(true);
                    }
                } 
                else 
                {
                    callback(true);
                }
            } 
            else if (wButton == 'cancel') 
            {
                callback(false);
            }
        }
    });
}
(function($) {
    $.formatCurrency = {};
    $.formatCurrency.regions = [];
    $.formatCurrency.regions[""] = {symbol: "$",positiveFormat: "%s%n",negativeFormat: "(%s%n)",decimalSymbol: ".",digitGroupSymbol: ",",groupDigits: true};
    $.fn.formatCurrency = function(destination, settings) {
        if (arguments.length == 1 && typeof destination !== "string") {
            settings = destination;
            destination = false
        }
        var defaults = {name: "formatCurrency",colorize: false,region: "",global: true,roundToDecimalPlace: 2,eventOnDecimalsEntered: false};
        defaults = $.extend(defaults, $.formatCurrency.regions[""]);
        settings = $.extend(defaults, settings);
        if (settings.region.length > 0) {
            settings = $.extend(settings, getRegionOrCulture(settings.region))
        }
        settings.regex = generateRegex(settings);
        return this.each(function() {
            $this = $(this);
            var num = "0";
            num = $this[$this.is("input, select, textarea") ? "val" : "html"]();
            if (num.search("\\(") >= 0) {
                num = "-" + num
            }
            if (num === "" || (num === "-" && settings.roundToDecimalPlace === -1)) {
                return
            }
            if (isNaN(num)) {
                num = num.replace(settings.regex, "");
                if (num === "" || (num === "-" && settings.roundToDecimalPlace === -1)) {
                    return
                }
                if (settings.decimalSymbol != ".") {
                    num = num.replace(settings.decimalSymbol, ".")
                }
                if (isNaN(num)) {
                    num = "0"
                }
            }
            var numParts = String(num).split(".");
            var isPositive = (num == Math.abs(num));
            var hasDecimals = (numParts.length > 1);
            var decimals = (hasDecimals ? numParts[1].toString() : "0");
            var originalDecimals = decimals;
            num = Math.abs(numParts[0]);
            num = isNaN(num) ? 0 : num;
            if (settings.roundToDecimalPlace >= 0) {
                decimals = parseFloat("1." + decimals);
                decimals = decimals.toFixed(settings.roundToDecimalPlace);
                if (decimals.substring(0, 1) == "2") {
                    num = Number(num) + 1
                }
                decimals = decimals.substring(2)
            }
            num = String(num);
            if (settings.groupDigits) {
                for (var i = 0; i < Math.floor((num.length - (1 + i)) / 3); i++) {
                    num = num.substring(0, num.length - (4 * i + 3)) + settings.digitGroupSymbol + num.substring(num.length - (4 * i + 3))
                }
            }
            if ((hasDecimals && settings.roundToDecimalPlace == -1) || settings.roundToDecimalPlace > 0) {
                num += settings.decimalSymbol + decimals
            }
            var format = isPositive ? settings.positiveFormat : settings.negativeFormat;
            var money = format.replace(/%s/g, settings.symbol);
            money = money.replace(/%n/g, num);
            var $destination = $([]);
            if (!destination) {
                $destination = $this
            } else {
                $destination = $(destination)
            }
            $destination[$destination.is("input, select, textarea") ? "val" : "html"](money);
            if (hasDecimals && settings.eventOnDecimalsEntered && originalDecimals.length > settings.roundToDecimalPlace) {
                $destination.trigger("decimalsEntered", originalDecimals)
            }
            if (settings.colorize) {
                $destination.css("color", isPositive ? "black" : "red")
            }
        })
    };
    $.fn.toNumber = function(settings) {
        var defaults = $.extend({name: "toNumber",region: "",global: true}, $.formatCurrency.regions[""]);
        settings = jQuery.extend(defaults, settings);
        if (settings.region.length > 0) {
            settings = $.extend(settings, getRegionOrCulture(settings.region))
        }
        settings.regex = generateRegex(settings);
        return this.each(function() {
            var method = $(this).is("input, select, textarea") ? "val" : "html";
            $(this)[method]($(this)[method]().replace("(", "(-").replace(settings.regex, ""))
        })
    };
    $.fn.asNumber = function(settings) {
        var defaults = $.extend({name: "asNumber",region: "",parse: true,parseType: "Float",global: true}, $.formatCurrency.regions[""]);
        settings = jQuery.extend(defaults, settings);
        if (settings.region.length > 0) {
            settings = $.extend(settings, getRegionOrCulture(settings.region))
        }
        settings.regex = generateRegex(settings);
        settings.parseType = validateParseType(settings.parseType);
        var method = $(this).is("input, select, textarea") ? "val" : "html";
        var num = $(this)[method]();
        num = num ? num : "";
        num = num.replace("(", "(-");
        num = num.replace(settings.regex, "");
        if (!settings.parse) {
            return num
        }
        if (num.length == 0) {
            num = "0"
        }
        if (settings.decimalSymbol != ".") {
            num = num.replace(settings.decimalSymbol, ".")
        }
        return window["parse" + settings.parseType](num)
    };
    function getRegionOrCulture(region) {
        var regionInfo = $.formatCurrency.regions[region];
        if (regionInfo) {
            return regionInfo
        } else {
            if (/(\w+)-(\w+)/g.test(region)) {
                var culture = region.replace(/(\w+)-(\w+)/g, "$1");
                return $.formatCurrency.regions[culture]
            }
        }
        return null
    }
    function validateParseType(parseType) {
        switch (parseType.toLowerCase()) {
            case "int":
                return "Int";
            case "float":
                return "Float";
            default:
                throw "invalid parseType"
        }
    }
    function generateRegex(settings) {
        if (settings.symbol === "") {
            return new RegExp("[^\\d" + settings.decimalSymbol + "-]", "g")
        } else {
            var symbol = settings.symbol.replace("$", "\\$").replace(".", "\\.");
            return new RegExp(symbol + "|[^\\d" + settings.decimalSymbol + "-]", "g")
        }
    }
})(jQuery);
(function(e) {
    function O(e, t) {
        return function(n) {
            return j(e.call(this, n), t)
        }
    }
    function M(e) {
        return function(t) {
            return this.lang().ordinal(e.call(this, t))
        }
    }
    function _() {
    }
    function D(e) {
        H(this, e)
    }
    function P(e) {
        var t = this._data = {}, n = e.years || e.year || e.y || 0, r = e.months || e.month || e.M || 0, i = e.weeks || e.week || e.w || 0, s = e.days || e.day || e.d || 0, o = e.hours || e.hour || e.h || 0, u = e.minutes || e.minute || e.m || 0, a = e.seconds || e.second || e.s || 0, f = e.milliseconds || e.millisecond || e.ms || 0;
        this._milliseconds = f + a * 1e3 + u * 6e4 + o * 36e5, this._days = s + i * 7, this._months = r + n * 12, t.milliseconds = f % 1e3, a += B(f / 1e3), t.seconds = a % 60, u += B(a / 60), t.minutes = u % 60, o += B(u / 60), t.hours = o % 24, s += B(o / 24), s += i * 7, t.days = s % 30, r += B(s / 30), t.months = r % 12, n += B(r / 12), t.years = n
    }
    function H(e, t) {
        for (var n in t)
            t.hasOwnProperty(n) && (e[n] = t[n]);
        return e
    }
    function B(e) {
        return e < 0 ? Math.ceil(e) : Math.floor(e)
    }
    function j(e, t) {
        var n = e + "";
        while (n.length < t)
            n = "0" + n;
        return n
    }
    function F(e, t, n) {
        var r = t._milliseconds, i = t._days, s = t._months, o;
        r && e._d.setTime(+e + r * n), i && e.date(e.date() + i * n), s && (o = e.date(), e.date(1).month(e.month() + s * n).date(Math.min(o, e.daysInMonth())))
    }
    function I(e) {
        return Object.prototype.toString.call(e) === "[object Array]"
    }
    function q(e, t) {
        var n = Math.min(e.length, t.length), r = Math.abs(e.length - t.length), i = 0, s;
        for (s = 0; s < n; s++)
            ~~e[s] !== ~~t[s] && i++;
        return i + r
    }
    function R(e, t) {
        return t.abbr = e, s[e] || (s[e] = new _), s[e].set(t), s[e]
    }
    function U(e) {
        return e ? (!s[e] && o && require("./lang/" + e), s[e]) : t.fn._lang
    }
    function z(e) {
        return e.match(/\[.*\]/) ? e.replace(/^\[|\]$/g, "") : e.replace(/\\/g, "")
    }
    function W(e) {
        var t = e.match(a), n, r;
        for (n = 0, r = t.length; n < r; n++)
            A[t[n]] ? t[n] = A[t[n]] : t[n] = z(t[n]);
        return function(i) {
            var s = "";
            for (n = 0; n < r; n++)
                s += typeof t[n].call == "function" ? t[n].call(i, e) : t[n];
            return s
        }
    }
    function X(e, t) {
        function r(t) {
            return e.lang().longDateFormat(t) || t
        }
        var n = 5;
        while (n-- && f.test(t))
            t = t.replace(f, r);
        return C[t] || (C[t] = W(t)), C[t](e)
    }
    function V(e) {
        switch (e) {
            case "DDDD":
                return p;
            case "YYYY":
                return d;
            case "YYYYY":
                return v;
            case "S":
            case "SS":
            case "SSS":
            case "DDD":
                return h;
            case "MMM":
            case "MMMM":
            case "dd":
            case "ddd":
            case "dddd":
            case "a":
            case "A":
                return m;
            case "X":
                return b;
            case "Z":
            case "ZZ":
                return g;
            case "T":
                return y;
            case "MM":
            case "DD":
            case "YY":
            case "HH":
            case "hh":
            case "mm":
            case "ss":
            case "M":
            case "D":
            case "d":
            case "H":
            case "h":
            case "m":
            case "s":
                return c;
            default:
                return new RegExp(e.replace("\\", ""))
        }
    }
    function $(e, t, n) {
        var r, i, s = n._a;
        switch (e) {
            case "M":
            case "MM":
                s[1] = t == null ? 0 : ~~t - 1;
                break;
            case "MMM":
            case "MMMM":
                r = U(n._l).monthsParse(t), r != null ? s[1] = r : n._isValid = !1;
                break;
            case "D":
            case "DD":
            case "DDD":
            case "DDDD":
                t != null && (s[2] = ~~t);
                break;
            case "YY":
                s[0] = ~~t + (~~t > 68 ? 1900 : 2e3);
                break;
            case "YYYY":
            case "YYYYY":
                s[0] = ~~t;
                break;
            case "a":
            case "A":
                n._isPm = (t + "").toLowerCase() === "pm";
                break;
            case "H":
            case "HH":
            case "h":
            case "hh":
                s[3] = ~~t;
                break;
            case "m":
            case "mm":
                s[4] = ~~t;
                break;
            case "s":
            case "ss":
                s[5] = ~~t;
                break;
            case "S":
            case "SS":
            case "SSS":
                s[6] = ~~(("0." + t) * 1e3);
                break;
            case "X":
                n._d = new Date(parseFloat(t) * 1e3);
                break;
            case "Z":
            case "ZZ":
                n._useUTC = !0, r = (t + "").match(x), r && r[1] && (n._tzh = ~~r[1]), r && r[2] && (n._tzm = ~~r[2]), r && r[0] === "+" && (n._tzh = -n._tzh, n._tzm = -n._tzm)
        }
        t == null && (n._isValid = !1)
    }
    function J(e) {
        var t, n, r = [];
        if (e._d)
            return;
        for (t = 0; t < 7; t++)
            e._a[t] = r[t] = e._a[t] == null ? t === 2 ? 1 : 0 : e._a[t];
        r[3] += e._tzh || 0, r[4] += e._tzm || 0, n = new Date(0), e._useUTC ? (n.setUTCFullYear(r[0], r[1], r[2]), n.setUTCHours(r[3], r[4], r[5], r[6])) : (n.setFullYear(r[0], r[1], r[2]), n.setHours(r[3], r[4], r[5], r[6])), e._d = n
    }
    function K(e) {
        var t = e._f.match(a), n = e._i, r, i;
        e._a = [];
        for (r = 0; r < t.length; r++)
            i = (V(t[r]).exec(n) || [])[0], i && (n = n.slice(n.indexOf(i) + i.length)), A[t[r]] && $(t[r], i, e);
        e._isPm && e._a[3] < 12 && (e._a[3] += 12), e._isPm === !1 && e._a[3] === 12 && (e._a[3] = 0), J(e)
    }
    function Q(e) {
        var t, n, r, i = 99, s, o, u;
        while (e._f.length) {
            t = H({}, e), t._f = e._f.pop(), K(t), n = new D(t);
            if (n.isValid()) {
                r = n;
                break
            }
            u = q(t._a, n.toArray()), u < i && (i = u, r = n)
        }
        H(e, r)
    }
    function G(e) {
        var t, n = e._i;
        if (w.exec(n)) {
            e._f = "YYYY-MM-DDT";
            for (t = 0; t < 4; t++)
                if (S[t][1].exec(n)) {
                    e._f += S[t][0];
                    break
                }
            g.exec(n) && (e._f += " Z"), K(e)
        } else
            e._d = new Date(n)
    }
    function Y(t) {
        var n = t._i, r = u.exec(n);
        n === e ? t._d = new Date : r ? t._d = new Date(+r[1]) : typeof n == "string" ? G(t) : I(n) ? (t._a = n.slice(0), J(t)) : t._d = n instanceof Date ? new Date(+n) : new Date(n)
    }
    function Z(e, t, n, r, i) {
        return i.relativeTime(t || 1, !!n, e, r)
    }
    function et(e, t, n) {
        var i = r(Math.abs(e) / 1e3), s = r(i / 60), o = r(s / 60), u = r(o / 24), a = r(u / 365), f = i < 45 && ["s", i] || s === 1 && ["m"] || s < 45 && ["mm", s] || o === 1 && ["h"] || o < 22 && ["hh", o] || u === 1 && ["d"] || u <= 25 && ["dd", u] || u <= 45 && ["M"] || u < 345 && ["MM", r(u / 30)] || a === 1 && ["y"] || ["yy", a];
        return f[2] = t, f[3] = e > 0, f[4] = n, Z.apply({}, f)
    }
    function tt(e, n, r) {
        var i = r - n, s = r - e.day();
        return s > i && (s -= 7), s < i - 7 && (s += 7), Math.ceil(t(e).add("d", s).dayOfYear() / 7)
    }
    function nt(e) {
        var n = e._i, r = e._f;
        return n === null || n === "" ? null : (typeof n == "string" && (e._i = n = U().preparse(n)), t.isMoment(n) ? (e = H({}, n), e._d = new Date(+n._d)) : r ? I(r) ? Q(e) : K(e) : Y(e), new D(e))
    }
    function rt(e, n) {
        t.fn[e] = t.fn[e + "s"] = function(e) {
            var t = this._isUTC ? "UTC" : "";
            return e != null ? (this._d["set" + t + n](e), this) : this._d["get" + t + n]()
        }
    }
    function it(e) {
        t.duration.fn[e] = function() {
            return this._data[e]
        }
    }
    function st(e, n) {
        t.duration.fn["as" + e] = function() {
            return +this / n
        }
    }
    var t, n = "2.0.0", r = Math.round, i, s = {}, o = typeof module != "undefined" && module.exports, u = /^\/?Date\((\-?\d+)/i, a = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g, f = /(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g, l = /([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi, c = /\d\d?/, h = /\d{1,3}/, p = /\d{3}/, d = /\d{1,4}/, v = /[+\-]?\d{1,6}/, m = /[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i, g = /Z|[\+\-]\d\d:?\d\d/i, y = /T/i, b = /[\+\-]?\d+(\.\d{1,3})?/, w = /^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/, E = "YYYY-MM-DDTHH:mm:ssZ", S = [["HH:mm:ss.S", /(T| )\d\d:\d\d:\d\d\.\d{1,3}/], ["HH:mm:ss", /(T| )\d\d:\d\d:\d\d/], ["HH:mm", /(T| )\d\d:\d\d/], ["HH", /(T| )\d\d/]], x = /([\+\-]|\d\d)/gi, T = "Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"), N = {Milliseconds: 1,Seconds: 1e3,Minutes: 6e4,Hours: 36e5,Days: 864e5,Months: 2592e6,Years: 31536e6}, C = {}, k = "DDD w W M D d".split(" "), L = "M D H h m s w W".split(" "), A = {M: function() {
            return this.month() + 1
        },MMM: function(e) {
            return this.lang().monthsShort(this, e)
        },MMMM: function(e) {
            return this.lang().months(this, e)
        },D: function() {
            return this.date()
        },DDD: function() {
            return this.dayOfYear()
        },d: function() {
            return this.day()
        },dd: function(e) {
            return this.lang().weekdaysMin(this, e)
        },ddd: function(e) {
            return this.lang().weekdaysShort(this, e)
        },dddd: function(e) {
            return this.lang().weekdays(this, e)
        },w: function() {
            return this.week()
        },W: function() {
            return this.isoWeek()
        },YY: function() {
            return j(this.year() % 100, 2)
        },YYYY: function() {
            return j(this.year(), 4)
        },YYYYY: function() {
            return j(this.year(), 5)
        },a: function() {
            return this.lang().meridiem(this.hours(), this.minutes(), !0)
        },A: function() {
            return this.lang().meridiem(this.hours(), this.minutes(), !1)
        },H: function() {
            return this.hours()
        },h: function() {
            return this.hours() % 12 || 12
        },m: function() {
            return this.minutes()
        },s: function() {
            return this.seconds()
        },S: function() {
            return ~~(this.milliseconds() / 100)
        },SS: function() {
            return j(~~(this.milliseconds() / 10), 2)
        },SSS: function() {
            return j(this.milliseconds(), 3)
        },Z: function() {
            var e = -this.zone(), t = "+";
            return e < 0 && (e = -e, t = "-"), t + j(~~(e / 60), 2) + ":" + j(~~e % 60, 2)
        },ZZ: function() {
            var e = -this.zone(), t = "+";
            return e < 0 && (e = -e, t = "-"), t + j(~~(10 * e / 6), 4)
        },X: function() {
            return this.unix()
        }};
    while (k.length)
        i = k.pop(), A[i + "o"] = M(A[i]);
    while (L.length)
        i = L.pop(), A[i + i] = O(A[i], 2);
    A.DDDD = O(A.DDD, 3), _.prototype = {set: function(e) {
            var t, n;
            for (n in e)
                t = e[n], typeof t == "function" ? this[n] = t : this["_" + n] = t
        },_months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months: function(e) {
            return this._months[e.month()]
        },_monthsShort: "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort: function(e) {
            return this._monthsShort[e.month()]
        },monthsParse: function(e) {
            var n, r, i, s;
            this._monthsParse || (this._monthsParse = []);
            for (n = 0; n < 12; n++) {
                this._monthsParse[n] || (r = t([2e3, n]), i = "^" + this.months(r, "") + "|^" + this.monthsShort(r, ""), this._monthsParse[n] = new RegExp(i.replace(".", ""), "i"));
                if (this._monthsParse[n].test(e))
                    return n
            }
        },_weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays: function(e) {
            return this._weekdays[e.day()]
        },_weekdaysShort: "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort: function(e) {
            return this._weekdaysShort[e.day()]
        },_weekdaysMin: "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin: function(e) {
            return this._weekdaysMin[e.day()]
        },_longDateFormat: {LT: "h:mm A",L: "MM/DD/YYYY",LL: "MMMM D YYYY",LLL: "MMMM D YYYY LT",LLLL: "dddd, MMMM D YYYY LT"},longDateFormat: function(e) {
            var t = this._longDateFormat[e];
            return !t && this._longDateFormat[e.toUpperCase()] && (t = this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function(e) {
                return e.slice(1)
            }), this._longDateFormat[e] = t), t
        },meridiem: function(e, t, n) {
            return e > 11 ? n ? "pm" : "PM" : n ? "am" : "AM"
        },_calendar: {sameDay: "[Today at] LT",nextDay: "[Tomorrow at] LT",nextWeek: "dddd [at] LT",lastDay: "[Yesterday at] LT",lastWeek: "[last] dddd [at] LT",sameElse: "L"},calendar: function(e, t) {
            var n = this._calendar[e];
            return typeof n == "function" ? n.apply(t) : n
        },_relativeTime: {future: "in %s",past: "%s ago",s: "a few seconds",m: "a minute",mm: "%d minutes",h: "an hour",hh: "%d hours",d: "a day",dd: "%d days",M: "a month",MM: "%d months",y: "a year",yy: "%d years"},relativeTime: function(e, t, n, r) {
            var i = this._relativeTime[n];
            return typeof i == "function" ? i(e, t, n, r) : i.replace(/%d/i, e)
        },pastFuture: function(e, t) {
            var n = this._relativeTime[e > 0 ? "future" : "past"];
            return typeof n == "function" ? n(t) : n.replace(/%s/i, t)
        },ordinal: function(e) {
            return this._ordinal.replace("%d", e)
        },_ordinal: "%d",preparse: function(e) {
            return e
        },postformat: function(e) {
            return e
        },week: function(e) {
            return tt(e, this._week.dow, this._week.doy)
        },_week: {dow: 0,doy: 6}}, t = function(e, t, n) {
        return nt({_i: e,_f: t,_l: n,_isUTC: !1})
    }, t.utc = function(e, t, n) {
        return nt({_useUTC: !0,_isUTC: !0,_l: n,_i: e,_f: t})
    }, t.unix = function(e) {
        return t(e * 1e3)
    }, t.duration = function(e, n) {
        var r = t.isDuration(e), i = typeof e == "number", s = r ? e._data : i ? {} : e, o;
        return i && (n ? s[n] = e : s.milliseconds = e), o = new P(s), r && e.hasOwnProperty("_lang") && (o._lang = e._lang), o
    }, t.version = n, t.defaultFormat = E, t.lang = function(e, n) {
        var r;
        if (!e)
            return t.fn._lang._abbr;
        n ? R(e, n) : s[e] || U(e), t.duration.fn._lang = t.fn._lang = U(e)
    }, t.langData = function(e) {
        return e && e._lang && e._lang._abbr && (e = e._lang._abbr), U(e)
    }, t.isMoment = function(e) {
        return e instanceof D
    }, t.isDuration = function(e) {
        return e instanceof P
    }, t.fn = D.prototype = {clone: function() {
            return t(this)
        },valueOf: function() {
            return +this._d
        },unix: function() {
            return Math.floor(+this._d / 1e3)
        },toString: function() {
            return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
        },toDate: function() {
            return this._d
        },toJSON: function() {
            return t.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")
        },toArray: function() {
            var e = this;
            return [e.year(), e.month(), e.date(), e.hours(), e.minutes(), e.seconds(), e.milliseconds()]
        },isValid: function() {
            return this._isValid == null && (this._a ? this._isValid = !q(this._a, (this._isUTC ? t.utc(this._a) : t(this._a)).toArray()) : this._isValid = !isNaN(this._d.getTime())), !!this._isValid
        },utc: function() {
            return this._isUTC = !0, this
        },local: function() {
            return this._isUTC = !1, this
        },format: function(e) {
            var n = X(this, e || t.defaultFormat);
            return this.lang().postformat(n)
        },add: function(e, n) {
            var r;
            return typeof e == "string" ? r = t.duration(+n, e) : r = t.duration(e, n), F(this, r, 1), this
        },subtract: function(e, n) {
            var r;
            return typeof e == "string" ? r = t.duration(+n, e) : r = t.duration(e, n), F(this, r, -1), this
        },diff: function(e, n, r) {
            var i = this._isUTC ? t(e).utc() : t(e).local(), s = (this.zone() - i.zone()) * 6e4, o, u;
            return n && (n = n.replace(/s$/, "")), n === "year" || n === "month" ? (o = (this.daysInMonth() + i.daysInMonth()) * 432e5, u = (this.year() - i.year()) * 12 + (this.month() - i.month()), u += (this - t(this).startOf("month") - (i - t(i).startOf("month"))) / o, n === "year" && (u /= 12)) : (o = this - i - s, u = n === "second" ? o / 1e3 : n === "minute" ? o / 6e4 : n === "hour" ? o / 36e5 : n === "day" ? o / 864e5 : n === "week" ? o / 6048e5 : o), r ? u : B(u)
        },from: function(e, n) {
            return t.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!n)
        },fromNow: function(e) {
            return this.from(t(), e)
        },calendar: function() {
            var e = this.diff(t().startOf("day"), "days", !0), n = e < -6 ? "sameElse" : e < -1 ? "lastWeek" : e < 0 ? "lastDay" : e < 1 ? "sameDay" : e < 2 ? "nextDay" : e < 7 ? "nextWeek" : "sameElse";
            return this.format(this.lang().calendar(n, this))
        },isLeapYear: function() {
            var e = this.year();
            return e % 4 === 0 && e % 100 !== 0 || e % 400 === 0
        },isDST: function() {
            return this.zone() < t([this.year()]).zone() || this.zone() < t([this.year(), 5]).zone()
        },day: function(e) {
            var t = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
            return e == null ? t : this.add({d: e - t})
        },startOf: function(e) {
            e = e.replace(/s$/, "");
            switch (e) {
                case "year":
                    this.month(0);
                case "month":
                    this.date(1);
                case "week":
                case "day":
                    this.hours(0);
                case "hour":
                    this.minutes(0);
                case "minute":
                    this.seconds(0);
                case "second":
                    this.milliseconds(0)
            }
            return e === "week" && this.day(0), this
        },endOf: function(e) {
            return this.startOf(e).add(e.replace(/s?$/, "s"), 1).subtract("ms", 1)
        },isAfter: function(e, n) {
            return n = typeof n != "undefined" ? n : "millisecond", +this.clone().startOf(n) > +t(e).startOf(n)
        },isBefore: function(e, n) {
            return n = typeof n != "undefined" ? n : "millisecond", +this.clone().startOf(n) < +t(e).startOf(n)
        },isSame: function(e, n) {
            return n = typeof n != "undefined" ? n : "millisecond", +this.clone().startOf(n) === +t(e).startOf(n)
        },zone: function() {
            return this._isUTC ? 0 : this._d.getTimezoneOffset()
        },daysInMonth: function() {
            return t.utc([this.year(), this.month() + 1, 0]).date()
        },dayOfYear: function(e) {
            var n = r((t(this).startOf("day") - t(this).startOf("year")) / 864e5) + 1;
            return e == null ? n : this.add("d", e - n)
        },isoWeek: function(e) {
            var t = tt(this, 1, 4);
            return e == null ? t : this.add("d", (e - t) * 7)
        },week: function(e) {
            var t = this.lang().week(this);
            return e == null ? t : this.add("d", (e - t) * 7)
        },lang: function(t) {
            return t === e ? this._lang : (this._lang = U(t), this)
        }};
    for (i = 0; i < T.length; i++)
        rt(T[i].toLowerCase().replace(/s$/, ""), T[i]);
    rt("year", "FullYear"), t.fn.days = t.fn.day, t.fn.weeks = t.fn.week, t.fn.isoWeeks = t.fn.isoWeek, t.duration.fn = P.prototype = {weeks: function() {
            return B(this.days() / 7)
        },valueOf: function() {
            return this._milliseconds + this._days * 864e5 + this._months * 2592e6
        },humanize: function(e) {
            var t = +this, n = et(t, !e, this.lang());
            return e && (n = this.lang().pastFuture(t, n)), this.lang().postformat(n)
        },lang: t.fn.lang};
    for (i in N)
        N.hasOwnProperty(i) && (st(i, N[i]), it(i.toLowerCase()));
    st("Weeks", 6048e5), t.lang("en", {ordinal: function(e) {
            var t = e % 10, n = ~~(e % 100 / 10) === 1 ? "th" : t === 1 ? "st" : t === 2 ? "nd" : t === 3 ? "rd" : "th";
            return e + n
        }}), o && (module.exports = t), typeof ender == "undefined" && (this.moment = t), typeof define == "function" && define.amd && define("moment", [], function() {
        return t
    })
}).call(this);
(function(f) {
    function l(g, h) {
        function d(a) {
            if (!e) {
                e = true;
                c.start && c.start(a, b)
            }
        }
        function i(a, j) {
            if (e) {
                clearTimeout(k);
                k = setTimeout(function() {
                    e = false;
                    c.stop && c.stop(a, b)
                }, j >= 0 ? j : c.delay)
            }
        }
        var c = f.extend({start: null,stop: null,delay: 400}, h), b = f(g), e = false, k;
        b.keypress(d);
        b.keydown(function(a) {
            if (a.keyCode === 8 || a.keyCode === 46)
                d(a)
        });
        b.keyup(i);
        b.blur(function(a) {
            i(a, 0)
        })
    }
    f.fn.typing = function(g) {
        return this.each(function(h, d) {
            l(d, g)
        })
    }
})(jQuery);
var csrftoken = $.cookie('csrftoken');
function csrfSafeMethod(method) {
    return (/^(HEAD|OPTIONS|TRACE)$/.test(method));
}
$.support.cors = true;
$.ajaxSetup({cache: false,crossDomain: true,});
$.extend({csrfAjax: function(options) {
        var defaults = {beforeSend: function(xhr, settings) {
                if (!csrfSafeMethod(settings.type)) {
                    xhr.setRequestHeader("X-CSRFToken", csrftoken);
                }
            }};
        $.extend(options, defaults);
        $.ajax(options);
    }});
$.fn.imagesLoaded = function(callback) {
    var elems = this.filter('img'), len = elems.length, blank = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";
    elems.bind('load.imgloaded', function() {
        if (--len <= 0 && this.src !== blank) {
            elems.unbind('load.imgloaded');
            callback.call(elems, this);
        }
    }).each(function() {
        if (this.complete || this.complete === undefined) {
            var src = this.src;
            this.src = blank;
            this.src = src;
        }
    });
    return this;
};
$(document).ready(function() {
    if (navigator.platform.indexOf('Win') != -1) {
        $('body').addClass('win');
    }
    subscribeForm();
    inputPlaceholder($('#subscribe-updates-form').find('input.input'), 'Email address');
});
function validateEmail(email) {
    var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(email);
}
function flattenJSON(obj) {
    var flattened = {};
    var join = function(path, key) {
        return ((path == "") ? "" : path + "_") + key;
    };
    var flattenArray = function(arr, path) {
        for (var i = 0; i < arr.length; i++) {
            flattenElement(arr, path, i);
        }
    };
    var flattenObject = function(obj, path) {
        for (var key in obj) {
            if (obj.hasOwnProperty(key)) {
                flattenElement(obj, path, key);
            }
        }
    };
    var flattenElement = function(obj, path, key) {
        if (obj[key] instanceof Array) {
            flattenArray(obj[key], join(path, key));
        } else if (typeof obj[key] == "object") {
            flattenObject(obj[key], join(path, key));
        } else {
            flattened[join(path, key)] = obj[key];
        }
    };
    flattenObject(obj, "");
    return flattened;
}
function subscribeForm() {
    var form = $('#subscribe-updates-form'), input = form.find('input.input'), submit = form.find('input.button'), f_elems = form.find('div'), f_sent = form.find('p');
    form.submit(function(e) {
        e.preventDefault();
        if (!validateEmail(input.val()) || input.val() == input.data('placeholder_text'))
            input.addClass('error').focus();
        else {
            $.csrfAjax({url: form.attr('action'),type: 'post',data: form.serialize()});
            f_elems.fadeOut(function() {
                f_sent.fadeIn();
            });
        }
    });
    input.keyup(function() {
        input.removeClass('error');
    });
    input.blur(function() {
        input.removeClass('error');
    });
}
function inputPlaceholder(field, placeholder) {
    var inactiveClass = 'inactive';
    if (field.length > 0) {
        field.data('placeholder_text', placeholder);
        if (field.val() == '') {
            field.val(placeholder);
            field.addClass(inactiveClass);
        }
        field.focus(function() {
            if (field.val() == placeholder) {
                field.val('');
                field.removeClass(inactiveClass);
            }
        });
        field.blur(function() {
            if (field.val() == '') {
                field.val(placeholder);
                field.addClass(inactiveClass);
            }
        });
    }
}
window.trimQuoteForTransfer = function(quote) {
    var target = {};
    for (var i in quote) {
        if (quote.hasOwnProperty(i)) {
            if (i === "estimates") {
                var estimates = quote[i];
                var a = [];
                for (var e = 0; e < estimates.length; e++) {
                    var d = {carrier_id: estimates[e]['carrier_id'],carrier_legal_name: estimates[e]['carrier_legal_name'],is_computed: estimates[e]['is_computed'],monthly_estimate: estimates[e]['monthly_estimate']};
                    a.push(d);
                }
                target['estimates'] = a;
            } else {
                target[i] = quote[i];
            }
        }
    }
    return target;
};
var MAX_PRELOADER_TIME = 10000;
var MIN_PRELOADER_TIME = 4000;
var IZ = {
  startingTime: moment(),
  preloader_removed: false,sidebar: {},initAccordion: function(targClass) {
        return $(targClass).not('.skip_init').accordion({heightStyle: "fill",icons: null});
    },initSidebar: function() {
        return this.initAccordion("#sidebar");
    },refreshSidebar: function() {
        var self = this;
        self.refreshAccordion(self.sidebar);
    },refreshAccordion: function(targ) {
        targ.accordion("refresh");
    },initSelect2: function() {
        $('.select2').not('.skip_init').each(function() {
            var select2_options = {}, dropdownCssClass = $(this).attr('data-select2-dropdown-css-class');
            if (dropdownCssClass) {
                select2_options.dropdownCssClass = dropdownCssClass;
            }
            $(this).select2(select2_options);
        });
    },setSideBoxHeight: function($elem) {
        var outHeight;
        $.each($elem, function() {
            var self = $(this);
            outHeight = self.closest('.ui-accordion-content').outerHeight();
            $.each(self.siblings(), function() {
                outHeight -= $(this).outerHeight();
            });
            outHeight -= 50;
            self.innerHeight(outHeight);
        })
    },setCenterDimensions: function() {
        var windowWidth = document.body.scrollWidth, $sidebar = $('#sidebar');
        $('#center').width(windowWidth > 960 ? windowWidth - $sidebar.width() + 1 : 771);
        $('.stuff-list__body-scroll').height($sidebar.height() - 86)
    },attachEvents: function() {
        var self = this;
        $('.dropdown-menu').on('click', self.dropDownExtHandler);
        $('h3').bind('click', {self: self}, self.accordionToggleHandler);
    },dropDownExtHandler: function(e) {
        if ($(this).hasClass('dropdown-menu-form')) {
            e.stopPropagation();
        }
    },fitDiscountsHeight: function() {
        var $discounts = $('#discountsTab'), discountsHeader = $discounts.find('.ui-accordion-header'), deff = $discounts.outerHeight() - (41 * discountsHeader.length) - 73;
        $discounts.find('.ui-accordion-content-active').css({'height': deff});
    },accordionToggleHandler: function(e) {
        var self = e.data.self, s = $(this);
        self.setSideBoxHeight(s.find('.tab-subcontent'));
        if (s.attr('id') === 'discountsTitle')
            setTimeout(function() {
                $(window).trigger('resize');
            }, $.fx.speeds._default + 100);
    },removePreloader: function() {
        var self = this;
        if (!self.preloader_removed) {
            var currentTime = moment();
            var delay = (currentTime - self.startingTime) >= MIN_PRELOADER_TIME ? 0 : MIN_PRELOADER_TIME - (currentTime - self.startingTime);
            setTimeout(function() {
                $('#preloader').fadeOut(400, function() {
                    $('#container').addClass('after_preload');
                    postal.publish({channel: "main",topic: "done_preloading"});
                });
                $(window).trigger('resize');
                clearInterval(self.removePreloaderWithDelay);
                self.preloader_removed = true;
            }, delay);
        }
    },init: function() {
        var self = this;
        self.sidebar = self.initSidebar();
        self.initSelect2();
        self.setSideBoxHeight($('.tab-subcontent.scroll-pane'));
        self.attachEvents();
        self.setCenterDimensions();
        self.removePreloader();
        $(window).resize(function() {
            IZ.refreshSidebar();
            IZ.setSideBoxHeight($('.tab-subcontent'));
            IZ.setCenterDimensions();
        });
    },removePreloaderWithDelay: setInterval(function() {
        var timePassed = moment() - IZ.startingTime;
        if (timePassed >= MAX_PRELOADER_TIME) {
            IZ.removePreloader();
        }
    }, 1000)};
(function(IZ) {
    IZ.Utils = IZ.Utils || {};
    IZ.Utils.isFieldEmpty = function(type, value) {
        var result;
        if (typeof value === "string") {
            value = $.trim(value);
        }
        switch (type) {
            case String:
                result = !!value;
                break;
            case Boolean:
                result = typeof (value) === "boolean" || (!!value && (/^(true|false|yes|no|1|0)$/i).test(value));
                break;
            case Number:
                result = typeof (value) === "number" || (!!value && !_.isNaN(parseInt(value, 10)));
                break;
        }
        return !result;
    };
})(IZ);
(function(IZ) {
    IZ.Utils = IZ.Utils || {};
    IZ.Utils.toDate = function(date) {
        var patt = /\d{1,2}.{1}\d{1,2}.{1}\d{4}/;
        if (!patt.test(date)) {
            return null;
        }
        return moment(date, 'MM-DD-YYYY');
    };
})(IZ);
(function(IZ) {
    IZ.Utils = IZ.Utils || {};
    IZ.Utils.trackConversion = function() {
        var pixel = new Image(1, 1);
        pixel.src = "//www.googleadservices.com/pagead/conversion/1006709596/?" + "value=1&amp;" + "label=SHzXCNy37wQQ3NaE4AM&amp;" + "guid=ON&amp;" + "script=0";
        $('body').append($(pixel).css({position: 'absolute',bottom: '0','z-index': '-1'}));
        $('<iframe />', {height: 1,width: 1,style: "visibility:hidden;display:none",frameborder: 0,src: "//flex.atdmt.com/mstag/tag/79406f25-ab22-4013-a6a0-c8c86030efd5/analytics.html?" + "dedup=1&" + "domainId=2329832&" + "type=1&" + "actionid=124446"}).appendTo('body');
    };
})(IZ);
(function(IZ) {
    IZ.Utils = IZ.Utils || {};
    IZ.Utils.getCaretPosition = function(ctrl) {
        var caretPos = 0;
        if (document.selection) {
            ctrl.focus();
            var sel = document.selection.createRange();
            sel.moveStart('character', -ctrl.value.length);
            caretPos = sel.text.length;
        } 
        else if (ctrl.selectionStart || ctrl.selectionStart === '0') {
            caretPos = ctrl.selectionStart;
        }
        return (caretPos);
    };
    IZ.Utils.setCaretPosition = function(ctrl, pos) {
        if (ctrl.setSelectionRange) {
            ctrl.focus();
            ctrl.setSelectionRange(pos, pos);
        } 
        else if (ctrl.createTextRange) {
            var range = ctrl.createTextRange();
            range.collapse(true);
            range.moveEnd('character', pos);
            range.moveStart('character', pos);
            range.select();
        }
    };
})(IZ);
(function(IZ) {
    IZ.Utils = IZ.Utils || {};
    IZ.Utils.trackChangeEvent = function(fieldName) {
        var event = 'estimate-data-entry-' + fieldName;
        window.googleEventTracking(event, 'change', window.sessionKey);
    };
})(IZ);
(function(IZ) {
    IZ.Utils = IZ.Utils || {};
    IZ.Utils.initPopovers = function(tooltip_selector) {
        if (tooltip_selector === undefined) {
            tooltip_selector = '';
        }
        var TOOLTIP_CLASS = 'popover_tooltips';
        $('.' + TOOLTIP_CLASS).remove();
        $(tooltip_selector + '[data-toggle="popover"]:not([data-tutorial=true])').popover({html: true,trigger: 'manual',offset: 20,content: function() {
                var selector = $(this).attr('data-popover-selector');
                return $(selector).html();
            },template: '<div class="popover ' + TOOLTIP_CLASS + '" onmouseover="$(this).mouseleave(function() {$(this).hide(); });"><div class="arrow"></div><div class="popover-inner"><div class="popover-content"><article></article></div></div></div>'}).on("click", function(e) {
            e.preventDefault();
        }).on("mouseenter", function() {
            var popover_src = $(this);
            var popover = popover_src.data('popover');
            var popover_src_tip = popover !== null ? popover.$tip : null;
            if (popover_src_tip !== null && popover_src_tip) {
                popover_src.popover("show");
                if (popover_src_tip.hasClass('faded')) {
                    popover_src_tip.removeClass('faded');
                } else {
                    popover_src_tip.stop(true, true);
                    popover_src_tip.fadeIn('fast');
                }
            } else {
                popover_src.popover("show");
            }
        }).on("mouseleave", function(e) {
            var elemn = e.toElement || e.relatedTarget;
            var _this = this;
            if (!$(elemn).is('article')) {
                if ($(".popover:visible").length) {
                    var popover = $(_this).data('popover');
                    if (popover !== null) {
                        var this_tip = popover.$tip;
                        this_tip.stop(true, true);
                        this_tip.fadeOut('fast');
                    }
                }
            }
        });
    };
})(IZ);
(function(IZ) {
    IZ.Utils = IZ.Utils || {};
    IZ.Utils.googleEvents = {sorting: function(sortType, sortOrder) {
            window.googleEventTracking("Sorting", sortType + '-' + sortOrder, window.sessionKey);
        },sectionChange: function(sectionName) {
            window.googleEventTracking("sectionChange", sectionName, window.sessionKey);
        }};
})(IZ);
(function(IZ) {
    IZ.Utils = IZ.Utils || {};
    IZ.Utils.fixIECloseButton = function() {
        var $html = $("html");
        if ($html.hasClass("ie9") || $html.hasClass("oldie")) {
            $(".modal-wrapper").each(function() {
                var $wrapper = $(this), $close = $wrapper.find("button.close");
                $close.appendTo($wrapper).on("click", function(e) {
                    e.preventDefault();
                    $wrapper.fadeOut();
                });
            });
        }
    };
})(IZ);
(function(IZ) {
    IZ.Utils = IZ.Utils || {};
    IZ.Utils.appriseAlertbox = function(msgHead, msgContent, errorFieldsMarkup) {
        var aHeader = '<div class="alert_symbol_wrap"><span class="alert_symbol"></span></div><h2>' + msgHead + '</h2>';
        var startTag = msgContent.length < 41 ? '<span>' : '<p>';
        var endTag = msgContent.length < 41 ? '</span>' : '</p>';
        var aContent = startTag + msgContent + endTag;
        var finalMarkup;
        if (errorFieldsMarkup) {
            finalMarkup = aHeader + aContent + '<ul>' + errorFieldsMarkup + '</ul>';
        } 
        else {
            finalMarkup = aHeader + aContent;
        }
        return finalMarkup;
    };
})(IZ);
(function(IZ) {
    IZ.Utils = IZ.Utils || {};
    IZ.Utils.raiseAjaxError = function() {
        if (!$('.appriseOuter').is(':visible')) {
            apprise(IZ.Utils.appriseAlertbox('Notice:', "Bummer! We're experiencing some connection issues. Please continue but your estimates may not update in real-time. Don't worry! Izzy is probably already addressing the issue."), {'textOk': 'OK'});
        }
    };
})(IZ);
(function(IZ) {
    IZ.Utils = IZ.Utils || {};
    IZ.Utils.autoRepeatKeys = {};
    IZ.Utils.preventNonNumeric = function(allowSlashDash, trackAutoRepeat, element, event) {
        allowSlashDash = allowSlashDash === undefined ? false : allowSlashDash;
        trackAutoRepeat = trackAutoRepeat === undefined ? false : trackAutoRepeat;
        if (event.keyCode !== 46 && event.keyCode !== 8 && event.keyCode !== 9 && event.keyCode !== 27 && event.keyCode !== 13 && !(event.keyCode === 65 && event.ctrlKey) && !(event.keyCode === 65 && event.metaKey) && !(event.keyCode === 82 && event.ctrlKey) && !(event.keyCode === 82 && event.metaKey) && event.keyCode !== 116 && !(event.keyCode >= 35 && event.keyCode <= 39 && event.keyCode !== 38) && (event.keyCode < 48 || event.keyCode > 57) && (event.keyCode < 96 || event.keyCode > 105)) {
            if (!allowSlashDash || (event.keyCode !== 191 && event.keyCode !== 189)) {
                event.preventDefault();
                return false;
            }
        }
        if (trackAutoRepeat && ((event.keyCode >= 48 && event.keyCode <= 57) || (event.keyCode >= 96 && event.keyCode <= 105))) {
            if (event.keyCode in IZ.Utils.autoRepeatKeys) {
                return false;
            } else {
                IZ.Utils.autoRepeatKeys[event.keyCode] = true;
            }
        }
        return true;
    };
})(IZ);
(function(IZ) {
    var RATINGS_OVERVIEW_LIMIT = 3, FEATURES_OVERVIEW_LIMIT = 3;
    function getPaymentOptions(carrier) {
        var options = [];
        var payment_options_dict = {'carrier_has_monthly_policy': 'Per Month','carrier_has_quarterly_policy': 'Per 3 Months','carrier_has_half_yearly_policy': 'Per 6 Months','carrier_has_yearly_policy': 'Per Year'};
        for (var key in payment_options_dict) {
            if (carrier[key]) {
                options.push(payment_options_dict[key]);
            }
        }
        return options;
    }
    function getCarrierRatings(carrier) {
        var ratings = [];
        var ratings_dict = {"carrier_jd_power_score": '/ 5 JD Power Circle Rating',"carrier_customer_score": 'BBB Grade',"carrier_financial_strength": 'AM Best Financial Strength'};
        for (var key in ratings_dict) {
            if (carrier[key] && carrier[key] !== "-1") {
                ratings.push({'name': ratings_dict[key],'value': carrier[key]});
            }
        }
        return ratings;
    }
    function getCarrierFeatures(carrier) {
        var features = [];
        var feature_dict = {"carrier_is_mobile_friendly": 'Mobile Capabilities',"carrier_accident_forgiveness": 'Accident Forgiveness',"carrier_has_vanishing_deductible": 'Vanishing Deductible',"carrier_is_24x7_support": '24x7 Support',"carrier_is_dui_ok": 'DUI Accepted',"carrier_is_sr22_ok": 'SR-22 Accepted','carrier_no_drop_promise': "No Drop Promise",'carrier_pet_injury': "Pet Injury Coverage",'carrier_usage_based': "Usage Based",'carrier_car_replacement': "New Car Replacement",'carrier_naf_accident': "Waiver of Ded for Not-At-Fault Accident",'carrier_safe_driver_discount': "Safe Driver Discount",'carrier_defensive_driver_discount': "Defensive Driver Discount",'carrier_multi_policy_discount': "Multi Policy Discount",'carrier_multi_vehicle_discount': "Multi Vehicle Discount",'carrier_academics_discount': "Academics Discount",'carrier_lock_in_rates': "Lock In Your Rates"};
        for (var key in feature_dict) {
            if (carrier[key]) {
                features.push(feature_dict[key]);
            }
        }
        for (var i = 0; i < carrier['carrier_features'].length; i++) {
            if (carrier['carrier_features'][i] !== "") {
                features.push(carrier['carrier_features'][i]);
            }
        }
        return features;
    }
    IZ.CarrierData = function(carrier) {
        var self = this, features = getCarrierFeatures(carrier), ratings = getCarrierRatings(carrier), izScore = carrier['iz_score'];
        self.id = carrier['carrier_id'];
        carrier['iz_score'] = (izScore === 0) ? 1 : izScore;
        self.displayName = carrier['carrier_display_name'];
        self.displayNamePossessive = self.displayName + (self.displayName.match(/s$/) ? "'" : "'s");
        self.description = carrier['carrier_description'];
        self.isPmPhone = carrier['carrier_is_pm_phone'];
        self.redirectPhoneNumber = carrier['carrier_redirect_phone_number'];
        self.options = getPaymentOptions(carrier);
        if (features.length > FEATURES_OVERVIEW_LIMIT) {
            self.features = features.slice(0, FEATURES_OVERVIEW_LIMIT);
            self.featuresExtended = features;
        } else {
            self.features = features;
            self.featuresExtended = [];
        }
        if (ratings.length > RATINGS_OVERVIEW_LIMIT) {
            self.ratings = ratings.slice(0, RATINGS_OVERVIEW_LIMIT);
            self.ratingsExtended = ratings;
        } else {
            self.ratings = ratings;
            self.ratingsExtended = [];
        }
        self.isPmAffiliate = carrier['carrier_is_pm_affiliate'];
        self.affiliateLink = carrier['carrier_pm_affiliate_link'];
        self.monthlyEstimate = ko.observable(carrier['monthly_estimate']);
        self.semiAnnualEstimate = ko.observable(carrier['semi_annual_estimate']);
        self.percentageChangeClass = ko.observable('neutral');
        self.positionChangeClass = ko.observable('neutral');
        self.changePercentage = ko.observable('. . .');
        self.canBuy = (carrier.carrier_is_pm_phone && carrier.carrier_has_bind_source) || (carrier.carrier_is_pm_affiliate && carrier.carrier_pm_affiliate_link) || (carrier.carrier_is_pm_redirect_phone && carrier.carrier_redirect_phone_number) ? true : false;
        self.showSpoiler = ko.observable(false);
    };
})(IZ);
(function(IZ, $) {
    var Zipcode = function(zipcode, city, state) {
        var self = this;
        self.zipcode = ko.observable(zipcode);
        self.city = ko.observable(city);
        self.state = ko.observable(state);
    };
    IZ.Zipcode = Zipcode;
    Zipcode.isValid = function(zipcode) {
        return (/\b\d{5}\b/g).test(zipcode);
    };
    Zipcode.getByZipcode = function(zipcode, success, notFoundCallback, options) {
        var ajax_options = {url: "/check_zipcode/?zipcode=" + zipcode,type: "GET",dataType: 'json',success: function(result) {
                success(new IZ.Zipcode.fromJSON(result), result.questions, result.state_coverage_options, result.active_carrier_count);
            },error: function(result) {
                if (result.status !== 400) {
                    postal.publish({channel: "main",topic: "ajax.error"});
                    if (result.status === 404 && notFoundCallback) {
                        notFoundCallback();
                    }
                }
            }};
        $.extend(ajax_options, options);
        $.csrfAjax(ajax_options);
    };
    Zipcode.fromJSON = function(json) {
        return new Zipcode(json['zipcode'], json['city'], json['state']);
    };
    Zipcode.updateIZQuote = function(zipcode) {
        izQuote.zipcode = zipcode.zipcode();
        izQuote.city = zipcode.city();
        izQuote.state = zipcode.state();
    };
})(IZ, jQuery);
(function(IZ, $, ko, postal, undefined) {
    var Vehicle = function(index) {
        var self = this;
        self.index = ko.observable(index);
        self.id = ko.observable();
        self.displayName = ko.observable();
        self.ownership = ko.observable();
        self.milesPerYear = ko.observable();
        self.primaryUse = ko.observable();
        self.hasAlarm = ko.observable();
        self.notifying = ko.observable(false);
        self.ie8IgnoreVehicleChange = ko.observable(false);
        self.allowedQuestions = ko.observableArray([self.ownership, self.milesPerYear, self.primaryUse, self.hasAlarm]);
        self.isValid = ko.computed(function() {
            return self.id() !== undefined && self.index() !== undefined;
        });
        self.displayName.subscribe(function(newValue) {
            if (!newValue) {
                self.id(undefined);
                self.notifying(false);
            }
        });
        var postalSubscriptions = [];
        var channel = postal.channel("main");
        postalSubscriptions.push(channel.subscribe("notification.changed", function(data) {
            self.notifying(data.value);
        }));
        self.clearSubscriptions = function() {
            var i = 0, length = postalSubscriptions.length;
            for (; i < length; i++) {
                postalSubscriptions[i].unsubscribe();
            }
        };
        function createOnChangeHandler(fieldName) {
            return function() {
                if (self.isValid()) {
                    updateIZQuote(self);
                    postal.publish({channel: "main",topic: "vehicle.changed",data: {}});
                    IZ.Utils.trackChangeEvent('vehicle_' + self.index() + '_' + fieldName);
                }
            };
        }
        function onNameAndOwnershipChangeHandler(fieldName) {
            return function() {
                if (self.isValid()) {
                    createOnChangeHandler(fieldName)();
                    postal.publish({channel: "main",topic: "check_minimum_coverage",data: {}});
                }
            };
        }
        var subscriptions = [];
        self.notifying.subscribe(function(notifying) {
            if (notifying) {
                console.log("Vehicle=" + self.index() + " starts notifying");
                subscriptions.push(self.id.subscribe(onNameAndOwnershipChangeHandler('id')));
                subscriptions.push(self.ownership.subscribe(onNameAndOwnershipChangeHandler('ownership')));
                subscriptions.push(self.milesPerYear.subscribe(createOnChangeHandler('miles_per_year')));
                subscriptions.push(self.primaryUse.subscribe(createOnChangeHandler('primary_use')));
                subscriptions.push(self.hasAlarm.subscribe(createOnChangeHandler('has_alarm')));
            } else {
                console.log("Vehicle=" + self.index() + " stops notifying");
                var i = 0, length = subscriptions.length;
                for (; i < length; i++) {
                    subscriptions[i].dispose();
                }
            }
        });
        self.isComplete = ko.computed(function() {
            var isComplete = true;
            isComplete = isComplete && !isFieldEmpty(Number, self.id());
            isComplete = isComplete && ($.inArray(self.hasAlarm, self.allowedQuestions()) > -1 ? !isFieldEmpty(Boolean, self.hasAlarm()) : true);
            isComplete = isComplete && ($.inArray(self.milesPerYear, self.allowedQuestions()) > -1 ? !isFieldEmpty(Number, self.milesPerYear()) : true);
            isComplete = isComplete && ($.inArray(self.primaryUse, self.allowedQuestions()) > -1 ? !isFieldEmpty(Number, self.primaryUse()) : true);
            isComplete = isComplete && ($.inArray(self.ownership, self.allowedQuestions()) > -1 ? !isFieldEmpty(Number, self.ownership()) : true);
            return isComplete;
        });
    };
    IZ.Vehicle = Vehicle;
    Vehicle.query = function(text, successCallback, options) {
        var ajax_options = {url: "/vehicle-suggest/",type: 'GET',data: {query: text},dataType: 'json',success: function(results) {
                var i = 0, length = results.length, vehicles = [];
                for (; i < length; i++) {
                    var newVehicle = Vehicle.fromJSON(results[i]);
                    vehicles.push(newVehicle);
                }
                successCallback(vehicles);
            },error: function(result) {
                if (result.status !== 400) {
                    postal.publish({channel: "main",topic: "ajax.error"});
                }
            }};
        $.extend(ajax_options, options);
        $.csrfAjax(ajax_options);
    };
    Vehicle.fromJSON = function(json, index) {
        var vehicle = new Vehicle(index);
        vehicle.id(json['vehicle_id']);
        vehicle.milesPerYear(json['miles_per_year']);
        vehicle.primaryUse(json['primary_use']);
        vehicle.ownership(json['ownership']);
        vehicle.hasAlarm(json['has_alarm']);
        vehicle.displayName(json['vehicle_display_name']);
        return vehicle;
    };
    function updateIZQuote(vehicle) {
        var myIndex = vehicle.index();
        var izVehicle = izQuote.vehicles[myIndex];
        if (izVehicle === undefined) {
            izQuote.vehicles[myIndex] = izVehicle = {};
        }
        izVehicle['vehicle_id'] = vehicle.id();
        izVehicle['vehicle_display_name'] = vehicle.displayName();
        if (isFieldEmpty(Boolean, vehicle.hasAlarm())) {
            izVehicle['has_alarm'] = null;
        } else {
            izVehicle['has_alarm'] = vehicle.hasAlarm() === 'true';
        }
        if (isFieldEmpty(Number, vehicle.milesPerYear())) {
            izVehicle['miles_per_year'] = null;
        } else {
            izVehicle['miles_per_year'] = vehicle.milesPerYear();
        }
        if (isFieldEmpty(Number, vehicle.ownership())) {
            izVehicle['ownership'] = null;
        } else {
            izVehicle['ownership'] = vehicle.ownership();
        }
        if (isFieldEmpty(Number, vehicle.primaryUse())) {
            izVehicle['primary_use'] = null;
        } else {
            izVehicle['primary_use'] = vehicle.primaryUse();
        }
    }
    function isFieldEmpty(type, value) {
        var result;
        if (typeof value === "string") {
            value = $.trim(value);
        }
        switch (type) {
            case String:
                result = !!value;
                break;
            case Boolean:
                result = typeof (value) === "boolean" || (!!value && (/^(true|false|yes|no|1|0)$/i).test(value));
                break;
            case Number:
                result = typeof (value) === "number" || (!!value && !_.isNaN(parseInt(value, 10)));
                break;
        }
        return !result;
    }
})(IZ, jQuery, ko, postal);
(function(IZ, $, ko, postal, undefined) {
    var Driver = function(index) {
        var self = this;
        self.index = ko.observable(index);
        self.primaryDriver = ko.observable();
        self.dob = ko.observable();
        self.gender = ko.observable();
        self.ageFirstLicensed = ko.observable(window.defaultFirstLicenseAge);
        self.incidents = ko.observableArray();
        self.hasIncidents = ko.observable("");
        self.maritalStatus = ko.observable();
        self.creditScore = ko.observable();
        self.currentlyInsured = ko.observable();
        self.notifying = ko.observable(false);
        self.isStudent = ko.observable(false);
        self.driversTraining = ko.observable(false);
        self.goodStudent = ko.observable(false);
        self.dobBackendError = ko.observable();
        self.ageFirstLicensedBackendError = ko.observable();
        self.isValid = ko.computed(function() {
            return self.index() !== undefined;
        });
        self.allowedQuestions = ko.observableArray([self.gender, self.dob, self.creditScore, self.currentlyInsured, self.maritalStatus, self.ageFirstLicensed]);
        var postalSubscriptions = [];
        var channel = postal.channel("main");
        postalSubscriptions.push(channel.subscribe("notification.changed", function(data) {
            self.notifying(data.value);
        }));
        postalSubscriptions.push(channel.subscribe("backendError" + (self.index() + 1) + "_invalidDOB", function() {
            self.dobBackendError('invalid');
        }));
        postalSubscriptions.push(channel.subscribe("backendError" + (self.index() + 1) + "_badDOB", function() {
            self.dobBackendError('bad');
        }));
        postalSubscriptions.push(channel.subscribe("backendError" + (self.index() + 1) + "_invalid_age_first_licensed", function() {
            self.ageFirstLicensedBackendError('invalid');
        }));
        postalSubscriptions.push(channel.subscribe("backendError" + (self.index() + 1) + "_bad_age_first_licensed", function() {
            self.ageFirstLicensedBackendError('bad');
        }));
        postalSubscriptions.push(channel.subscribe("incidents.clear", function() {
            if (self.incidents().length > 0) {
                self.incidents.removeAll();
                self.saveIncidentClick();
            }
        }));
        postalSubscriptions.push(channel.subscribe("zipcode.changed", function() {
            updateIZQuoteAgeFirstLicensed(self);
        }));
        postalSubscriptions.push(channel.subscribe("izQuote_age_first_licensed.init", function() {
            updateIZQuoteAgeFirstLicensed(self);
        }));
        postalSubscriptions.push(channel.subscribe("izQuote.updated", function() {
            if (self.isValid() && self.index() < izQuote['drivers'].length) {
                self.isStudent(izQuote['drivers'][self.index()]['is_student']);
            }
        }));
        self.clearSubscriptions = function() {
            var i = 0, length = postalSubscriptions.length;
            for (; i < length; i++) {
                postalSubscriptions[i].unsubscribe();
            }
        };
        self.dobStatus = ko.computed(function() {
            var val = self.dob();
            if ($.inArray(self.dob, self.allowedQuestions()) > -1) {
                var backendError = self.dobBackendError();
                if (backendError) {
                    return backendError;
                }
                var validity;
                if (IZ.Utils.isFieldEmpty(String, val)) {
                    validity = 'valid';
                } else if (val.length === 10) {
                    var dob = IZ.Utils.toDate(val);
                    if (dob != null && dob.isValid()) {
                        var today = new Date();
                        if (dob.year() < 1900 || today < dob) {
                            validity = 'bad';
                        } else if (moment(new Date()).diff(dob, 'years') < window.minimumDriverAge) {
                            validity = 'invalid';
                        } else {
                            validity = 'valid';
                        }
                    } else {
                        validity = 'bad';
                    }
                } else {
                    validity = 'bad';
                }
                return validity;
            } else {
                return 'valid';
            }
        });
        self.isAgeFirstLicensedValid = ko.computed(function() {
            var dob = self.dob();
            var ageFirstLicensed = self.ageFirstLicensed();
            if ($.inArray(self.ageFirstLicensed, self.allowedQuestions()) > -1) {
                if (self.ageFirstLicensedBackendError()) {
                    return false;
                } else if (IZ.Utils.isFieldEmpty(String, ageFirstLicensed)) {
                    return true;
                } else if ((/\b\d{2}\b/g).test(ageFirstLicensed)) {
                    ageFirstLicensed = parseInt(ageFirstLicensed, 10);
                    if (ageFirstLicensed >= window.minimumDriverAge && ageFirstLicensed <= 99) {
                        if (!IZ.Utils.isFieldEmpty(String, dob) && self.dobStatus() === 'valid') {
                            return ageFirstLicensed <= moment(new Date()).diff(IZ.Utils.toDate(dob), 'years');
                        } else {
                            return true;
                        }
                    }
                }
                return false;
            } else {
                return true;
            }
        });
        function createOnChangeHandler(fieldName, data) {
            data = (data) ? data : {};
            return function() {
                if (self.isValid()) {
                    updateIZQuote(self);
                    postal.publish({channel: "main",topic: "driver.changed",data: data});
                    IZ.Utils.trackChangeEvent(fieldName);
                }
            };
        }
        var subscriptions = [];
        self.notifying.subscribe(function(notifying) {
            if (notifying) {
                console.log("Driver=" + self.index() + " starts notifying");
                subscriptions.push(self.dob.subscribe(function() {
                    if (self.dobBackendError()) {
                        self.dobBackendError(null);
                    }
                }));
                subscriptions.push(self.ageFirstLicensed.subscribe(function(newValue) {
                    $.cookie('isAgeFirstLicensedEmpty' + self.index(), IZ.Utils.isFieldEmpty(String, newValue), {expires: 365 * 10});
                    if (self.ageFirstLicensedBackendError()) {
                        self.ageFirstLicensedBackendError(null);
                    }
                }));
                subscriptions.push(self.dob.subscribe(createOnChangeHandler('driver_' + self.index() + '_dob')));
                subscriptions.push(self.gender.subscribe(createOnChangeHandler('driver_' + self.index() + '_gender')));
                subscriptions.push(self.ageFirstLicensed.subscribe(createOnChangeHandler('driver_' + self.index() + '_age_first_licensed')));
                subscriptions.push(self.maritalStatus.subscribe(createOnChangeHandler('driver_' + self.index() + '_marital_status')));
                subscriptions.push(self.currentlyInsured.subscribe(createOnChangeHandler('currently_insured')));
                subscriptions.push(self.creditScore.subscribe(createOnChangeHandler('credit_score')));
                subscriptions.push(self.isStudent.subscribe(createOnChangeHandler('is_student')));
                subscriptions.push(self.driversTraining.subscribe(createOnChangeHandler('drivers_training')));
                subscriptions.push(self.goodStudent.subscribe(createOnChangeHandler('good_student')));
            } else {
                console.log("Driver=" + self.index() + " stops notifying");
                var i = 0, length = subscriptions.length;
                for (; i < length; i++) {
                    subscriptions[i].dispose();
                }
            }
        });
        self.isComplete = ko.computed(function() {
            if (!self.isValid() || !self.isAgeFirstLicensedValid() || self.dobStatus() !== 'valid') {
                return false;
            }
            var result = true;
            result = result && ($.inArray(self.gender, self.allowedQuestions()) > -1 ? !IZ.Utils.isFieldEmpty(Number, self.gender()) : true);
            result = result && ($.inArray(self.dob, self.allowedQuestions()) > -1 ? !IZ.Utils.isFieldEmpty(String, self.dob()) : true);
            result = result && ($.inArray(self.ageFirstLicensed, self.allowedQuestions()) > -1 ? !IZ.Utils.isFieldEmpty(String, self.ageFirstLicensed()) : true);
            result = result && ($.inArray(self.maritalStatus, self.allowedQuestions()) > -1 ? !IZ.Utils.isFieldEmpty(Number, self.maritalStatus()) : true);
            result = result && ($.inArray(self.driversTraining, self.allowedQuestions()) > -1 ? !IZ.Utils.isFieldEmpty(Boolean, self.driversTraining()) : true);
            result = result && ($.inArray(self.goodStudent, self.allowedQuestions()) > -1 ? !IZ.Utils.isFieldEmpty(Boolean, self.goodStudent()) : true);
            if (self.index() === 0) {
                var currentlyInsured = self.currentlyInsured();
                result = result && ($.inArray(self.creditScore, self.allowedQuestions()) > -1 ? !IZ.Utils.isFieldEmpty(Number, self.creditScore()) : true);
                result = result && ($.inArray(self.currentlyInsured, self.allowedQuestions()) > -1 ? !IZ.Utils.isFieldEmpty(Boolean, currentlyInsured) : true);
            }
            return result;
        });
        self.shouldDisplayError = ko.observable(false);
        function subscribeIsValidToIsStillInvalid(accident) {
            accident.isValid.subscribe(function() {
                self.isStillInvalid();
            });
        }
        self.incidents.subscribe(function() {
            var accidents = self.incidents();
            for (var i = 0; i < accidents.length; i++) {
                subscribeIsValidToIsStillInvalid(accidents[i]);
            }
        });
        self.isStillInvalid = function() {
            var stillInvalid = false;
            var accidents = self.incidents(), i = 0;
            for (; i < accidents.length; i++) {
                if (!accidents[i].isValid() && accidents[i].displayIncident()) {
                    stillInvalid = true;
                }
            }
            if (self.shouldDisplayError() && !stillInvalid) {
                self.shouldDisplayError(false);
            }
        };
        self.saveIncidentClick = function() {
            self.shouldDisplayError(false);
            var accidents = self.incidents(), i = 0;
            for (; i < accidents.length; i++) {
                if (!accidents[i].displayIncident()) {
                    self.incidents.remove(accidents[i--]);
                }
                if (accidents[i] && accidents[i].displayIncident() && !accidents[i].isValid()) {
                    self.shouldDisplayError(true);
                }
            }
            if (self.incidents().length === 0 && self.hasIncidents() === 'true') {
                self.hasIncidents('false');
            }
            if (!self.shouldDisplayError()) {
                createOnChangeHandler('driver_' + self.index() + '_incidents', {incidentsSaved: true})();
                $('.incidentModal').modal('hide');
            }
            self.incidents(self.incidents());
        };
    };
    IZ.Driver = Driver;
    Driver.fromJSON = function(json, index, allIncidents) {
        var driver = new Driver(index);
        var dob = json['dob'] !== null ? moment(json['dob'], 'YYYY-MM-DD') : null;
        if (dob != null) {
            dob = dob.format('MM') + '/' + dob.format('DD') + '/' + dob.format('YYYY');
        }
        driver.dob(dob);
        driver.primaryDriver(json['primary_driver']);
        driver.gender(json['gender']);
        driver.ageFirstLicensed(json['age_first_licensed'] !== null ? json['age_first_licensed'].toString() : $.cookie('isAgeFirstLicensedEmpty' + index) === 'true' ? null : window.defaultFirstLicenseAge);
        driver.maritalStatus(json['marital_status']);
        var incidents = [], i = 0;
        for (; i < json['incidents'].length; i++) {
            var incident = new IZ.Incident(json['incidents'][i]['incident_type_id'], allIncidents);
            incidents.push(incident);
        }
        driver.incidents(incidents);
        driver.hasIncidents(json['incidents'].length !== 0 ? 'true' : "");
        driver.isStudent(json['is_student']);
        driver.driversTraining(json['drivers_training'] !== null ? json['drivers_training'] : false);
        driver.goodStudent(json['good_student'] !== null ? json['good_student'] : false);
        if (index === 0) {
            driver.creditScore(izQuote['credit_score']);
            driver.currentlyInsured(izQuote['currently_insured']);
        }
        return driver;
    };
    var updateIZQuoteAgeFirstLicensed = function(driver) {
        var myIndex = driver.index();
        var izDriver = izQuote.drivers[myIndex];
        if ($.inArray(driver.ageFirstLicensed, driver.allowedQuestions()) === -1 || IZ.Utils.isFieldEmpty(String, driver.ageFirstLicensed()) || !driver.isAgeFirstLicensedValid()) {
            izDriver['age_first_licensed'] = null;
        } else {
            izDriver['age_first_licensed'] = parseInt(driver.ageFirstLicensed(), 10);
        }
    };
    var updateIZQuote = function(driver) {
        var myIndex = driver.index();
        var izDriver = izQuote.drivers[myIndex];
        if (izDriver === undefined) {
            izQuote.drivers[myIndex] = izDriver = {};
        }
        if (IZ.Utils.isFieldEmpty(Boolean, driver.primaryDriver())) {
            izDriver['primary_driver'] = false;
        } else {
            izDriver['primary_driver'] = driver.primaryDriver();
        }
        if (IZ.Utils.isFieldEmpty(Number, driver.gender())) {
            izDriver['gender'] = null;
        } else {
            izDriver['gender'] = driver.gender();
        }
        updateIZQuoteAgeFirstLicensed(driver);
        if (IZ.Utils.isFieldEmpty(Number, driver.maritalStatus())) {
            izDriver['marital_status'] = null;
        } else {
            izDriver['marital_status'] = driver.maritalStatus();
        }
        if (IZ.Utils.isFieldEmpty(String, driver.dob()) || driver.dobStatus() !== 'valid') {
            izDriver['dob'] = null;
        } else {
            izDriver['dob'] = IZ.Utils.toDate(driver.dob());
        }
        if (!driver.isStudent() || IZ.Utils.isFieldEmpty(Boolean, driver.driversTraining())) {
            izDriver['drivers_training'] = null;
        } else {
            izDriver['drivers_training'] = driver.driversTraining();
        }
        if (!driver.isStudent() || IZ.Utils.isFieldEmpty(Boolean, driver.goodStudent())) {
            izDriver['good_student'] = null;
        } else {
            izDriver['good_student'] = driver.goodStudent();
        }
        var incidents = [], i = 0;
        for (; i < driver.incidents().length; i++) {
            if (driver.incidents()[i].incidentTypeId() !== "") {
                incidents.push({incident_type_id: driver.incidents()[i].incidentTypeId()});
            }
        }
        izDriver['incidents'] = incidents;
        if (myIndex === 0) {
            if (IZ.Utils.isFieldEmpty(Number, driver.creditScore())) {
                izQuote['credit_score'] = null;
            } else {
                izQuote['credit_score'] = driver.creditScore();
            }
            if (IZ.Utils.isFieldEmpty(Boolean, driver.currentlyInsured())) {
                izQuote['currently_insured'] = null;
            } else {
                izQuote['currently_insured'] = driver.currentlyInsured();
            }
        }
    };
})(IZ, jQuery, ko, postal);
(function(IZ) {
    IZ.CoverageData = function(name, heading, index, leftColProperties, rightColProperties) {
        var self = this;
        self.name = name;
        self.heading = heading;
        self.infoLeftCol = [];
        for (var i = 0; i < leftColProperties.length; i++) {
            if (leftColProperties[i][1][name] !== undefined) {
                self.infoLeftCol.push(leftColProperties[i][1][name] + leftColProperties[i][0]);
            }
        }
        self.infoRightCol = [];
        for (i = 0; i < rightColProperties.length; i++) {
            if (rightColProperties[i][1][name] !== undefined) {
                self.infoRightCol.push(rightColProperties[i][1][name] + rightColProperties[i][0]);
            }
        }
        self.coverageLevel = "coverageLevel" + index;
        self.percentage = index * 25 + "%";
    };
})(IZ);
(function(IZ, ko) {
    function getIncidentCategory(allIncidents, incidentId) {
        var result = "";
        if (incidentId !== "") {
            for (var j = 0; j < allIncidents.length; j++) {
                var incidentTypes = allIncidents[j][1];
                for (var q = 0; q < incidentTypes.length; q++) {
                    if (incidentTypes[q][0] === incidentId) {
                        result = j;
                        break;
                    }
                }
            }
        }
        return result;
    }
    function convertToOptions(options) {
        var newOptions = [{value: "",text: ""}], i = 0;
        for (; i < options.length; i++) {
            newOptions.push({text: options[i][1],value: options[i][0]});
        }
        return newOptions;
    }
    var Incident = function(incidentId, allIncidents) {
        var self = this;
        self.incidentCategory = ko.observable(getIncidentCategory(allIncidents, incidentId));
        self.incidentType = ko.observable(incidentId);
        self.displayIncident = ko.observable(incidentId !== "");
        self.incidentTypeOptions = ko.computed(function() {
            return self.incidentCategory() !== "" ? convertToOptions(allIncidents[self.incidentCategory()][1]) : "";
        });
        self.shouldDisplayTypes = ko.computed(function() {
            return self.incidentTypeOptions().length > 2;
        });
        self.incidentTypeId = ko.computed(function() {
            var result = "";
            if (self.incidentType() !== null && self.incidentType() !== "") {
                result = self.incidentType();
            } else if (self.incidentTypeOptions().length === 2) {
                result = self.incidentTypeOptions()[1].value;
            }
            return result;
        });
        self.isValid = ko.computed(function() {
            return self.incidentTypeId() !== "" && self.displayIncident() === true;
        });
    };
    IZ.Incident = Incident;
})(IZ, ko);
(function(IZ, $) {
    IZ.BuyNowViewModel = function(izQuote, driversVM, vehiclesVM) {
        var self = this, patt = /^\(?([2-9][0-8][0-9])\)?[-. ]?([2-9][0-9]{2})[-. ]?([0-9]{4})$/, phoneNo = $.cookie('phoneNo');
        if (!phoneNo) {
            phoneNo = '';
        }
        self.linkEnabled = ko.observable(false);
        self.enableLink = function() {
            self.linkEnabled(true);
        };
        self.disableLink = function() {
            self.linkEnabled(false);
        };
        self.selectedCarrierData = ko.observable();
        self.buyQuoteRefId = ko.observable();
        self.isDiscountApplied = ko.observable(false);
        self.placeCallSuccess = ko.observable(false);
        self.showPlaceCallStuff = ko.observable(true);
        self.showPlaceCallLoader = ko.observable(false);
        self.phoneNo = ko.observable(phoneNo);
        self.enablePlaceCall = ko.observable(false);
        self.showBuyOnlineModal = ko.observable(false);
        self.showAffiliateLink = ko.observable(false);
        self.affiliateLinkWithQuoteId = ko.computed(function() {
            var selectedCarrier = self.selectedCarrierData();
            if (selectedCarrier) {
                var link = selectedCarrier.affiliateLink;
                if (selectedCarrier.isPmAffiliate && link) {
                    return link + '&u1=' + izQuote.id;
                }
            }
            return null;
        });
        self.buyOnlineDetails = ko.computed(function() {
            var details = [];
            var drivers = driversVM.tabs().length;
            details.push({icon: 'icon-driver',text: drivers + ' ' + (drivers > 1 ? 'Drivers' : 'Driver')});
            for (var i in vehiclesVM.tabs()) {
                var currentVehicle = vehiclesVM.tabs()[i].vehicle();
                var name = currentVehicle.displayName();
                if (name !== undefined && name != null && currentVehicle.isValid()) {
                    if (name.indexOf(' ') >= 1) {
                        name = name.split(' ').splice(0, 2).join(' ');
                    }
                    details.push({icon: 'icon-steeringwheel',text: name});
                }
            }
            if (self.isDiscountApplied()) {
                details.push({icon: 'icon-discounts',text: 'Discounts Applied'});
            }
            return details;
        });
        self.buyNow = function(index, carrier) {
            if (carrier.canBuy) {
                self.isDiscountApplied(izQuote['home_ownership'] || (izQuote['prior_carrier'] && izQuote['prior_carrier_coverage_months']));
                self.selectedCarrierData(carrier);
                self.showAffiliateLink(false);
                var click_data = {'carrier_id': carrier.id,'accuracy': izQuote['accuracy'],'carrier_position': index};
                $.csrfAjax({url: '/api/internal/v1/buy_click/',type: 'POST',dataType: "json",contentType: "application/json",data: JSON.stringify(click_data),error: function() {
                        IZ.Utils.raiseAjaxError();
                    }});
                window.googleEventTracking('Buy', 'buy-now-click-' + carrier.displayName, window.sessionKey);
                IZ.Utils.trackConversion();
                if (izQuote['zipcode'] === "") {
                    apprise(IZ.Utils.appriseAlertbox('Notice:', 'Please Enter a Zipcode to Proceed'));
                    return false;
                }
                if (carrier.isPmAffiliate === true && carrier.carrier_pm_affiliate_link !== null) {
                    self.showAffiliateLink(true);
                }
                self.buyQuoteRefId(null);
                self.showPlaceCallStuff(true);
                self.showPlaceCallLoader(false);
                self.placeCallSuccess(false);
                self.showBuyOnlineModal(true);
                IZ.Utils.initPopovers('.js_popover_tt');
                if (carrier.isPmPhone === true) {
                    izQuote['selected_carrier_id'] = self.selectedCarrierData().id;
                    self.enablePlaceCall(false);
                    $.csrfAjax({url: '/api/internal/v1/buy_quote/',type: 'POST',dataType: "json",contentType: "application/json",data: JSON.stringify(izQuote),success: function(result) {
                            self.buyQuoteRefId(result['reference_id']);
                            izQuote['buy_quote_ref_id'] = result['reference_id'];
                            izQuote['lead_quote_id'] = result['lead']['id'];
                            self.enablePlaceCall(true);
                        },error: function(result) {
                            if (result.status !== 400) {
                                IZ.Utils.raiseAjaxError();
                            }
                        }});
                }
            }
            return false;
        };
        self.placeCall = function() {
            if (self.enablePlaceCall()) {
                var phone_no = self.phoneNo().replace(/[^\d]/g, '');
                if (phone_no.length !== 10 || (phone_no !== '0000000000' && !patt.test(phone_no))) {
                    self.enablePlaceCall(false);
                    apprise(IZ.Utils.appriseAlertbox('Notice:', 'Please enter a valid US phone number.'), {'textOk': 'OKAY - I understand'}, function() {
                        self.enablePlaceCall(true);
                    });
                    return false;
                }
                var data = {'quote_ref_id': izQuote['buy_quote_ref_id'],'phone_no': phone_no};
                var lead_url, lead_method;
                if (izQuote['lead_quote_id'] !== undefined && izQuote['lead_quote_id'] != null) {
                    lead_url = '/api/internal/v1/lead_quote/' + izQuote['lead_quote_id'] + '/';
                    lead_method = 'PUT';
                } 
                else {
                    lead_url = '/api/internal/v1/lead_quote/';
                    lead_method = 'POST';
                }
                self.showPlaceCallLoader(true);
                $.csrfAjax({url: lead_url,type: lead_method,dataType: "json",contentType: "application/json",data: JSON.stringify(data),success: function(result) {
                        izQuote['lead_quote_id'] = result['id'];
                        self.showPlaceCallLoader(false);
                        self.showPlaceCallStuff(false);
                        setTimeout(function() {
                            self.placeCallSuccess(true);
                        }, 400);
                    },error: function(result) {
                        if (result.status !== 400) {
                            IZ.Utils.raiseAjaxError();
                        } 
                        else {
                            self.enablePlaceCall(false);
                            apprise(IZ.Utils.appriseAlertbox('Notice:', 'Please enter a valid US phone number.'), {'textOk': 'OKAY - I understand'}, function() {
                                self.enablePlaceCall(true);
                            });
                        }
                    }});
            }
            return false;
        };
        self.keyDown = function(data, event) {
            if (event.keyCode === 13) {
                self.placeCall();
                return false;
            }
            if (event.keyCode === 46 || event.keyCode === 8 || event.keyCode === 9 || event.keyCode === 27 || event.keyCode === 13 || (event.keyCode === 65 && event.ctrlKey === true) || (event.keyCode === 67 && event.ctrlKey === true) || (event.keyCode === 86 && event.ctrlKey === true) || (event.metaKey && event.keyCode === 65) || (event.keyCode >= 35 && event.keyCode <= 39)) {
            } else {
                if ($(event.currentTarget).val().length >= 14 || event.shiftKey || (event.keyCode < 48 || event.keyCode > 57) && (event.keyCode < 96 || event.keyCode > 105)) {
                    event.preventDefault();
                } else {
                    var str = $(event.currentTarget).val();
                    var val = str.replace(/[^\d]/g, '');
                    var pos = IZ.Utils.getCaretPosition(event.currentTarget);
                    var actualPos = str.substr(0, pos).replace(/[^\d]/g, '').length;
                    val = val.substr(0, actualPos) + 'a' + val.substr(actualPos);
                    var newVal;
                    if (val.length <= 6) {
                        newVal = '(' + val.substr(0, 3) + ') ' + val.substr(3);
                    } 
                    else {
                        newVal = '(' + val.substr(0, 3) + ') ' + val.substr(3, 3) + '-' + val.substr(6, 4);
                    }
                    var newPos = newVal.indexOf('a');
                    if (newPos === -1) {
                        newPos = newVal.length;
                        self.phoneNo(newVal);
                        event.preventDefault();
                    }
                    $(event.currentTarget).val(newVal.replace('a', ''));
                    IZ.Utils.setCaretPosition(event.currentTarget, newPos);
                }
            }
            return true;
        };
        self.phoneNo.subscribe(function(newValue) {
            $.cookie('phoneNo', newValue);
        });
    };
})(IZ, jQuery);
(function(IZ, $) {
    IZ.EstimatesViewModel = function(izQuote) {
        var self = this, currPos = {}, carrierSpoilers = $.cookie('carrierSpoilers'), carrierSpoilersCookie = {}, spoilerInAction = false, selectedFilters = $.cookie('filters'), carrierMonthlyEstimateDict = {};
        self.setIndicators = false;
        if (selectedFilters) {
            selectedFilters = JSON.parse(selectedFilters);
        } else {
            selectedFilters = [];
        }
        var populateMonthlyEstimateChange = function() {
            var carrierList = self.carrierList();
            for (var i = 0; i < carrierList.length; i++) {
                var carrier = carrierList[i];
                var currMonthlyEstimate = carrierMonthlyEstimateDict[carrier.id];
                var newMonthlyEstimate = carrier.monthlyEstimate();
                if (!isNaN(currMonthlyEstimate)) {
                    var changePercent = Math.round(100.0 * (newMonthlyEstimate - currMonthlyEstimate) / currMonthlyEstimate);
                    var indicatorClass = '';
                    if (changePercent === 0) {
                        changePercent = '. . .';
                        indicatorClass = 'neutral';
                    } else {
                        if (changePercent > 0) {
                            indicatorClass = 'up';
                        }
                        changePercent = Math.abs(changePercent) + '%';
                    }
                    carrier.percentageChangeClass(indicatorClass);
                    carrier.changePercentage(changePercent);
                }
            }
        };
        var saveMonthlyEstimates = function() {
            carrierMonthlyEstimateDict = {};
            var carrierList = self.carrierList();
            for (var i = 0; i < carrierList.length; i++) {
                var carrier = carrierList[i];
                carrierMonthlyEstimateDict[carrier.id] = carrier.monthlyEstimate();
            }
        };
        var updateSpoilerCookie = function(linkText) {
            var carrierList = self.carrierList();
            for (var i = 0; i < carrierList.length; i++) {
                var carrier = carrierList[i];
                carrierSpoilersCookie[carrier.displayName] = carrier.showSpoiler();
            }
            if (linkText !== '') {
                carrierSpoilersCookie['_linkText'] = linkText;
            }
            $.cookie('carrierSpoilers', JSON.stringify(carrierSpoilersCookie));
        };
        var openAllSpoilers = function(linkText) {
            var carrierList = self.carrierList();
            for (var i = 0; i < carrierList.length; i++) {
                var carrier = carrierList[i];
                if (!carrier.showSpoiler()) {
                    carrier.showSpoiler(true);
                }
            }
            updateSpoilerCookie(linkText);
        };
        var closeAllSpoilers = function(linkText) {
            var carrierList = self.carrierList();
            for (var i = 0; i < carrierList.length; i++) {
                var carrier = carrierList[i];
                if (carrier.showSpoiler()) {
                    carrier.showSpoiler(false);
                }
            }
            updateSpoilerCookie(linkText);
        };
        self.filterList = [{name: 'filterVanDedeductible',value: 'carrier_has_vanishing_deductible',content: 'Vanishing Deductible'}, {name: 'filterAccForgiveness',value: 'carrier_accident_forgiveness',content: 'Accident Forgiveness'}, {name: 'filterDuiOk',value: 'carrier_is_dui_ok',content: 'DUI Accepted'}, {name: 'filterSR22Ok',value: 'carrier_is_sr22_ok',content: 'SR-22 Accepted'}, {name: 'filter24x7',value: 'carrier_is_24x7_support',content: '24x7 Support'}];
        self.carrierList = ko.observableArray([]);
        self.filters = ko.observableArray(selectedFilters);
        self.filtersCount = ko.computed(function() {
            return self.filters().length;
        });
        self.filterText = ko.computed(function() {
            if (self.filtersCount() === 1) {
                return 'Filter';
            } else {
                return 'Filters';
            }
        });
        self.pollForEstimates = ko.observable(true);
        self.toggleSpoilersCSS = ko.observable('icon-menu');
        self.sortType = ko.observable('estimate');
        self.nameSortOrder = ko.observable('asc');
        self.estimateSortOrder = ko.observable('asc');
        self.estimate6XSortOrder = ko.observable('asc');
        self.minimumEstimate = ko.observable(0);
        self.maximumEstimate = ko.observable(0);
        self.estimatesCount = ko.observable(0);
        if (carrierSpoilers) {
            carrierSpoilersCookie = JSON.parse(carrierSpoilers);
            var linkText = carrierSpoilersCookie['_linkText'];
            if (linkText !== undefined && linkText !== '') {
                self.toggleSpoilersCSS(linkText);
            }
        }
        self.carrierIds = ko.computed(function() {
            var ids = [];
            var carrierList = self.carrierList();
            for (var i = 0; i < carrierList.length; i++) {
                ids.push(carrierList[i].id);
            }
            return ids;
        });
        self.afterAdd = function(element, index, data) {
            var item = $(element);
            if (item.hasClass("stuff-list__item")) {
                if (data.displayName in carrierSpoilersCookie) {
                    var showSpoiler = carrierSpoilersCookie[data.displayName];
                    if (showSpoiler) {
                        data.showSpoiler(true);
                    }
                }
            }
        };
        self.beforeMove = function(element, index, data) {
            var item = $(element);
            if (item.hasClass("stuff-list__item")) {
                currPos[data.id] = item.offset().top;
            }
        };
        self.afterMove = function(element, index, data) {
            var item = $(element);
            if (item.hasClass("stuff-list__item")) {
                var oldPos = currPos[data.id];
                if (oldPos !== undefined) {
                    var newPos = item.offset().top;
                    if (self.setIndicators) {
                        var indicator = 'neutral';
                        if (newPos !== oldPos) {
                            indicator = newPos > oldPos ? 'down' : 'up';
                        }
                        data.positionChangeClass(indicator);
                    }
                    item.css({top: oldPos - newPos}).animate({top: 0}, 800);
                }
            }
        };
        self.toggleSpoiler = function(carrier, event) {
            if (!$(event.target).hasClass('stuff-list__buy') && !spoilerInAction) {
                spoilerInAction = true;
                if (carrier.showSpoiler()) {
                    carrier.showSpoiler(false);
                } else {
                    carrier.showSpoiler(true);
                }
                setTimeout(function() {
                    spoilerInAction = false;
                }, 400);
            }
            updateSpoilerCookie('');
        };
        self.closeOpenAllSpoilers = function() {
            var collapseAll = 'icon-menu-close';
            var expandAll = 'icon-menu';
            if (self.toggleSpoilersCSS() === collapseAll) {
                closeAllSpoilers(expandAll);
                self.toggleSpoilersCSS(expandAll);
            } else {
                openAllSpoilers(collapseAll);
                self.toggleSpoilersCSS(collapseAll);
            }
        };
        self.sort = function() {
            self.carrierList.sort(function(left, right) {
                var sortType = self.sortType(), direction, l, r;
                if (sortType === 'name') {
                    l = left.displayName;
                    r = right.displayName;
                    direction = self.nameSortOrder() === "asc" ? 1 : -1;
                } else if (sortType === 'estimate') {
                    l = Math.abs(left.monthlyEstimate());
                    r = Math.abs(right.monthlyEstimate());
                    direction = self.estimateSortOrder() === "asc" ? 1 : -1;
                } else {
                    l = Math.abs(left.semiAnnualEstimate());
                    r = Math.abs(right.semiAnnualEstimate());
                    direction = self.estimate6XSortOrder() === "asc" ? 1 : -1;
                }
                return direction * (l < r ? -1 : l > r ? 1 : 0);
            });
        };
        self.update = function(estimates, poll_for_estimates, partial) {
            var carriersById = {}, toRemove = [], minimum = estimates.length === 0 ? 0 : 9999, maximum = estimates.length === 0 ? 0 : -9999;
            if (partial) {
                self.pollForEstimates(true);
            } else {
                self.pollForEstimates(poll_for_estimates);
            }
            self.estimatesCount(estimates.length);
            for (var i = 0; i < estimates.length; i++) {
                carriersById[estimates[i]['carrier_id']] = estimates[i];
                var monthlyEstimate = estimates[i]['monthly_estimate'];
                if (monthlyEstimate >= maximum) {
                    maximum = monthlyEstimate;
                }
                if (monthlyEstimate < minimum) {
                    minimum = monthlyEstimate;
                }
            }
            var carrierList = self.carrierList();
            var carrier;
            for (i = 0; i < carrierList.length; i++) {
                carrier = carrierList[i];
                var carrierData = carriersById[carrier.id];
                if (carrierData !== undefined) {
                    var newMonthlyEstimate = carrierData['monthly_estimate'];
                    if (newMonthlyEstimate >= maximum) {
                        maximum = newMonthlyEstimate;
                    }
                    if (newMonthlyEstimate < minimum) {
                        minimum = newMonthlyEstimate;
                    }
                    carrier.monthlyEstimate(newMonthlyEstimate);
                    carrier.semiAnnualEstimate(carrierData['semi_annual_estimate']);
                    carrier.redirectPhoneNumber = carrierData['carrier_redirect_phone_number'];
                } else {
                    toRemove.push(carrier);
                }
            }
            self.carrierList.removeAll(toRemove);
            for (i = 0; i < estimates.length; i++) {
                carrier = estimates[i];
                var carrierId = carrier['carrier_id'];
                if ($.inArray(carrierId, self.carrierIds()) === -1) {
                    self.carrierList.push(new IZ.CarrierData(carrier));
                }
            }
            populateMonthlyEstimateChange();
            IZ.Utils.initPopovers('.js_popover_dynamic');
            setTimeout(function() {
                self.setIndicators = true;
                self.sort();
                self.setIndicators = false;
            }, 500);
            self.minimumEstimate(minimum);
            self.maximumEstimate(maximum);
            if (!partial) {
                saveMonthlyEstimates();
            }
        };
        self.sortImpressionsHandler = function(sortType, sortOrder) {
            self.sortType(sortType);
            if (sortOrder() === 'asc') {
                sortOrder('desc');
            } else {
                sortOrder('asc');
            }
            IZ.Utils.googleEvents.sorting(sortType, sortOrder());
            setTimeout(function() {
                self.sort();
            }, $.fx.speeds._default);
            return false;
        };
        self.filterCarriers = function(partial) {
            var carriers = izQuote['estimates'];
            var estimates = [];
            var filters = self.filters();
            var i, j, k;
            for (i = 0; i < carriers.length; i++) {
                var carrierData = carriers[i];
                var flag = true;
                for (j = 0; j < filters.length; j++) {
                    var values = filters[j].split(' ');
                    flag = false;
                    for (k = 0; k < values.length; k++) {
                        flag = flag || carrierData[values[k]];
                    }
                    if (!flag) {
                        break;
                    }
                }
                if (flag) {
                    estimates.push(carrierData);
                }
            }
            $.cookie('filters', JSON.stringify(filters));
            self.update(estimates, izQuote['poll_for_estimates'], partial);
        };
        self.filters.subscribe(self.filterCarriers);
    };
})(IZ, jQuery);
(function(IZ, $, globalQuestions) {
    IZ.ZipcodeViewModel = function(izQuote, questions) {
        var self = this;
        if (questions === undefined) {
            questions = globalQuestions;
        }
        self.zipcode = ko.observable();
        self.city = ko.observable();
        self.state = ko.observable();
        self.questions = ko.observable(questions);
        self.isEditing = ko.observable(false);
        self.zipcodeFound = ko.observable(true);
        self.zipcodeBackendError = ko.observable();
        self.zipcodeStatus = ko.observable("unchecked");
        if (izQuote) {
            var tempZip = new IZ.Zipcode.fromJSON(izQuote);
            self.zipcode(tempZip.zipcode());
            self.city(tempZip.city());
            self.state(tempZip.state());
        }
        self.isValid = ko.computed(function() {
            if (self.zipcodeBackendError()) {
                return false;
            } else {
                return IZ.Zipcode.isValid(self.zipcode()) && self.zipcodeFound();
            }
        });
        postal.subscribe({channel: "main",topic: "backendErrorzipEmpty",callback: function() {
                self.zipcodeBackendError('empty');
            }});
        postal.subscribe({channel: "main",topic: "backendErrorzipBad",callback: function() {
                self.zipcodeBackendError('bad');
            }});
        self.stateAndZip = ko.computed(function() {
            return self.state() + " " + self.zipcode();
        });
        if (!self.questions().DRIVER_HAS_INCIDENTS) {
            postal.publish({channel: "main",topic: "incidents.clear"});
        }
        self.questions.subscribe(function(newVal) {
            if (newVal !== undefined && !newVal.DRIVER_HAS_INCIDENTS) {
                postal.publish({channel: "main",topic: "incidents.clear"});
            }
        });
        self.startEdit = function() {
            self.isEditing(true);
        };
        self.submit = function(async) {
            self.sendChange(async);
        };
        self.keyUp = function(element, event) {
            if (event.keyCode === 46 || event.keyCode === 8 || event.keyCode === 9 || event.keyCode === 27 || event.keyCode === 13 || (event.keyCode === 65 && event.ctrlKey === true) || (event.metaKey && event.keyCode === 65) || (event.keyCode >= 35 && event.keyCode <= 39 && event.keyCode !== 38)) {
                if (event.keyCode === 13) {
                    self.zipcode($(event.currentTarget).val());
                    self.sendChange();
                }
            } else {
                if ((event.keyCode < 48 || event.keyCode > 57) && (event.keyCode < 96 || event.keyCode > 105)) {
                    event.preventDefault();
                }
            }
            return true;
        };
        self.keyDown = function(element, e) {
            if (e.keyCode > 57 && (e.keyCode < 96 || e.keyCode > 105)) {
                e.preventDefault();
                return false;
            }
            return true;
        };
        function handleSuccessfulZipcode(result, questions, stateCoverageOptions, activeCarrierCount) {
            self.zipcodeFound(true);
            self.zipcodeStatus("checked");
            if (self.zipcodeBackendError()) {
                self.zipcodeBackendError(null);
            }
            ko.mapping.fromJS(result, {}, self);
            postal.publish({channel: "main",topic: "getEstimates.disable"});
            self.questions(questions);
            postal.publish({channel: "main",topic: "getEstimates.enable"});
            postal.publish({channel: "main",topic: "coverageList.update",data: {stateCoverageOptions: stateCoverageOptions}});
            window.activeCarrierCount = activeCarrierCount;
            postal.publish({channel: "main",topic: "zipcode.changed",data: {viewModel: self,shouldPoll: true}});
            self.isEditing(false);
            postal.publish({channel: "main",topic: "check_minimum_coverage"});
        }
        function handleUnsuccessfulZipcode() {
            self.zipcodeFound(false);
            self.zipcodeStatus("checked");
            postal.publish({channel: "main",topic: "zipcode.notfound"});
        }
        self.sendChange = function(async) {
            self.zipcodeStatus("checking");
            if (IZ.Zipcode.isValid(self.zipcode())) {
                if (async === undefined) {
                    async = true;
                }
                IZ.Zipcode.getByZipcode(self.zipcode(), handleSuccessfulZipcode, handleUnsuccessfulZipcode, {async: async});
            }
        };
    };
})(IZ, jQuery, window.getQuestions ? window.getQuestions() : {});
(function(IZ, ko, postal) {
    var BaseTabsViewModel = function(baseVM, isDriver, maxTabCount, objectType, existingObjects, objectTabViewModel, allIncidents) {
        var self = this;
        self.maximumTabs = ko.observable(maxTabCount);
        self.tabs = ko.observableArray();
        self.selected = ko.observable(0);
        self.displayFlowModal = ko.observable(false);
        self.hasChanged = ko.observable(false);
        postal.subscribe({channel: "main",topic: objectType + ".changed",callback: function() {
                self.hasChanged(true);
            }});
        (function init() {
            var length = existingObjects.length;
            for (var i = 0; i < length; i++) {
                var tabViewModel = objectTabViewModel.fromJSON(baseVM, i, existingObjects[i], allIncidents);
                self.tabs.push(tabViewModel);
            }
        })();
        self.isComplete = ko.computed(function() {
            var tabs = self.tabs(), i, length = tabs.length;
            for (i = 0; i < length; i++) {
                if (!tabs[i].isComplete()) {
                    return false;
                }
            }
            return true;
        });
        self.canAdd = ko.computed(function() {
            return self.tabs().length < self.maximumTabs();
        });
        self.atLastTab = ko.computed(function() {
            return self.tabs().length === (self.maximumTabs() - 1);
        });
        self.addButtonHref = "#add-" + objectType;
        self.addButtonId = ko.computed(function() {
            return objectType + "-tab-" + (self.tabs().length + 1);
        });
        self.addNewTab = function() {
            var length = self.tabs().length;
            if (length < self.maximumTabs()) {
                var newTab = new objectTabViewModel(baseVM, length, allIncidents);
                if (isDriver) {
                    newTab.driver().notifying(true);
                }
                self.tabs.push(newTab);
                self.selected(self.tabs().length - 1);
                setBoxHeight(newTab);
                IZ.Utils.trackChangeEvent('add_' + objectType + '_' + (self.tabs().length - 1));
                if (isDriver) {
                    IZ.Utils.initPopovers('.js_popover_tt');
                }
            }
        };
        self.beforeActivate = function(event, ui) {
            if (ui.newTab.index() === self.tabs().length) {
                event.preventDefault();
            }
        };
    };
    function setBoxHeight(tab) {
        var id = tab.subcontentId(), $elem = $("#" + id), isInner = $elem.hasClass('sidebar__accordion__in'), outHeight = $elem.closest('.ui-accordion-content').outerHeight();
        if (!isInner) {
            $.each($elem.siblings(), function() {
                outHeight -= $(this).outerHeight();
            });
            outHeight -= 50;
        }
        $elem.innerHeight(outHeight);
    }
    IZ.BaseTabsViewModel = BaseTabsViewModel;
})(IZ, ko, postal);
(function(IZ, ko, postal, _, undefined) {
    var VehicleTabViewModel = function(vehiclesVM, index, vehicle) {
        var self = this;
        self.index = ko.observable(index);
        self.index1 = ko.computed(function() {
            return self.index() + 1;
        });
        self.headerId = ko.computed(function() {
            return "vehicle-tab-" + self.index();
        });
        self.headerHref = ko.computed(function() {
            return "#vehicle-tabs-" + self.index1();
        });
        self.contentId = ko.computed(function() {
            return "vehicle-tabs-" + self.index1();
        });
        self.subcontentId = ko.computed(function() {
            return "vehicle-tabs-subcontent-" + self.index1();
        });
        self.subtitle = ko.computed(function() {
            return "Vehicle #" + self.index1();
        });
        self.vehicleInputId = ko.computed(function() {
            return "js_check_complete_vehiclename" + self.index1();
        });
        self.invalidAlertId = ko.computed(function() {
            return "invalid_vehicle_" + self.index1();
        });
        self.milesPerYearId = ko.computed(function() {
            return "js_check_complete_milesdriven" + self.index1();
        });
        self.primaryUseId = ko.computed(function() {
            return "js_check_complete_primaryuse" + self.index1();
        });
        self.hasAlarmLabelFor = ko.computed(function() {
            return "has_alarm" + self.index1();
        });
        self.hasAlarmName = ko.computed(function() {
            return "has_alarm" + self.index1();
        });
        self.canRemove = ko.computed(function() {
            return self.index1() !== 1;
        });
        self.isLast = ko.computed(function() {
            return self.index1() === window.maxVehiclesCount;
        });
        self.vehicle = ko.observable(vehicle || new IZ.Vehicle(index));
        self.isComplete = ko.computed(function() {
            var vehicle = self.vehicle();
            return vehicle !== undefined && vehicle.isComplete();
        });
        self.shaking = ko.observable(false);
        self.shakeError = function() {
            self.shaking(true);
            setTimeout(function() {
                self.shaking(false);
            }, 350);
        };
        self.vehicleNameHasFocus = ko.observable(true);
        self.isValid = ko.computed(function() {
            return self.vehicle() !== undefined && _.isNumber(self.vehicle().id());
        });
        self.isRemovingVehicle = ko.observable(false);
        self.removeVehicle = function() {
            self.isRemovingVehicle(true);
            vehiclesVM.appriseRemoveVehicle(self);
        };
        self.shouldDisplayError = ko.computed(function() {
            if (self.vehicle() !== undefined && self.vehicle().ie8IgnoreVehicleChange()) {
                self.vehicle().ie8IgnoreVehicleChange(false);
                return false;
            } else {
                return !self.isValid() && !self.vehicleNameHasFocus() && !self.isRemovingVehicle();
            }
        });
    };
    VehicleTabViewModel.fromJSON = function(vehiclesVM, index, json) {
        return new VehicleTabViewModel(vehiclesVM, index, IZ.Vehicle.fromJSON(json, index));
    };
    IZ.VehicleTabViewModel = VehicleTabViewModel;
})(IZ, ko, postal, _);
(function(IZ, ko, postal, undefined) {
    var VehiclesViewModel = function(existingVehicles) {
        var self = this;
        ko.utils.extend(self, new IZ.BaseTabsViewModel(self, false, window.maxVehiclesCount, 'vehicle', existingVehicles, IZ.VehicleTabViewModel));
        self.removeVehicle = function(tab) {
            var i, length, tabs = self.tabs(), vehicle_index = tab.index();
            tab.vehicle().clearSubscriptions();
            tab.vehicle().notifying(false);
            i = tab.index();
            length = tabs.length - 1;
            for (; i < length; i++) {
                var rightVehicle = tabs[i + 1].vehicle();
                rightVehicle.index(i);
                tabs[i].vehicle(rightVehicle);
            }
            self.tabs.pop();
            izQuote['vehicles'].splice(i, 1);
            postal.publish({channel: "main",topic: "vehicle.changed",data: {}});
            IZ.Utils.trackChangeEvent('remove_vehicle_' + vehicle_index);
        };
        var alreadyHandleRemove = ko.observable(false);
        self.appriseRemoveVehicle = function(tab) {
            if (!alreadyHandleRemove()) {
                alreadyHandleRemove(true);
                apprise(IZ.Utils.appriseAlertbox('Notice:', 'Do you really want to delete vehicle #' + tab.index1() + '?'), {'verify': true}, function(r) {
                    tab.isRemovingVehicle(false);
                    alreadyHandleRemove(false);
                    if (r) {
                        self.removeVehicle(tab);
                    }
                });
            }
        };
    };
    IZ.VehiclesViewModel = VehiclesViewModel;
})(IZ, ko, postal);
(function(IZ, ko, postal, $, maxDriversCount, Modernizr) {
    var DriverTabViewModel = function(driversVM, index, allIncidents, driver) {
        var self = this;
        self.index = ko.observable(index);
        self.index1 = ko.computed(function() {
            return self.index() + 1;
        });
        self.headerId = ko.computed(function() {
            return "driver-tab-" + self.index();
        });
        self.headerHref = ko.computed(function() {
            return "#driver-tabs-" + self.index1();
        });
        self.contentId = ko.computed(function() {
            return "driver-tabs-" + self.index1();
        });
        self.subcontentId = ko.computed(function() {
            return "driver-tabs-subcontent-" + self.index1();
        });
        self.incidentsId = ko.computed(function() {
            return "showIncidents" + self.index1();
        });
        self.driversTrainingId = ko.computed(function() {
            return "driversTraining" + self.index1();
        });
        self.goodStudentId = ko.computed(function() {
            return "goodStudent" + self.index1();
        });
        self.subtitle = ko.computed(function() {
            return "Driver #" + self.index1();
        });
        self.badDobAlertId = ko.computed(function() {
            return "bad_driver_dob_" + self.index1();
        });
        self.invalidDobAlertId = ko.computed(function() {
            return "invalid_driver_dob_" + self.index1();
        });
        self.dobName = ko.computed(function() {
            return "dob" + self.index1();
        });
        self.placeholderVar = ko.observable();
        self.placeholderVal = ko.computed(function() {
            if (Modernizr.input.placeholder) {
                return self.placeholderVar() ? 'MM/DD/YYYY' : 'BIRTHDATE';
            } else {
                return 'BIRTHDATE';
            }
        });
        self.canRemove = ko.computed(function() {
            return self.index1() !== 1;
        });
        self.isLast = ko.computed(function() {
            return self.index1() === maxDriversCount;
        });
        self.driver = ko.observable(driver || new IZ.Driver(index));
        self.isComplete = ko.computed(function() {
            var driver = self.driver();
            return driver !== undefined && driver.isComplete();
        });
        self.shaking = ko.observable(false);
        self.shakeError = function() {
            self.shaking(true);
            setTimeout(function() {
                self.shaking(false);
            }, 350);
        };
        self.isEmpty = ko.computed(function() {
            return self.driver() === undefined;
        });
        self.isValid = ko.computed(function() {
            return self.driver() !== undefined && self.driver().isValid() && self.driver().isAgeFirstLicensedValid() && self.driver().dobStatus() === 'valid';
        });
        self.dobKeyUp = function(element, event) {
            if (event.keyCode in IZ.Utils.autoRepeatKeys) {
                delete IZ.Utils.autoRepeatKeys[event.keyCode];
            }
            if (event.keyCode === 46 || event.keyCode === 8 || event.keyCode === 9 || event.keyCode === 27 || event.keyCode === 13 || (event.keyCode === 65 && event.ctrlKey === true) || (event.metaKey && event.keyCode === 65) || (event.keyCode >= 35 && event.keyCode <= 39 && event.keyCode !== 38)) {
            } else {
                var currentTarget = $(event.currentTarget);
                var str = currentTarget.val();
                var val = str.replace(/[^\d]/g, '');
                var pos = IZ.Utils.getCaretPosition(event.currentTarget);
                var actualPos = str.substr(0, pos).replace(/[^\d]/g, '').length;
                var newPos;
                var newVal;
                if ((event.keyCode < 48 || event.keyCode > 57) && (event.keyCode < 96 || event.keyCode > 105)) {
                    if (event.keyCode === 191 || event.keyCode === 189) {
                        if (actualPos === 1) {
                            val = '0' + val;
                            newPos = 3;
                        } else if (actualPos === 2) {
                            newPos = 3;
                        } else if (actualPos === 3) {
                            val = val.substr(0, 2) + '0' + val.substr(2);
                            newPos = 6;
                        } else if (actualPos === 4) {
                            newPos = 6;
                        }
                        if (newPos) {
                            if (val.length === 1) {
                                newVal = val;
                            } else if (val.length === 2) {
                                newVal = val + '/';
                            } else if (val.length === 3) {
                                newVal = val.substr(0, 2) + '/' + val.substr(2);
                            } else if (val.length === 4) {
                                newVal = val.substr(0, 2) + '/' + val.substr(2, 2) + '/';
                            } else {
                                newVal = val.substr(0, 2) + '/' + val.substr(2, 2) + '/' + val.substr(4, 4);
                            }
                            self.driver().dob(newVal);
                            currentTarget.val(newVal);
                            IZ.Utils.setCaretPosition(event.currentTarget, newPos);
                        }
                    }
                } else if (str.length < 10) {
                    val = val.substr(0, actualPos) + 'a' + val.substr(actualPos);
                    if (val.length <= 2) {
                        newVal = val;
                    } else if (val.length > 2 && val.length < 5) {
                        newVal = val.substr(0, 2) + '/' + val.substr(2);
                    } else {
                        newVal = val.substr(0, 2) + '/' + val.substr(2, 2) + '/' + val.substr(4, 4);
                    }
                    newPos = newVal.indexOf('a');
                    if (newPos === -1) {
                        newPos = newVal.length;
                        self.driver().dob(newVal);
                    }
                    currentTarget.val(newVal.replace('a', ''));
                    IZ.Utils.setCaretPosition(event.currentTarget, newPos);
                }
                currentTarget.removeClass('placeholder');
            }
            return true;
        };
        self.ageFirstLicensedKeyUp = function(element, event) {
            if (event.keyCode === 46 || event.keyCode === 8 || event.keyCode === 9 || event.keyCode === 27 || event.keyCode === 13 || (event.keyCode === 65 && event.ctrlKey === true) || (event.metaKey && event.keyCode === 65) || (event.keyCode >= 35 && event.keyCode <= 39 && event.keyCode !== 38)) {
            } else {
                if ((event.keyCode < 48 || event.keyCode > 57) && (event.keyCode < 96 || event.keyCode > 105)) {
                    event.preventDefault();
                } else {
                    var currentTarget = $(event.currentTarget);
                    var str = currentTarget.val();
                    if (str.length < 2) {
                        var val = str.replace(/[^\d]/g, '');
                        var pos = IZ.Utils.getCaretPosition(event.currentTarget);
                        var actualPos = str.substr(0, pos).replace(/[^\d]/g, '').length;
                        var newPos;
                        var newVal;
                        val = val.substr(0, actualPos) + 'a' + val.substr(actualPos);
                        newVal = val.substr(0, 2);
                        newPos = newVal.indexOf('a');
                        if (newPos === -1) {
                            newPos = newVal.length;
                            self.driver().ageFirstLicensed(newVal);
                            event.preventDefault();
                        }
                        currentTarget.val(newVal.replace('a', ''));
                        IZ.Utils.setCaretPosition(event.currentTarget, newPos);
                    }
                }
            }
            return true;
        };
        self.incidentsCount = ko.computed(function() {
            var i = 0, incidents = self.driver().incidents(), len = incidents.length, incidentsCount = 0;
            for (; i < len; i++) {
                if (incidents[i].displayIncident()) {
                    incidentsCount++;
                }
            }
            return incidentsCount;
        });
        self.hasIncidents = ko.computed(function() {
            return self.incidentsCount() > 0;
        });
        self.driverDobHasFocus = ko.observable(false);
        self.shouldDisplayDOBError = ko.computed(function() {
            return self.driver().dobStatus() !== 'valid';
        });
        self.dobErrorMessage = ko.computed(function() {
            var dobStatus = self.driver().dobStatus();
            if (dobStatus === 'bad') {
                return "Whoops, bad DOB";
            } else if (dobStatus === 'invalid') {
                return "You must be at least " + window.minimumDriverAge + " years of age to continue";
            }
            return null;
        });
        self.continuouslyInsuredDisplay = ko.computed(function() {
            return self.driver().currentlyInsured() || self.driver().currentlyInsured() === "true";
        });
        self.showIncidentUpdate = ko.computed(function() {
            return self.driver().hasIncidents() !== "";
        });
        self.hasIncidentClick = function() {
            if (self.driver().hasIncidents() === 'true') {
                if (self.driver().incidents().length === 0) {
                    self.addIncidentClick();
                }
            } else {
                self.driver().incidents.removeAll();
                self.driver().saveIncidentClick();
                $('.incidentModal').modal('hide');
            }
        };
        self.addIncidentClick = function() {
            if (self.driver().hasIncidents() !== 'true') {
                self.driver().hasIncidents('true');
            }
            var newIncident = new IZ.Incident('', allIncidents);
            self.driver().incidents.push(newIncident);
            newIncident.displayIncident(true);
        };
        self.removeIncidentClick = function(incident) {
            incident.displayIncident(false);
        };
        self.showIncidentsClick = function(data, event) {
            var target = $(event.currentTarget);
            var tab = target.parents('.tab-content');
            if (target.is(':checked')) {
                $('.incidentModal', tab).modal('show');
            } else {
                if (self.incidentsCount() > 0) {
                    $('.incidentModal', tab).modal('show');
                    return false;
                }
            }
            return true;
        };
    };
    DriverTabViewModel.fromJSON = function(driversVM, index, json, allIncidents) {
        return new DriverTabViewModel(driversVM, index, allIncidents, IZ.Driver.fromJSON(json, index, allIncidents));
    };
    IZ.DriverTabViewModel = DriverTabViewModel;
})(IZ, ko, postal, jQuery, 4, Modernizr);
(function(IZ, ko, postal, maxDriversCount, undefined) {
    var DriversViewModel = function(existingDrivers, allIncidents) {
        var self = this;
        ko.utils.extend(self, new IZ.BaseTabsViewModel(self, true, maxDriversCount, 'driver', existingDrivers, IZ.DriverTabViewModel, allIncidents));
        self.removeDriver = function(tab) {
            var i, length, tabs = self.tabs(), driver_index = tab.index();
            tab.driver().clearSubscriptions();
            tab.driver().notifying(false);
            i = tab.index();
            length = tabs.length - 1;
            for (; i < length; i++) {
                var rightDriver = tabs[i + 1].driver();
                rightDriver.index(i);
                tabs[i].driver(rightDriver);
            }
            self.tabs.pop();
            izQuote['drivers'].splice(i, 1);
            postal.publish({channel: "main",topic: "driver.changed",data: {}});
            IZ.Utils.trackChangeEvent('remove_driver_' + driver_index);
        };
        var alreadyHandleRemove = ko.observable(false);
        self.appriseRemoveDriver = function(tab) {
            if (!alreadyHandleRemove()) {
                alreadyHandleRemove(true);
                apprise(IZ.Utils.appriseAlertbox('Notice:', 'Do you really want to delete driver #' + tab.index1() + '?'), {'verify': true}, function(r) {
                    alreadyHandleRemove(false);
                    if (r) {
                        self.removeDriver(tab);
                    }
                });
            }
        };
    };
    IZ.DriversViewModel = DriversViewModel;
})(IZ, ko, postal, 4);
(function(IZ, ko) {
    var DiscountViewModel = function(homeOwnership, priorCarrier, priorCarrierCoverageMonths, multiPolicyDiscount) {
        var self = this;
        self.homeOwnership = ko.observable(homeOwnership);
        self.priorCarrier = ko.observable(priorCarrier);
        self.priorCarrierCoverageMonths = ko.observable(priorCarrierCoverageMonths);
        self.multiPolicyDiscount = ko.observable(multiPolicyDiscount === null ? false : multiPolicyDiscount);
        self.notifying = ko.observable(false);
        self.allowedQuestions = ko.observableArray([self.homeOwnership, self.priorCarrier, self.priorCarrierCoverageMonths, self.multiPolicyDiscount]);
        self.hasChanged = ko.observable(false);
        var discountMappings = [{value: self.homeOwnership,izField: 'home_ownership',type: Number}, {value: self.priorCarrier,izField: 'prior_carrier',type: Number}, {value: self.priorCarrierCoverageMonths,izField: 'prior_carrier_coverage_months',type: Number}, {value: self.multiPolicyDiscount,izField: 'multi_policy_discount',type: Boolean}];
        postal.subscribe({channel: "main",topic: "notification.changed",callback: function(data) {
                self.notifying(data.value);
            }});
        var subscriptions = [];
        self.notifying.subscribe(function(notifying) {
            if (notifying) {
                subscriptions.push(self.homeOwnership.subscribe(createOnChangeHandler(0)));
                subscriptions.push(self.priorCarrier.subscribe(createOnChangeHandler(1)));
                subscriptions.push(self.priorCarrierCoverageMonths.subscribe(createOnChangeHandler(2)));
                subscriptions.push(self.multiPolicyDiscount.subscribe(createOnChangeHandler(3)));
            } else {
                var i = 0, length = subscriptions.length;
                for (; i < length; i++) {
                    subscriptions[i].dispose();
                }
            }
        });
        self.isComplete = ko.computed(function() {
            var isComplete = true;
            isComplete = isComplete && ($.inArray(self.homeOwnership, self.allowedQuestions()) > -1 ? !IZ.Utils.isFieldEmpty(Number, self.homeOwnership()) : true);
            isComplete = isComplete && ($.inArray(self.priorCarrier, self.allowedQuestions()) > -1 ? !IZ.Utils.isFieldEmpty(Number, self.priorCarrier()) : true);
            isComplete = isComplete && ($.inArray(self.priorCarrierCoverageMonths, self.allowedQuestions()) > -1 ? !IZ.Utils.isFieldEmpty(Number, self.priorCarrierCoverageMonths()) : true);
            isComplete = isComplete && ($.inArray(self.multiPolicyDiscount, self.allowedQuestions()) > -1 ? !IZ.Utils.isFieldEmpty(Boolean, self.multiPolicyDiscount()) : true);
            return isComplete;
        });
        function updateIZQuote() {
            var discountMapping;
            for (var i = 0; i < discountMappings.length; i++) {
                discountMapping = discountMappings[i];
                if ($.inArray(discountMapping.value, self.allowedQuestions()) === -1 || IZ.Utils.isFieldEmpty(discountMapping.type, discountMapping.value())) {
                    izQuote[discountMapping['izField']] = null;
                } else {
                    izQuote[discountMapping['izField']] = discountMapping.value();
                }
            }
        }
        function createOnChangeHandler(fieldIndex) {
            return function() {
                updateIZQuote();
                self.hasChanged(true);
                postal.publish({channel: "main",topic: "discount.changed",data: {}});
                IZ.Utils.trackChangeEvent(discountMappings[fieldIndex]['izField']);
            };
        }
    };
    IZ.DiscountViewModel = DiscountViewModel;
})(IZ, ko);
(function(IZ, $, sessionKey, validateEmailAddress, enableEmailModalOnAccuracyChangeGlobal) {
    IZ.QuoteViewModel = function(izQuote, enableEmailModalOnAccuracyChange) {
        if (enableEmailModalOnAccuracyChange === undefined) {
            enableEmailModalOnAccuracyChange = enableEmailModalOnAccuracyChangeGlobal;
        }
        var self = this, HIGH_ACCURACY = 80, enableGetEstimates = true;
        var EMAIL_AT_ACCURACY = 75;
        self.izQuote = izQuote;
        self.quotePushInProgress = ko.observable(false);
        self.donePreloading = ko.observable(false);
        self.zipcodeVM = new IZ.ZipcodeViewModel(izQuote);
        if (self.zipcodeVM.zipcode() !== undefined) {
            googleEventTracking('User State', self.zipcodeVM.state(), sessionKey);
        }
        self.notificationVM = new IZ.NotificationViewModel();
        self.introductionVM = new IZ.IntroductionViewModel();
        self.yfeVM = new IZ.YFEViewModel();
        self.coverageVM = new IZ.CoverageViewModel(izQuote);
        self.vehiclesVM = new IZ.VehiclesViewModel(izQuote.vehicles);
        self.driversVM = new IZ.DriversViewModel(izQuote.drivers, window.incidents);
        self.discountVM = new IZ.DiscountViewModel(izQuote.home_ownership, izQuote.prior_carrier, izQuote.prior_carrier_coverage_months, izQuote.multi_policy_discount);
        self.estimatesVM = new IZ.EstimatesViewModel(izQuote);
        self.buyNowVM = new IZ.BuyNowViewModel(izQuote, self.driversVM, self.vehiclesVM);
        postal.subscribe({channel: "main",topic: "zipcode.changed",callback: function(data) {
                if (data.viewModel['state']() !== self.izQuote['state']) {
                    googleEventTracking('User State', data.viewModel['state'](), sessionKey);
                    self.yfeVM.close();
                }
                IZ.Zipcode.updateIZQuote(self.zipcodeVM);
                self.getEstimates(data.shouldPoll, "Zipcode Changed");
            }});
        postal.subscribe({channel: "main",topic: "vehicle.changed",callback: function() {
                self.getEstimates(false, "Vehicle Changed");
            }});
        postal.subscribe({channel: "main",topic: "driver.changed",callback: function(data) {
                if (data['incidentsSaved'] === true) {
                    self.getEstimates(true, "Driver Changed with Incidents");
                } else {
                    self.getEstimates(false, "Driver Changed");
                }
            }});
        postal.subscribe({channel: "main",topic: "coverage.changed",callback: function() {
                self.getEstimates(true, "Coverage Changed");
            }});
        postal.subscribe({channel: "main",topic: "discount.changed",callback: function() {
                self.getEstimates(false, "Discount Changed");
            }});
        postal.subscribe({channel: "main",topic: "getEstimates.enable",callback: function() {
                enableGetEstimates = true;
            }});
        postal.subscribe({channel: "main",topic: "getEstimates.disable",callback: function() {
                enableGetEstimates = false;
            }});
        postal.subscribe({channel: "main",topic: "done_preloading",callback: function() {
                self.donePreloading(true);
            }});
        function changeNotificationSetting(value) {
            postal.publish({channel: "main",topic: "notification.changed",data: {value: value}});
        }
        self.goToIncidents = function() {
            location.hash = IZ.ROUTES.INCIDENTS;
            IZ.Utils.googleEvents.sectionChange(IZ.ROUTES.INCIDENTS);
        };
        self.goToDiscounts = function() {
            location.hash = IZ.ROUTES.DISCOUNTS;
            IZ.Utils.googleEvents.sectionChange(IZ.ROUTES.DISCOUNTS);
        };
        self.goToVehicles = function() {
            location.hash = IZ.ROUTES.VEHICLES;
            IZ.Utils.googleEvents.sectionChange(IZ.ROUTES.VEHICLES);
        };
        self.goToDrivers = function() {
            location.hash = IZ.ROUTES.DRIVERS;
            IZ.Utils.googleEvents.sectionChange(IZ.ROUTES.DRIVERS);
        };
        self.enableNotification = function() {
            changeNotificationSetting(true);
        };
        self.disableNotification = function() {
            changeNotificationSetting(false);
        };
        function showEmailModalOnAccuracyChange(accuracy) {
            if (enableEmailModalOnAccuracyChange && accuracy >= EMAIL_AT_ACCURACY && !izQuote['email_modal_shown']) {
                self.showEmailModal(true);
            }
        }
        self.showEmailModal = ko.observable(izQuote['is_email_modal_open']);
        self.allowEmptyEmail = ko.observable(true);
        self.emailSent = ko.observable(false);
        self.emailSentError = ko.observable(false);
        self.email = ko.observable(izQuote['email']);
        function validateEmail(email) {
            return (self.allowEmptyEmail() && IZ.Utils.isFieldEmpty(String, email)) || validateEmailAddress(email);
        }
        self.isEmailValid = ko.observable(true);
        self.emailErrorMessage = ko.computed(function() {
            if (!self.isEmailValid()) {
                self.emailSentError(false);
                return 'Please enter a valid E-mail address.';
            } else if (self.emailSentError()) {
                return 'There was an error processing your request.<br>Please try submitting again.';
            } else {
                return null;
            }
        });
        self.showEmailModal.subscribe(function(newValue) {
            if (!newValue) {
                self.emailSent(false);
                enableEmailSend = true;
                self.emailSentError(false);
                self.allowEmptyEmail(true);
                self.email(izQuote['email']);
            } else {
                izQuote['email_modal_shown'] = true;
                googleEventTracking('email-modal', 'open', sessionKey);
            }
            izQuote['is_email_modal_open'] = newValue;
            self.getEstimates(false, "Show Email Modal");
        });
        self.email.subscribe(function(newValue) {
            self.allowEmptyEmail(true);
            self.isEmailValid(true);
            if (validateEmail(newValue)) {
                izQuote['email'] = newValue;
            }
        });
        var enableEmailSend = true;
        self.sendEstimatesEmail = function() {
            if (enableEmailSend) {
                var email = self.email();
                if (IZ.Utils.isFieldEmpty(String, email)) {
                    self.allowEmptyEmail(false);
                } else if (!validateEmail(email)) {
                    self.isEmailValid(false);
                } else {
                    self.isEmailValid(true);
                    enableEmailSend = false;
                    self.emailSentError(false);
                    $.csrfAjax({url: '/send-estimates-email/',type: 'post',dataType: 'json',data: {email: email,quote_id: self.izQuote.id,async: !self.allAreComplete()},success: function() {
                            self.emailSent(true);
                            googleEventTracking('email-modal', 'email-sent', sessionKey);
                            setTimeout(function() {
                                self.showEmailModal(false);
                            }, 2000);
                        },error: function() {
                            self.emailSent(false);
                            enableEmailSend = true;
                            self.emailSentError(true);
                        }});
                }
            }
        };
        self.showEmailModalFromYFE = function() {
            self.showEmailModal(true);
        };
        self.accuracy = ko.observable(izQuote['accuracy']);
        self.accuracy.subscribe(function(newValue) {
            showEmailModalOnAccuracyChange(newValue);
        });
        self.accuracyPercentage = ko.computed(function() {
            var accuracy = self.accuracy();
            if (accuracy <= 0) {
                return '0.01%';
            } else {
                return accuracy + '%';
            }
        });
        self.accuracyText = ko.computed(function() {
            var accuracy = self.accuracy();
            var text;
            if (accuracy < 40) {
                text = 'low';
            } else if (accuracy < 65) {
                text = 'fair';
            } else if (accuracy < 75) {
                text = 'good';
            } else {
                text = 'best';
            }
            return text;
        });
        self.isAccuracyHigh = ko.computed(function() {
            return self.accuracy() >= HIGH_ACCURACY;
        });
        self.currentlyActiveTab = ko.observable('drivers');
        self.tabs = {'drivers': self.driversVM,'vehicles': self.vehiclesVM,'discount': self.discountVM};
        self.allAreComplete = ko.computed(function() {
            for (var key in self.tabs) {
                if (!self.tabs[key].isComplete()) {
                    return false;
                }
            }
            return true;
        });
        self.emailModalTitle = ko.computed(function() {
            if (self.allAreComplete()) {
                return 'You did it!';
            } else {
                return 'Getting Closer!';
            }
        });
        self.updateButtonText = ko.computed(function() {
            if (self.allAreComplete()) {
                return 'FINISH';
            } else if (!self.tabs[self.currentlyActiveTab()].isComplete() || self.currentlyActiveTab() === 'discount') {
                return 'UPDATE';
            } else {
                return 'NEXT';
            }
        });
        self.moveToNextSection = function() {
            var updateButtonText = self.updateButtonText();
            if (updateButtonText === 'FINISH') {
                self.notificationVM.displayTemporary();
                self.yfeVM.open();
                self.getEstimates(true, "Move to next section");
            } else if (self.currentlyActiveTab() === 'drivers' && updateButtonText === 'NEXT') {
                self.notificationVM.displayTemporary();
                self.goToVehicles();
            } else if (self.currentlyActiveTab() === 'vehicles' && updateButtonText === 'NEXT') {
                self.notificationVM.displayTemporary();
                self.goToDiscounts();
            } else if (updateButtonText === 'UPDATE') {
                if (self.tabs[self.currentlyActiveTab()].hasChanged()) {
                    self.getEstimates(true, "Update");
                    for (var tab in self.tabs) {
                        self.tabs[tab].hasChanged(false);
                    }
                } else {
                    self.notificationVM.displayTemporary();
                }
            }
        };
        self.handleChatClick = function() {
            olark('api.box.expand');
        };
        self.populateQuoteFromResult = function(result) {
            var fields = ['accuracy', 'estimates', 'poll_for_estimates', 'errors', 'drivers'];
            for (var i = 0; i < fields.length; i++) {
                var field = fields[i];
                if (field === 'drivers' && result[field].length === izQuote[field].length) {
                    for (var j = 0; j < result[field].length; j++) {
                        izQuote[field][j]['is_student'] = result[field][j]['is_student'];
                    }
                } else if (field !== 'estimates' || result[field].length > 0) {
                    izQuote[field] = result[field];
                }
            }
            postal.publish({channel: "main",topic: "izQuote.updated"});
        };
        self.processEstimates = function() {
            if (izQuote['poll_for_estimates']) {
                self.notificationVM.displayRetrieving();
                self.estimatesVM.filterCarriers(true);
                self.pollForEstimates(0, izQuote['serial_request_id']);
            } else {
                self.estimatesVM.filterCarriers();
                if (self.yfeVM.shouldDisplay() && !self.notificationVM.shouldDisplay()) {
                    self.yfeVM.refresh();
                }
                self.notificationVM.close();
            }
        };
        self.getAndSetQuote = function(fetch, partial) {
            $.csrfAjax({url: "/api/internal/v1/quote/session-based/",type: "GET",data: {fetch: fetch},success: function(result) {
                    self.populateQuoteFromResult(result);
                    if (partial) {
                        self.estimatesVM.filterCarriers(partial);
                    } else {
                        self.processEstimates();
                    }
                },error: function(result) {
                    if (result.status !== 400) {
                        IZ.Utils.raiseAjaxError();
                    }
                }});
        };
        self.pollForEstimates = function(polling_count, serial_request_id, ready_count) {
            polling_count++;
            if (ready_count === undefined) {
                ready_count = 0;
            }
            $.csrfAjax({url: "/get-task-status/",type: "GET",dataType: "json",contentType: "application/json",timeout: 5000,success: function(data) {
                    var isCurrentRequest = serial_request_id === izQuote['serial_request_id'];
                    if (isCurrentRequest && polling_count < 60) {
                        if (data['ready']) {
                            self.getAndSetQuote(false);
                        } else {
                            var our_ready_count = data['ready_count'];
                            if (our_ready_count > ready_count) {
                                self.getAndSetQuote(false, true);
                            }
                            setTimeout(function() {
                                self.pollForEstimates(polling_count, serial_request_id, our_ready_count);
                            }, 1000);
                        }
                    } else if (isCurrentRequest) {
                        self.estimatesVM.filterCarriers();
                        self.notificationVM.close();
                    }
                },error: function(jqXHR, textStatus) {
                    self.estimatesVM.filterCarriers();
                    if (textStatus === 'timeout') {
                        self.notificationVM.close();
                    }
                    if (jqXHR.status !== 400) {
                        IZ.Utils.raiseAjaxError();
                    }
                }});
        };
        self.backendErrorCheck = function(error_list) {
            for (var error in error_list) {
                for (var i = 0; i < error_list[error].length; i++) {
                    var key = error_list[error][i];
                    var pos = '';
                    if (key.length > 3) {
                        pos = key.substring(3);
                        key = key.substring(0, 3);
                    }
                    var error_id = window.errorDict[key];
                    postal.publish({channel: "main",topic: "backendError" + pos + error_id});
                }
            }
            delete izQuote['errors'];
        };
        self.getEstimates = function(shouldPoll, source) {
            if (enableGetEstimates) {
                var currentTime = new Date().getTime();
                self.izQuote['serial_request_id'] = currentTime;
                self.izQuote['update_num']++;
                var url = (shouldPoll) ? self.izQuote.resource_uri + '?_source=' + source : self.izQuote.resource_uri + '?_estimates=false&_source=' + source;
                $.csrfAjax({url: url,type: "PUT",dataType: "json",contentType: "application/json",processData: false,data: JSON.stringify(window.trimQuoteForTransfer(izQuote)),success: function(result) {
                        self.accuracy(result['accuracy']);
                        self.populateQuoteFromResult(result);
                        if (shouldPoll) {
                            self.processEstimates();
                        }
                    },error: function(result) {
                        if (result.status !== 400) {
                            IZ.Utils.raiseAjaxError();
                        } else {
                            self.backendErrorCheck(JSON.parse(result.responseText)['quote']);
                        }
                    }});
            }
        };
        showEmailModalOnAccuracyChange(izQuote['accuracy']);
    };
})(IZ, jQuery, window.sessionKey, window.validateEmail, window.enableEmailModalOnAccuracyChange === undefined ? false : window.enableEmailModalOnAccuracyChange);
(function(IZ, encodeURIComponent) {
    IZ.YFEViewModel = function() {
        var self = this, cookie = $.cookie('timetaken_slider_shown'), clickStart = 0, idleTime = 0, clickDiffMin = 0;
        var timerIncrement = function() {
            idleTime = idleTime + 1;
            if (idleTime > 90) {
                clickStart = 0;
            }
        };
        setInterval(timerIncrement, 1000);
        $('html').click(function() {
            idleTime = 0;
            if (clickStart === 0) {
                clickStart = $.now();
            }
        });
        self.carrierCounter = ko.observable(0);
        self.timeTaken = ko.observable(0);
        self.shouldDisplay = ko.observable(false);
        self.formattedTimeTaken = ko.computed(function() {
            return Math.max(1, Math.round(self.timeTaken() * 10) / 10);
        });
        self.timeUnit = ko.computed(function() {
            if (self.formattedTimeTaken() === 1) {
                return ' minute';
            } else {
                return ' minutes';
            }
        });
        self.twitterText = ko.computed(function() {
            return "I was able to compare " + window.activeCarrierCount + " insurance rates in " + self.formattedTimeTaken() + self.timeUnit() + " @InsuranceZebra https://www.insurancezebra.com";
        });
        self.fbText = ko.computed(function() {
            return "I compared " + window.activeCarrierCount + " insurance rates in only " + self.formattedTimeTaken() + self.timeUnit() + " with InsuranceZebra!";
        });
        self.twitterHref = ko.computed(function() {
            return 'https://twitter.com/intent/tweet?text=' + encodeURIComponent(self.twitterText());
        });
        self.fbHref = ko.computed(function() {
            return 'https://www.facebook.com/sharer/sharer.php?s=100&p%5Burl%5D=https%3A%2F%2Fwww.insurancezebra.com&p%5Btitle%5D=The+Car+Insurance+Comparison+Platform&p%5Bsummary%5D=' + encodeURIComponent(self.fbText());
        });
        self.reload = function() {
            self.carrierCounter(0);
            self.timeTaken(0);
            count(self.carrierCounter, window.activeCarrierCount, [3, 7], 100);
            count(self.timeTaken, clickDiffMin, [0.1, 0.2], 50);
        };
        self.refresh = function() {
            var clickStop = $.now();
            if (clickStart === 0) {
                clickStart = clickStop;
            }
            var clickDiff = clickStop - clickStart;
            clickDiffMin = clickDiff / (1000 * 60);
            clickDiffMin = Math.round(clickDiffMin * 10) / 10;
            $.cookie('timetaken_slider_shown', clickDiffMin);
            self.reload();
        };
        self.open = function() {
            self.shouldDisplay(true);
            self.refresh();
        };
        self.close = function() {
            $.cookie('timetaken_slider_shown', 'false');
            self.shouldDisplay(false);
        };
        var getRandomBetween = function(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        };
        var count = function(observable, max, randomRange, speed) {
            var currentValue = observable();
            if (currentValue < max) {
                observable(Math.min(currentValue + getRandomBetween(randomRange[0], randomRange[1]), max));
                setTimeout(function() {
                    count(observable, max, randomRange, speed);
                }, speed);
            }
        };
        if (cookie && cookie !== 'false') {
            clickDiffMin = cookie;
            self.shouldDisplay(true);
            self.reload();
        }
    };
})(IZ, encodeURIComponent);
(function(IZ) {
    IZ.NotificationViewModel = function() {
        var self = this;
        self.shouldDisplay = ko.observable(false);
        var close = function() {
            self.shouldDisplay(false);
        };
        var setOrClearTimer = function(time) {
            if (self.displayTimer) {
                clearTimeout(self.displayTimer);
            }
            if (time) {
                self.displayTimer = setTimeout(close, time);
            }
        };
        self.close = function() {
            setOrClearTimer();
            close();
        };
        self.displayTemporary = function() {
            if (!self.shouldDisplay()) {
                setOrClearTimer(3000);
                self.shouldDisplay(true);
            }
        };
        self.displayRetrieving = function() {
            setOrClearTimer();
            if (!self.shouldDisplay()) {
                self.shouldDisplay(true);
            }
        };
    };
})(IZ);
(function(IZ, $) {
    IZ.IntroductionViewModel = function() {
        var self = this;
        self.closed = ko.observable(false);
        self.close = function() {
            self.closed(true);
        };
        self._shouldDisplay = function() {
            var cookieName = 'newUserCard_shown';
            if ($.cookie(cookieName) === "true") {
                return false;
            } else {
                $.cookie(cookieName, "true", {expires: 365 * 10});
                return true;
            }
        };
        self.completeSlideDown = function() {
            postal.subscribe({channel: "main",topic: "#.changed",callback: function() {
                    self.close();
                }});
        };
        self.shouldDisplay = ko.computed(function() {
            return self._shouldDisplay() && !self.closed();
        });
    };
})(IZ, jQuery);
(function(IZ, $, postal, globalStateCoverageOptions, globalCoverageOptionsDict) {
    IZ.CoverageViewModel = function(izQuote, stateCoverageOptions, coverageOptionsDict) {
        var self = this;
        if (stateCoverageOptions === undefined) {
            stateCoverageOptions = globalStateCoverageOptions;
        }
        if (coverageOptionsDict === undefined) {
            coverageOptionsDict = globalCoverageOptionsDict;
        }
        function formatCurrencyValue(value, considerOption) {
            var newValue = '$';
            if (!considerOption || value === 0) {
                newValue = '<b> No </b>';
            } else if (value >= 10000) {
                newValue += value / 1000 + 'k';
            } else if (value >= 1000) {
                newValue += parseInt(value / 1000, 10) + ',' + value.toString().slice(-3);
            } else {
                newValue += value;
            }
            return newValue;
        }
        function populateCoverageList(stateCoverageOptions) {
            var BI = {}, PD = {}, motoristBI = {}, motoristPD = {}, pipOrFpb = {}, pipOrFpbText = "", Deductible = {}, towingCoverage = {}, rentalCoverage = {}, fullGlassCoverage = {};
            for (var i = 0; i < stateCoverageOptions.length; i++) {
                var coverageName = coverageOptionsDict[stateCoverageOptions[i].coverage_name];
                BI[coverageName] = "- " + formatCurrencyValue(stateCoverageOptions[i].liability_per_person, true) + " / " + formatCurrencyValue(stateCoverageOptions[i].liability_per_accident, true);
                PD[coverageName] = "- " + formatCurrencyValue(stateCoverageOptions[i].property_damage_limit, true);
                if (stateCoverageOptions[i].uninsured_motorist) {
                    motoristBI[coverageName] = "- " + formatCurrencyValue(stateCoverageOptions[i].uninsured_motorist_per_person, true) + " / " + formatCurrencyValue(stateCoverageOptions[i].uninsured_motorist_per_accident, true);
                } else {
                    motoristBI[coverageName] = "- " + '<b> No </b>';
                }
                motoristPD[coverageName] = "- " + formatCurrencyValue(stateCoverageOptions[i].uninsured_motorist_property_damage_limit, stateCoverageOptions[i].uninsured_motorist_property_damage);
                if (stateCoverageOptions[i].first_party_benefits) {
                    pipOrFpb[coverageName] = "- " + formatCurrencyValue(stateCoverageOptions[i].first_party_benefits_limit, true);
                    pipOrFpbText = " First Party Benefits (FPB)";
                } else {
                    pipOrFpb[coverageName] = "- " + formatCurrencyValue(stateCoverageOptions[i].personal_injury_limit, stateCoverageOptions[i].personal_injury);
                    pipOrFpbText = " Personal Injury Protection (PIP)";
                }
                Deductible[coverageName] = "- " + formatCurrencyValue(stateCoverageOptions[i].comprehensive_deductible, stateCoverageOptions[i].comprehensive);
                towingCoverage[coverageName] = "- " + formatCurrencyValue(stateCoverageOptions[i].towing_limit, stateCoverageOptions[i].towing);
                rentalCoverage[coverageName] = "- " + formatCurrencyValue(stateCoverageOptions[i].rental_per_accident, stateCoverageOptions[i].rental);
                if (stateCoverageOptions[i].full_glass) {
                    fullGlassCoverage[coverageName] = "- ";
                } else {
                    fullGlassCoverage[coverageName] = "- " + '<b> No </b>';
                }
            }
            var leftColProperties = [[" Bodily Injury (BI)", BI], [" Property Damage", PD], [" Uninsured Motorist BI Coverage", motoristBI], [" Uninsured Motorist Property Damage Coverage", motoristPD], [pipOrFpbText, pipOrFpb]], rightColProperties = [[" Deductible", Deductible], [" Towing Coverage", towingCoverage], [" Rental Car Coverage", rentalCoverage], [" Full Glass Coverage", fullGlassCoverage]];
            self.coverageList.removeAll();
            for (i = 0; i < stateCoverageOptions.length; i++) {
                self.coverageList.push(new IZ.CoverageData(coverageOptionsDict[stateCoverageOptions[i].coverage_name], stateCoverageOptions[i].heading, i + 1, leftColProperties, rightColProperties));
            }
        }
        self.coverageModalEnabled = ko.observable(false);
        self.showCoverageModal = function() {
            self.coverageModalEnabled(true);
        };
        self.coverageList = ko.observableArray([]);
        populateCoverageList(stateCoverageOptions);
        self.chosenCoverageId = ko.observable(izQuote['coverage']);
        self.chosenCoverageName = ko.computed(function() {
            var coverageId = self.chosenCoverageId();
            if (coverageId >= 0 && coverageId < self.coverageList().length) {
                return self.coverageList()[coverageId].name;
            } else {
                return null;
            }
        });
        self.chosenCoverageCssClass = ko.computed(function() {
            var chosenCoverageName = self.chosenCoverageName();
            if (chosenCoverageName) {
                return chosenCoverageName.toLowerCase();
            } else {
                return null;
            }
        });
        self.buyOnlineCoveragePercentage = ko.computed(function() {
            return ((self.chosenCoverageId() / (self.coverageList().length - 1)) * 100 - 5) + "%";
        });
        self.chosenCoverageId.subscribe(function() {
            if (izQuote['coverage'] !== self.chosenCoverageId()) {
                self.coverageModalEnabled(false);
                izQuote['coverage'] = parseInt(self.chosenCoverageId(), 10);
                self.getMinimumAndSetCoverage(true);
                IZ.Utils.trackChangeEvent('coverage');
            }
        });
        postal.subscribe({channel: "main",topic: "check_minimum_coverage",callback: function() {
                self.getMinimumAndSetCoverage(false);
            }});
        postal.subscribe({channel: "main",topic: "coverageList.update",callback: function(data) {
                populateCoverageList(data.stateCoverageOptions);
            }});
        function setMinimumCoverage(result, shouldReload) {
            var minimumCoverageJson = result;
            if (minimumCoverageJson != null) {
                var minimumCoverage = minimumCoverageJson['min_coverage'];
                if (minimumCoverage > parseInt(izQuote['coverage'], 10)) {
                    var vehicleText = '';
                    var vehiclesNum = minimumCoverageJson['vehicles'].length;
                    if (vehiclesNum === 0) {
                        vehicleText = 'vehicle';
                    } else if (vehiclesNum === 1) {
                        vehicleText = minimumCoverageJson['vehicles'][0];
                    } else {
                        var lastVehicle = minimumCoverageJson['vehicles'][vehiclesNum - 1];
                        vehicleText = minimumCoverageJson['vehicles'].splice(0, vehiclesNum - 1).join(', ');
                        vehicleText += ' & ' + lastVehicle;
                    }
                    apprise(IZ.Utils.appriseAlertbox('Notice:', 'Since you are ' + minimumCoverageJson['min_coverage_type'] + ' your ' + 
                    vehicleText + ', you <span>must select a greater level of coverage.</span> The state or manufacturer has minimum requirements as it relates to vehicles that are leased or financed.'), {'textOk': 'OKAY - I understand'}, function() {
                        izQuote['coverage'] = minimumCoverage;
                        self.chosenCoverageId(minimumCoverage);
                        postal.publish({channel: "main",topic: "coverage.changed",data: {}});
                    });
                } else if (shouldReload) {
                    postal.publish({channel: "main",topic: "coverage.changed",data: {}});
                }
            }
        }
        self.getMinimumAndSetCoverage = function(shouldReload) {
            if (izQuote['state'] !== undefined && izQuote['vehicles'] !== undefined) {
                var vehicles = $.map(izQuote['vehicles'], function(value) {
                    if (value) {
                        return value;
                    }
                });
                $.csrfAjax({url: "/get-minimum-coverage/",type: "GET",dataType: 'json',data: {'vehicles': JSON.stringify(vehicles),'state': izQuote['state']},success: function(result) {
                        setMinimumCoverage(result, shouldReload);
                    },error: function(result) {
                        if (result.status !== 400) {
                            IZ.Utils.raiseAjaxError();
                        }
                    }});
            }
        };
    };
})(IZ, jQuery, postal, window.getCoverageOptions ? window.getCoverageOptions() : [], window.getCoverageOptionsDict ? window.getCoverageOptionsDict() : {});
ko.bindingHandlers.allowQuestion = {update: function(element, valueAccessor) {
        var value = valueAccessor();
        if (!value.checkObservable) {
            if (value.updateList !== undefined) {
                value.updateList.remove(function(item) {
                    return item === value.updateObservable;
                });
            }
            if (value.value !== undefined) {
                value.updateObservable(value.value);
            } else {
                value.updateObservable(null);
            }
        } else if (value.updateList !== undefined && $.inArray(value.updateObservable, value.updateList()) === -1) {
            value.updateList.push(value.updateObservable);
        }
    }};
ko.bindingHandlers.checkbox = {init: function(element, valueAccessor) {
        setTimeout(function() {
            var item = $(element), val = item.val(), observable = valueAccessor();
            item.on('ifChanged', function() {
                if (item.is(':checked')) {
                    if ($.inArray(val, observable()) === -1) {
                        observable.push(val);
                    }
                } else {
                    observable.remove(val);
                }
            }).iCheck();
            if ($.inArray(val, observable()) > -1) {
                item.iCheck('check');
            }
        }, 0);
    }};
ko.bindingHandlers.changeClass = {update: function(element, valueAccessor) {
        var value = valueAccessor();
        $(element).removeClass('neutral up down').addClass(value);
    }};
ko.bindingHandlers.fadeToggle = {update: function(element, valueAccessor) {
        var value = valueAccessor();
        if (ko.utils.unwrapObservable(value.toggleObservable())) {
            $(value.infoSelector).fadeOut('fast', function() {
                $(value.entrySelector).fadeIn('fast');
            });
        } else {
            $(value.entrySelector).fadeOut('fast', function() {
                $(value.infoSelector).fadeIn('fast');
            });
        }
    }};
ko.bindingHandlers.lightbox = {update: function(element, valueAccessor) {
        var value = valueAccessor();
        if (ko.utils.unwrapObservable(value.observable())) {
            setTimeout(function() {
                $(element).lightbox_me({centered: true,closeClick: value.closeClick ? true : false,closeEsc: value.closeEsc ? true : false,closeSelector: value.closeSelector,onLoad: function() {
                        if (value.focusInput) {
                            $(element).find('input').focus();
                        }
                    },onClose: function() {
                        value.observable(false);
                        if (value.triggerResize) {
                            $(window).trigger('resize');
                        }
                    }});
            }, 0);
        }
    }};
var oldHasFocus = ko.bindingHandlers.hasfocus.update;
ko.bindingHandlers.hasfocus.update = function(element, valueAccessor) {
    setTimeout(function() {
        if (!$('html').is('.ie8') || $(element).is(':visible')) {
            oldHasFocus(element, valueAccessor);
        }
    }, 0);
};
ko.bindingHandlers.slideDownMessage = {init: function(element, valueAccessor) {
        var value = valueAccessor();
        $(element).toggle(value.visible);
    },update: function(element, valueAccessor) {
        var value = valueAccessor();
        var $elem = $(element);
        if (value.visible) {
            if (value.slideDownDelay !== undefined) {
                $elem.delay(value.slideDownDelay).slideDown(value.speed, value.complete);
            } else {
                $elem.slideDown(value.speed, value.complete);
            }
        } else {
            $elem.slideUp(value.slideUpSpeed !== undefined ? value.slideUpSpeed : value.speed);
        }
        if (value.shakeWhen && value.visible) {
            $elem.effect('bounce', {easing: 'swing',times: 5,distance: 12}, 350);
        }
    }};
ko.bindingHandlers.valid = {init: function(element, valueAccessor) {
        var valid = valueAccessor();
        if (valid) {
            $(element).removeClass('invalid');
        } else {
            $(element).addClass('invalid');
        }
    },update: function(element, valueAccessor) {
        var valid = valueAccessor();
        if (valid) {
            $(element).removeClass('invalid');
        } else {
            $(element).addClass('invalid');
        }
    }};
ko.bindingHandlers.vehicleTypeAhead = (function() {
    var vehicles = [], vehicleNameMap = {};
    var sourceFunction = function(query, process) {
        var i = 0, length = vehicles.length, results = [];
        for (; i < length; i++) {
            var currentVehicle = vehicles[i], displayName = currentVehicle.displayName();
            vehicleNameMap[displayName] = currentVehicle.id();
            results.push(displayName);
        }
        process(results);
    };
    var matcher = function() {
        return true;
    };
    var highlighter = function(item) {
        return item;
    };
    var updaterCreator = function(vehicleObservable) {
        return function(item) {
            vehicleObservable().notifying(true);
            vehicleObservable().displayName(item);
            vehicleObservable().id(vehicleNameMap[item]);
            return item;
        };
    };
    var createUpdateData = function(vehicleObservable) {
        return function(event, $elem) {
            $elem.removeClass('placeholder');
            var text = $elem.val();
            if ($.trim(text) !== '') {
                IZ.Vehicle.query(text, function(results) {
                    vehicles = results;
                    if (results.length === 0) {
                        vehicleObservable().id(undefined);
                    }
                    $elem.trigger("keyup");
                });
            }
        };
    };
    return {init: function(element, vehicleObservable) {
            var $elem = $(element);
            $elem.typing({stop: createUpdateData(vehicleObservable),delay: 400});
            $elem.typeahead({source: sourceFunction,matcher: matcher,highlighter: highlighter,updater: updaterCreator(vehicleObservable),items: 20});
            $('ul.typeahead').on('mousedown', function(e) {
                if ($('html').is('.ie8')) {
                    vehicleObservable().ie8IgnoreVehicleChange(true);
                }
                e.preventDefault();
            });
        }};
})();
ko.bindingHandlers.jScrollPane = {init: function(element, valueAccessor) {
        var value = valueAccessor(), el = $(element);
        if (value && !$.isEmptyObject(value)) {
            el.jScrollPane(value);
        } else {
            el.jScrollPane({autoReinitialise: true,contentWidth: '0px'});
        }
        postal.subscribe({channel: "main",topic: "madlib.vehicles.updated",callback: function() {
                $.data(el[0], 'jsp').scrollToY(0, false);
            }});
    }};
(function() {
    function getToString(value) {
        if (value === undefined || value === null) {
            return "";
        } else {
            return value.toString();
        }
    }
    ko.bindingHandlers.select2 = {init: function(element, valueAccessor) {
            var observable = (valueAccessor().value) ? valueAccessor().value : valueAccessor();
            var hasObservable = ko.isObservable(observable), value = hasObservable ? getToString(observable()) : '', $element = $(element), select2_options = {};
            var dropdownCssClass = $element.attr('data-select2-dropdown-css-class');
            if (dropdownCssClass) {
                select2_options.dropdownCssClass = dropdownCssClass;
            }
            $element.select2(select2_options);
            $element.val(value).trigger("change");
            if (hasObservable) {
                $element.on('change', function() {
                    observable($element.val());
                });
            }
        },update: function(element, valueAccessor) {
            var observable = (valueAccessor().value) ? valueAccessor().value : valueAccessor();
            var hasObservable = ko.isObservable(observable), value = hasObservable ? getToString(observable()) : '', $element = $(element), select2_options = {};
            var dropdownCssClass = $element.attr('data-select2-dropdown-css-class');
            if (dropdownCssClass) {
                select2_options.dropdownCssClass = dropdownCssClass;
            }
            $element.val(value).trigger("change");
            if (valueAccessor().valid) {
                select2_options.containerCssClass = 'select2-invalid';
            }
            $element.select2(select2_options);
        }};
})();
(function() {
    function setICheckValue($radio, value) {
        var length = $radio.length, normalizedValue;
        if (value !== null && value !== undefined) {
            normalizedValue = value.toString();
        }
        for (var i = 0; i < length; i++) {
            var $input = $($radio[i]);
            if (value === null || value === undefined || $input.attr('check-val') !== normalizedValue) {
                $input.iCheck('uncheck');
            } else {
                $input.iCheck('check');
            }
        }
    }
    ko.bindingHandlers.icheck = {var : function(element, valueAccessor) {
            var shouldDelay = false, value = valueAccessor();
            if (!ko.isObservable(value)) {
                shouldDelay = value.delay;
                value = value.value;
            }
            var realInit = function() {
                var $radio = $(element).find('input');
                $radio.on("ifCreated", function() {
                    var $input = $(this), $div = $input.parent(), $label = $div.nextAll("label:first");
                    $label.appendTo($div);
                    setICheckValue($radio, value());
                }).on('ifClicked', function(event) {
                    var selectedValue = event.target.getAttribute('check-val');
                    setICheckValue($radio, selectedValue);
                    value(selectedValue);
                });
                if ($(element).hasClass("togglers")) {
                    $radio.iCheck({radioClass: "big-toggle"});
                } else {
                    $radio.iCheck();
                }
            };
            if (shouldDelay) {
                setTimeout(realInit, 0);
            } else {
                realInit();
            }
        },update: function(element, valueAccessor) {
            var $inputs = $(element).find('input'), value = valueAccessor();
            if (!ko.isObservable(value)) {
                value = value.value;
            }
            setICheckValue($inputs, value());
        }};
})();
ko.bindingHandlers.shake = {update: function(element, valueAccessor) {
        if (valueAccessor()) {
            $(element).effect('bounce', {easing: 'swing',times: 5,distance: 12}, 350);
        }
    }};
ko.bindingHandlers.addTabButton = {init: function(element, valueAccessor, allBindingsAccessor, viewModel) {
        var $elem = $(element);
        var value = valueAccessor();
        $elem.toggle(value.visible());
        $elem.on('click', function(event) {
            var tabs = viewModel.tabs();
            viewModel.addNewTab();
            viewModel.selected(tabs.length - 1);
            event.preventDefault();
        });
    },update: function(element, valueAccessor) {
        var value = valueAccessor();
        var $elem = $(element);
        if (value.visible()) {
            $elem.show();
        } else {
            $elem.hide();
        }
        if (value.last()) {
            $elem.addClass('last');
        } else {
            $elem.removeClass('last');
        }
    }};
ko.bindingHandlers.placeholder = {init: function(element, valueAccessor) {
        setTimeout(function() {
            var el = $(element), value = valueAccessor();
            el.placeholder();
            if (el.data('placeholder-enabled') === true && ko.isObservable(value.name)) {
                value.name(el[0].value);
            }
        }, 500);
    }};
ko.bindingHandlers.showModal = {init: function(element, valueAccessor) {
        var value = valueAccessor();
        $(element).on('hidden', function() {
            value(false);
        });
    },update: function(element, valueAccessor) {
        var value = valueAccessor();
        if (ko.utils.unwrapObservable(value())) {
            $(element).modal('show');
        } 
        else {
            $(element).modal('hide');
        }
    }};
ko.bindingHandlers.hoverToggle = {update: function(element, valueAccessor) {
        var value = valueAccessor();
        ko.utils.registerEventHandler(element, "mouseover", function() {
            $('.' + value.options).removeClass(value.addClass);
            ko.utils.toggleDomNodeCssClass(element, ko.utils.unwrapObservable(value.addClass), true);
        });
        ko.utils.registerEventHandler(element, "mouseleave", function() {
            ko.utils.toggleDomNodeCssClass(element, ko.utils.unwrapObservable(value.addClass), false);
        });
    }};
ko.bindingHandlers.formatCurrency = {update: function(element) {
        $(element).formatCurrency({roundToDecimalPlace: 0,symbol: "<span>$</span>"});
    }};
(function() {
    function setClass(value, $label) {
        if (value()) {
            $label.addClass('checkbox_slide');
        } else {
            $label.removeClass('checkbox_slide');
        }
    }
    ko.bindingHandlers.togglebox = {init: function(element, valueAccessor) {
            setClass(valueAccessor(), $(element).next('label'));
            ko.bindingHandlers['checked'].init(element, valueAccessor);
        },update: function(element, valueAccessor) {
            setClass(valueAccessor(), $(element).next('label'));
            ko.bindingHandlers['checked'].update(element, valueAccessor);
        }};
})();
ko.bindingHandlers.reapplyBinding = {update: function(element, valueAccessor) {
        var value = valueAccessor();
        setTimeout(function() {
            if (value.value) {
                var elementToReBind = $(value.selectorClass);
                ko.cleanNode(elementToReBind[elementToReBind.length - 1]);
                ko.applyBindings(value.viewModel, elementToReBind[elementToReBind.length - 1]);
            }
        }, 0);
    }};
$(function() {
    Raven.config(window.ravenDSN, {whitelistUrls: [/localhost/, /insurancezebra\.com/]}).install();
    var izQuoteViewModel = new IZ.QuoteViewModel(izQuote);
    IZ.init();
    ko.applyBindings(izQuoteViewModel);
    $.ajaxSetup({crossDomain: false});
    IZ.Utils.initPopovers('.js_popover_tt');
    IZ.Utils.fixIECloseButton();
    postal.publish({channel: "main",topic: "izQuote_age_first_licensed.init"});
    izQuoteViewModel.processEstimates();
    izQuoteViewModel.coverageVM.getMinimumAndSetCoverage(false);
    $("input:checkbox[name!=filterCarrier]").not(".tinyToggle input").iCheck();
    window.googleEventTracking('start-app', 'start-app', window.sessionKey);
    $('.js_scroll_container,.jspScrollable').scroll(function() {
        var popover_src = $('[data-toggle="popover"]:hover');
        if (popover_src.length) {
            var popover = popover_src.data('popover');
            var this_tip = popover !== undefined && popover !== null ? popover.$tip : null;
            if (this_tip !== null && this_tip.is(':visible') && !this_tip.hasClass('faded')) {
                this_tip.addClass('faded');
                popover_src.popover("hide");
            }
        }
    });
    IZ.ROUTES = {DRIVERS: "drivers",INCIDENTS: "incidents",VEHICLES: "vehicles",DISCOUNTS: "discounts"};
    IZ.SIDEBAR_BUTTONS = {DRIVERS: $("#driversTitle"),VEHICLES: $("#vehiclesTitle"),DISCOUNTS: $("#discountsTitle")};
    function resizeSidebar($sidebarButton, shouldTriggerResize) {
        IZ.setSideBoxHeight($sidebarButton.find('.tab-subcontent'));
        if (shouldTriggerResize) {
            setTimeout(function() {
                $(window).trigger('resize');
            }, $.fx.speeds._default + 100);
        }
    }
    Sammy(function() {
        var $sidebar = $("#sidebar");
        this.get('/compare/', function() {
        });
        this.get('#' + IZ.ROUTES.DRIVERS, function() {
            $sidebar.accordion("option", {active: 0});
            izQuoteViewModel.currentlyActiveTab('drivers');
            izQuoteViewModel.getEstimates(true, "#" + IZ.ROUTES.DRIVERS);
            resizeSidebar(IZ.SIDEBAR_BUTTONS.DRIVERS);
        });
        this.get('#' + IZ.ROUTES.INCIDENTS, function() {
            $sidebar.accordion("option", {active: 0});
            izQuoteViewModel.currentlyActiveTab('drivers');
            $('.showIncidents:visible').click();
        });
        this.get('#' + IZ.ROUTES.VEHICLES, function() {
            $sidebar.accordion("option", {active: 1});
            izQuoteViewModel.currentlyActiveTab('vehicles');
            izQuoteViewModel.getEstimates(true, "#" + IZ.ROUTES.VEHICLES);
            resizeSidebar(IZ.SIDEBAR_BUTTONS.VEHICLES);
        });
        this.get('#' + IZ.ROUTES.DISCOUNTS, function() {
            $sidebar.accordion("option", {active: 2});
            izQuoteViewModel.currentlyActiveTab('discount');
            izQuoteViewModel.getEstimates(true, "#" + IZ.ROUTES.DISCOUNTS);
            resizeSidebar(IZ.SIDEBAR_BUTTONS.DISCOUNTS, true);
        });
    }).run();
    izQuoteViewModel.enableNotification();
});
(function() {
    window.olark || (function(c) {
        var f = window, d = document, l = f.location.protocol == "https:" ? "https:" : "http:", z = c.name, r = "load";
        var nt = function() {
            f[z] = function() {
                (a.s = a.s || []).push(arguments)
            };
            var a = f[z]._ = {}, q = c.methods.length;
            while (q--) {
                (function(n) {
                    f[z][n] = function() {
                        f[z]("call", n, arguments)
                    }
                })(c.methods[q])
            }
            a.l = c.loader;
            a.i = nt;
            a.p = {0: +new Date};
            a.P = function(u) {
                a.p[u] = new Date - a.p[0]
            };
            function s() {
                a.P(r);
                f[z](r)
            }
            f.addEventListener ? f.addEventListener(r, s, false) : f.attachEvent("on" + r, s);
            var ld = function() {
                function p(hd) {
                    hd = "head";
                    return ["<", hd, "></", hd, "><", i, ' onl' + 'oad="var d=', g, ";d.getElementsByTagName('head')[0].", j, "(d.", h, "('script')).", k, "='", l, "//", a.l, "'", '"', "></", i, ">"].join("")
                }
                var i = "body", m = d[i];
                if (!m) {
                    return setTimeout(ld, 100)
                }
                a.P(1);
                var j = "appendChild", h = "createElement", k = "src", n = d[h]("div"), v = n[j](d[h](z)), b = d[h]("iframe"), g = "document", e = "domain", o;
                n.style.display = "none";
                m.insertBefore(n, m.firstChild).id = z;
                b.frameBorder = "0";
                b.id = z + "-loader";
                if (/MSIE[ ]+6/.test(navigator.userAgent)) {
                    b.src = "javascript:false"
                }
                b.allowTransparency = "true";
                v[j](b);
                try {
                    b.contentWindow[g].open()
                } catch (w) {
                    c[e] = d[e];
                    o = "javascript:var d=" + g + ".open();d.domain='" + d.domain + "';";
                    b[k] = o + "void(0);"
                }
                try {
                    var t = b.contentWindow[g];
                    t.write(p());
                    t.close()
                } catch (x) {
                    b[k] = o + 'd.write("' + p().replace(/"/g, String.fromCharCode(92) + '"') + '");d.close();'
                }
                a.P(2)
            };
            ld()
        };
        nt()
    })({loader: "static.olark.com/jsclient/loader0.js",name: "olark",methods: ["configure", "extend", "declare", "identify"]});
    olark.identify('5228-175-10-2859');
})();
(function() {
    olark.configure('box.start_hidden', true);
    var clearTopBarOnClickHandlers = function() {
        var topBar = $('#habla_topbar_div');
        if (topBar.length > 0) {
            topBar[0].onclick = null;
            $('#habla_oplink_a')[0].onclick = null;
        }
    };
    olark('api.box.onShow', clearTopBarOnClickHandlers);
    olark('api.box.onExpand', clearTopBarOnClickHandlers);
})();
